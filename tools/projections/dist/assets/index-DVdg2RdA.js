var Cc=Object.defineProperty;var Tc=(e,t,s)=>t in e?Cc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var at=(e,t,s)=>Tc(e,typeof t!="symbol"?t+"":t,s);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&i(r)}).observe(document,{childList:!0,subtree:!0});function s(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(n){if(n.ep)return;n.ep=!0;const o=s(n);fetch(n.href,o)}})();/**
* @vue/shared v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function ho(e){const t=Object.create(null);for(const s of e.split(","))t[s]=1;return s=>s in t}const vt={},xs=[],Se=()=>{},zl=()=>!1,un=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),go=e=>e.startsWith("onUpdate:"),Kt=Object.assign,po=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},Oc=Object.prototype.hasOwnProperty,bt=(e,t)=>Oc.call(e,t),et=Array.isArray,ys=e=>gi(e)==="[object Map]",fn=e=>gi(e)==="[object Set]",Jo=e=>gi(e)==="[object Date]",lt=e=>typeof e=="function",Et=e=>typeof e=="string",Ce=e=>typeof e=="symbol",St=e=>e!==null&&typeof e=="object",Bl=e=>(St(e)||lt(e))&&lt(e.then)&&lt(e.catch),Hl=Object.prototype.toString,gi=e=>Hl.call(e),Pc=e=>gi(e).slice(8,-1),Nl=e=>gi(e)==="[object Object]",mo=e=>Et(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Ws=ho(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),hn=e=>{const t=Object.create(null);return(s=>t[s]||(t[s]=e(s)))},Ac=/-\w/g,Ge=hn(e=>e.replace(Ac,t=>t.slice(1).toUpperCase())),Dc=/\B([A-Z])/g,Ze=hn(e=>e.replace(Dc,"-$1").toLowerCase()),Vl=hn(e=>e.charAt(0).toUpperCase()+e.slice(1)),kn=hn(e=>e?`on${Vl(e)}`:""),Ke=(e,t)=>!Object.is(e,t),Li=(e,...t)=>{for(let s=0;s<e.length;s++)e[s](...t)},jl=(e,t,s,i=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:i,value:s})},Ui=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Zo;const dn=()=>Zo||(Zo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function gn(e){if(et(e)){const t={};for(let s=0;s<e.length;s++){const i=e[s],n=Et(i)?Rc(i):gn(i);if(n)for(const o in n)t[o]=n[o]}return t}else if(Et(e)||St(e))return e}const Ec=/;(?![^(]*\))/g,Ic=/:([^]+)/,Fc=/\/\*[^]*?\*\//g;function Rc(e){const t={};return e.replace(Fc,"").split(Ec).forEach(s=>{if(s){const i=s.split(Ic);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}function Te(e){let t="";if(Et(e))t=e;else if(et(e))for(let s=0;s<e.length;s++){const i=Te(e[s]);i&&(t+=i+" ")}else if(St(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}const Lc="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",$c=ho(Lc);function Wl(e){return!!e||e===""}function zc(e,t){if(e.length!==t.length)return!1;let s=!0;for(let i=0;s&&i<e.length;i++)s=pn(e[i],t[i]);return s}function pn(e,t){if(e===t)return!0;let s=Jo(e),i=Jo(t);if(s||i)return s&&i?e.getTime()===t.getTime():!1;if(s=Ce(e),i=Ce(t),s||i)return e===t;if(s=et(e),i=et(t),s||i)return s&&i?zc(e,t):!1;if(s=St(e),i=St(t),s||i){if(!s||!i)return!1;const n=Object.keys(e).length,o=Object.keys(t).length;if(n!==o)return!1;for(const r in e){const l=e.hasOwnProperty(r),a=t.hasOwnProperty(r);if(l&&!a||!l&&a||!pn(e[r],t[r]))return!1}}return String(e)===String(t)}function Bc(e,t){return e.findIndex(s=>pn(s,t))}const Ul=e=>!!(e&&e.__v_isRef===!0),gt=e=>Et(e)?e:e==null?"":et(e)||St(e)&&(e.toString===Hl||!lt(e.toString))?Ul(e)?gt(e.value):JSON.stringify(e,Kl,2):String(e),Kl=(e,t)=>Ul(t)?Kl(e,t.value):ys(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[i,n],o)=>(s[Cn(i,o)+" =>"]=n,s),{})}:fn(t)?{[`Set(${t.size})`]:[...t.values()].map(s=>Cn(s))}:Ce(t)?Cn(t):St(t)&&!et(t)&&!Nl(t)?String(t):t,Cn=(e,t="")=>{var s;return Ce(e)?`Symbol(${(s=e.description)!=null?s:t})`:e};/**
* @vue/reactivity v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let qt;class Hc{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=qt,!t&&qt&&(this.index=(qt.scopes||(qt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].pause();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].resume();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].resume()}}run(t){if(this._active){const s=qt;try{return qt=this,t()}finally{qt=s}}}on(){++this._on===1&&(this.prevScope=qt,qt=this)}off(){this._on>0&&--this._on===0&&(qt=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let s,i;for(s=0,i=this.effects.length;s<i;s++)this.effects[s].stop();for(this.effects.length=0,s=0,i=this.cleanups.length;s<i;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,i=this.scopes.length;s<i;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0}}}function Nc(){return qt}let wt;const Tn=new WeakSet;class Yl{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,qt&&qt.active&&qt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Tn.has(this)&&(Tn.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Xl(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Qo(this),ql(this);const t=wt,s=de;wt=this,de=!0;try{return this.fn()}finally{Jl(this),wt=t,de=s,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)yo(t);this.deps=this.depsTail=void 0,Qo(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Tn.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Wn(this)&&this.run()}get dirty(){return Wn(this)}}let Gl=0,Us,Ks;function Xl(e,t=!1){if(e.flags|=8,t){e.next=Ks,Ks=e;return}e.next=Us,Us=e}function bo(){Gl++}function xo(){if(--Gl>0)return;if(Ks){let t=Ks;for(Ks=void 0;t;){const s=t.next;t.next=void 0,t.flags&=-9,t=s}}let e;for(;Us;){let t=Us;for(Us=void 0;t;){const s=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(i){e||(e=i)}t=s}}if(e)throw e}function ql(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Jl(e){let t,s=e.depsTail,i=s;for(;i;){const n=i.prevDep;i.version===-1?(i===s&&(s=n),yo(i),Vc(i)):t=i,i.dep.activeLink=i.prevActiveLink,i.prevActiveLink=void 0,i=n}e.deps=t,e.depsTail=s}function Wn(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Zl(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Zl(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===ii)||(e.globalVersion=ii,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!Wn(e))))return;e.flags|=2;const t=e.dep,s=wt,i=de;wt=e,de=!0;try{ql(e);const n=e.fn(e._value);(t.version===0||Ke(n,e._value))&&(e.flags|=128,e._value=n,t.version++)}catch(n){throw t.version++,n}finally{wt=s,de=i,Jl(e),e.flags&=-3}}function yo(e,t=!1){const{dep:s,prevSub:i,nextSub:n}=e;if(i&&(i.nextSub=n,e.prevSub=void 0),n&&(n.prevSub=i,e.nextSub=void 0),s.subs===e&&(s.subs=i,!i&&s.computed)){s.computed.flags&=-5;for(let o=s.computed.deps;o;o=o.nextDep)yo(o,!0)}!t&&!--s.sc&&s.map&&s.map.delete(s.key)}function Vc(e){const{prevDep:t,nextDep:s}=e;t&&(t.nextDep=s,e.prevDep=void 0),s&&(s.prevDep=t,e.nextDep=void 0)}let de=!0;const Ql=[];function ze(){Ql.push(de),de=!1}function Be(){const e=Ql.pop();de=e===void 0?!0:e}function Qo(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const s=wt;wt=void 0;try{t()}finally{wt=s}}}let ii=0;class jc{constructor(t,s){this.sub=t,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class vo{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!wt||!de||wt===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==wt)s=this.activeLink=new jc(wt,this),wt.deps?(s.prevDep=wt.depsTail,wt.depsTail.nextDep=s,wt.depsTail=s):wt.deps=wt.depsTail=s,ta(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const i=s.nextDep;i.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=i),s.prevDep=wt.depsTail,s.nextDep=void 0,wt.depsTail.nextDep=s,wt.depsTail=s,wt.deps===s&&(wt.deps=i)}return s}trigger(t){this.version++,ii++,this.notify(t)}notify(t){bo();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{xo()}}}function ta(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let i=t.deps;i;i=i.nextDep)ta(i)}const s=e.dep.subs;s!==e&&(e.prevSub=s,s&&(s.nextSub=e)),e.dep.subs=e}}const Un=new WeakMap,us=Symbol(""),Kn=Symbol(""),ni=Symbol("");function Ht(e,t,s){if(de&&wt){let i=Un.get(e);i||Un.set(e,i=new Map);let n=i.get(s);n||(i.set(s,n=new vo),n.map=i,n.key=s),n.track()}}function Re(e,t,s,i,n,o){const r=Un.get(e);if(!r){ii++;return}const l=a=>{a&&a.trigger()};if(bo(),t==="clear")r.forEach(l);else{const a=et(e),c=a&&mo(s);if(a&&s==="length"){const u=Number(i);r.forEach((f,h)=>{(h==="length"||h===ni||!Ce(h)&&h>=u)&&l(f)})}else switch((s!==void 0||r.has(void 0))&&l(r.get(s)),c&&l(r.get(ni)),t){case"add":a?c&&l(r.get("length")):(l(r.get(us)),ys(e)&&l(r.get(Kn)));break;case"delete":a||(l(r.get(us)),ys(e)&&l(r.get(Kn)));break;case"set":ys(e)&&l(r.get(us));break}}xo()}function ps(e){const t=mt(e);return t===e?t:(Ht(t,"iterate",ni),ae(e)?t:t.map(zt))}function mn(e){return Ht(e=mt(e),"iterate",ni),e}const Wc={__proto__:null,[Symbol.iterator](){return On(this,Symbol.iterator,zt)},concat(...e){return ps(this).concat(...e.map(t=>et(t)?ps(t):t))},entries(){return On(this,"entries",e=>(e[1]=zt(e[1]),e))},every(e,t){return Pe(this,"every",e,t,void 0,arguments)},filter(e,t){return Pe(this,"filter",e,t,s=>s.map(zt),arguments)},find(e,t){return Pe(this,"find",e,t,zt,arguments)},findIndex(e,t){return Pe(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Pe(this,"findLast",e,t,zt,arguments)},findLastIndex(e,t){return Pe(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Pe(this,"forEach",e,t,void 0,arguments)},includes(...e){return Pn(this,"includes",e)},indexOf(...e){return Pn(this,"indexOf",e)},join(e){return ps(this).join(e)},lastIndexOf(...e){return Pn(this,"lastIndexOf",e)},map(e,t){return Pe(this,"map",e,t,void 0,arguments)},pop(){return Ds(this,"pop")},push(...e){return Ds(this,"push",e)},reduce(e,...t){return tr(this,"reduce",e,t)},reduceRight(e,...t){return tr(this,"reduceRight",e,t)},shift(){return Ds(this,"shift")},some(e,t){return Pe(this,"some",e,t,void 0,arguments)},splice(...e){return Ds(this,"splice",e)},toReversed(){return ps(this).toReversed()},toSorted(e){return ps(this).toSorted(e)},toSpliced(...e){return ps(this).toSpliced(...e)},unshift(...e){return Ds(this,"unshift",e)},values(){return On(this,"values",zt)}};function On(e,t,s){const i=mn(e),n=i[t]();return i!==e&&!ae(e)&&(n._next=n.next,n.next=()=>{const o=n._next();return o.done||(o.value=s(o.value)),o}),n}const Uc=Array.prototype;function Pe(e,t,s,i,n,o){const r=mn(e),l=r!==e&&!ae(e),a=r[t];if(a!==Uc[t]){const f=a.apply(e,o);return l?zt(f):f}let c=s;r!==e&&(l?c=function(f,h){return s.call(this,zt(f),h,e)}:s.length>2&&(c=function(f,h){return s.call(this,f,h,e)}));const u=a.call(r,c,i);return l&&n?n(u):u}function tr(e,t,s,i){const n=mn(e);let o=s;return n!==e&&(ae(e)?s.length>3&&(o=function(r,l,a){return s.call(this,r,l,a,e)}):o=function(r,l,a){return s.call(this,r,zt(l),a,e)}),n[t](o,...i)}function Pn(e,t,s){const i=mt(e);Ht(i,"iterate",ni);const n=i[t](...s);return(n===-1||n===!1)&&So(s[0])?(s[0]=mt(s[0]),i[t](...s)):n}function Ds(e,t,s=[]){ze(),bo();const i=mt(e)[t].apply(e,s);return xo(),Be(),i}const Kc=ho("__proto__,__v_isRef,__isVue"),ea=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Ce));function Yc(e){Ce(e)||(e=String(e));const t=mt(this);return Ht(t,"has",e),t.hasOwnProperty(e)}class sa{constructor(t=!1,s=!1){this._isReadonly=t,this._isShallow=s}get(t,s,i){if(s==="__v_skip")return t.__v_skip;const n=this._isReadonly,o=this._isShallow;if(s==="__v_isReactive")return!n;if(s==="__v_isReadonly")return n;if(s==="__v_isShallow")return o;if(s==="__v_raw")return i===(n?o?iu:ra:o?oa:na).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(i)?t:void 0;const r=et(t);if(!n){let a;if(r&&(a=Wc[s]))return a;if(s==="hasOwnProperty")return Yc}const l=Reflect.get(t,s,Vt(t)?t:i);if((Ce(s)?ea.has(s):Kc(s))||(n||Ht(t,"get",s),o))return l;if(Vt(l)){const a=r&&mo(s)?l:l.value;return n&&St(a)?Gn(a):a}return St(l)?n?Gn(l):wo(l):l}}class ia extends sa{constructor(t=!1){super(!1,t)}set(t,s,i,n){let o=t[s];if(!this._isShallow){const a=Xe(o);if(!ae(i)&&!Xe(i)&&(o=mt(o),i=mt(i)),!et(t)&&Vt(o)&&!Vt(i))return a||(o.value=i),!0}const r=et(t)&&mo(s)?Number(s)<t.length:bt(t,s),l=Reflect.set(t,s,i,Vt(t)?t:n);return t===mt(n)&&(r?Ke(i,o)&&Re(t,"set",s,i):Re(t,"add",s,i)),l}deleteProperty(t,s){const i=bt(t,s);t[s];const n=Reflect.deleteProperty(t,s);return n&&i&&Re(t,"delete",s,void 0),n}has(t,s){const i=Reflect.has(t,s);return(!Ce(s)||!ea.has(s))&&Ht(t,"has",s),i}ownKeys(t){return Ht(t,"iterate",et(t)?"length":us),Reflect.ownKeys(t)}}class Gc extends sa{constructor(t=!1){super(!0,t)}set(t,s){return!0}deleteProperty(t,s){return!0}}const Xc=new ia,qc=new Gc,Jc=new ia(!0);const Yn=e=>e,xi=e=>Reflect.getPrototypeOf(e);function Zc(e,t,s){return function(...i){const n=this.__v_raw,o=mt(n),r=ys(o),l=e==="entries"||e===Symbol.iterator&&r,a=e==="keys"&&r,c=n[e](...i),u=s?Yn:t?Ki:zt;return!t&&Ht(o,"iterate",a?Kn:us),{next(){const{value:f,done:h}=c.next();return h?{value:f,done:h}:{value:l?[u(f[0]),u(f[1])]:u(f),done:h}},[Symbol.iterator](){return this}}}}function yi(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Qc(e,t){const s={get(n){const o=this.__v_raw,r=mt(o),l=mt(n);e||(Ke(n,l)&&Ht(r,"get",n),Ht(r,"get",l));const{has:a}=xi(r),c=t?Yn:e?Ki:zt;if(a.call(r,n))return c(o.get(n));if(a.call(r,l))return c(o.get(l));o!==r&&o.get(n)},get size(){const n=this.__v_raw;return!e&&Ht(mt(n),"iterate",us),n.size},has(n){const o=this.__v_raw,r=mt(o),l=mt(n);return e||(Ke(n,l)&&Ht(r,"has",n),Ht(r,"has",l)),n===l?o.has(n):o.has(n)||o.has(l)},forEach(n,o){const r=this,l=r.__v_raw,a=mt(l),c=t?Yn:e?Ki:zt;return!e&&Ht(a,"iterate",us),l.forEach((u,f)=>n.call(o,c(u),c(f),r))}};return Kt(s,e?{add:yi("add"),set:yi("set"),delete:yi("delete"),clear:yi("clear")}:{add(n){!t&&!ae(n)&&!Xe(n)&&(n=mt(n));const o=mt(this);return xi(o).has.call(o,n)||(o.add(n),Re(o,"add",n,n)),this},set(n,o){!t&&!ae(o)&&!Xe(o)&&(o=mt(o));const r=mt(this),{has:l,get:a}=xi(r);let c=l.call(r,n);c||(n=mt(n),c=l.call(r,n));const u=a.call(r,n);return r.set(n,o),c?Ke(o,u)&&Re(r,"set",n,o):Re(r,"add",n,o),this},delete(n){const o=mt(this),{has:r,get:l}=xi(o);let a=r.call(o,n);a||(n=mt(n),a=r.call(o,n)),l&&l.call(o,n);const c=o.delete(n);return a&&Re(o,"delete",n,void 0),c},clear(){const n=mt(this),o=n.size!==0,r=n.clear();return o&&Re(n,"clear",void 0,void 0),r}}),["keys","values","entries",Symbol.iterator].forEach(n=>{s[n]=Zc(n,e,t)}),s}function _o(e,t){const s=Qc(e,t);return(i,n,o)=>n==="__v_isReactive"?!e:n==="__v_isReadonly"?e:n==="__v_raw"?i:Reflect.get(bt(s,n)&&n in i?s:i,n,o)}const tu={get:_o(!1,!1)},eu={get:_o(!1,!0)},su={get:_o(!0,!1)};const na=new WeakMap,oa=new WeakMap,ra=new WeakMap,iu=new WeakMap;function nu(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function ou(e){return e.__v_skip||!Object.isExtensible(e)?0:nu(Pc(e))}function wo(e){return Xe(e)?e:Mo(e,!1,Xc,tu,na)}function ru(e){return Mo(e,!1,Jc,eu,oa)}function Gn(e){return Mo(e,!0,qc,su,ra)}function Mo(e,t,s,i,n){if(!St(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=ou(e);if(o===0)return e;const r=n.get(e);if(r)return r;const l=new Proxy(e,o===2?i:s);return n.set(e,l),l}function vs(e){return Xe(e)?vs(e.__v_raw):!!(e&&e.__v_isReactive)}function Xe(e){return!!(e&&e.__v_isReadonly)}function ae(e){return!!(e&&e.__v_isShallow)}function So(e){return e?!!e.__v_raw:!1}function mt(e){const t=e&&e.__v_raw;return t?mt(t):e}function lu(e){return!bt(e,"__v_skip")&&Object.isExtensible(e)&&jl(e,"__v_skip",!0),e}const zt=e=>St(e)?wo(e):e,Ki=e=>St(e)?Gn(e):e;function Vt(e){return e?e.__v_isRef===!0:!1}function Tt(e){return au(e,!1)}function au(e,t){return Vt(e)?e:new cu(e,t)}class cu{constructor(t,s){this.dep=new vo,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?t:mt(t),this._value=s?t:zt(t),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(t){const s=this._rawValue,i=this.__v_isShallow||ae(t)||Xe(t);t=i?t:mt(t),Ke(t,s)&&(this._rawValue=t,this._value=i?t:zt(t),this.dep.trigger())}}function Ft(e){return Vt(e)?e.value:e}const uu={get:(e,t,s)=>t==="__v_raw"?e:Ft(Reflect.get(e,t,s)),set:(e,t,s,i)=>{const n=e[t];return Vt(n)&&!Vt(s)?(n.value=s,!0):Reflect.set(e,t,s,i)}};function la(e){return vs(e)?e:new Proxy(e,uu)}class fu{constructor(t,s,i){this.fn=t,this.setter=s,this._value=void 0,this.dep=new vo(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=ii-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=i}notify(){if(this.flags|=16,!(this.flags&8)&&wt!==this)return Xl(this,!0),!0}get value(){const t=this.dep.track();return Zl(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function hu(e,t,s=!1){let i,n;return lt(e)?i=e:(i=e.get,n=e.set),new fu(i,n,s)}const vi={},Yi=new WeakMap;let ns;function du(e,t=!1,s=ns){if(s){let i=Yi.get(s);i||Yi.set(s,i=[]),i.push(e)}}function gu(e,t,s=vt){const{immediate:i,deep:n,once:o,scheduler:r,augmentJob:l,call:a}=s,c=T=>n?T:ae(T)||n===!1||n===0?Le(T,1):Le(T);let u,f,h,d,b=!1,x=!1;if(Vt(e)?(f=()=>e.value,b=ae(e)):vs(e)?(f=()=>c(e),b=!0):et(e)?(x=!0,b=e.some(T=>vs(T)||ae(T)),f=()=>e.map(T=>{if(Vt(T))return T.value;if(vs(T))return c(T);if(lt(T))return a?a(T,2):T()})):lt(e)?t?f=a?()=>a(e,2):e:f=()=>{if(h){ze();try{h()}finally{Be()}}const T=ns;ns=u;try{return a?a(e,3,[d]):e(d)}finally{ns=T}}:f=Se,t&&n){const T=f,P=n===!0?1/0:n;f=()=>Le(T(),P)}const m=Nc(),_=()=>{u.stop(),m&&m.active&&po(m.effects,u)};if(o&&t){const T=t;t=(...P)=>{T(...P),_()}}let C=x?new Array(e.length).fill(vi):vi;const D=T=>{if(!(!(u.flags&1)||!u.dirty&&!T))if(t){const P=u.run();if(n||b||(x?P.some((H,N)=>Ke(H,C[N])):Ke(P,C))){h&&h();const H=ns;ns=u;try{const N=[P,C===vi?void 0:x&&C[0]===vi?[]:C,d];C=P,a?a(t,3,N):t(...N)}finally{ns=H}}}else u.run()};return l&&l(D),u=new Yl(f),u.scheduler=r?()=>r(D,!1):D,d=T=>du(T,!1,u),h=u.onStop=()=>{const T=Yi.get(u);if(T){if(a)a(T,4);else for(const P of T)P();Yi.delete(u)}},t?i?D(!0):C=u.run():r?r(D.bind(null,!0),!0):u.run(),_.pause=u.pause.bind(u),_.resume=u.resume.bind(u),_.stop=_,_}function Le(e,t=1/0,s){if(t<=0||!St(e)||e.__v_skip||(s=s||new Map,(s.get(e)||0)>=t))return e;if(s.set(e,t),t--,Vt(e))Le(e.value,t,s);else if(et(e))for(let i=0;i<e.length;i++)Le(e[i],t,s);else if(fn(e)||ys(e))e.forEach(i=>{Le(i,t,s)});else if(Nl(e)){for(const i in e)Le(e[i],t,s);for(const i of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,i)&&Le(e[i],t,s)}return e}/**
* @vue/runtime-core v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function pi(e,t,s,i){try{return i?e(...i):e()}catch(n){bn(n,t,s)}}function Oe(e,t,s,i){if(lt(e)){const n=pi(e,t,s,i);return n&&Bl(n)&&n.catch(o=>{bn(o,t,s)}),n}if(et(e)){const n=[];for(let o=0;o<e.length;o++)n.push(Oe(e[o],t,s,i));return n}}function bn(e,t,s,i=!0){const n=t?t.vnode:null,{errorHandler:o,throwUnhandledErrorInProduction:r}=t&&t.appContext.config||vt;if(t){let l=t.parent;const a=t.proxy,c=`https://vuejs.org/error-reference/#runtime-${s}`;for(;l;){const u=l.ec;if(u){for(let f=0;f<u.length;f++)if(u[f](e,a,c)===!1)return}l=l.parent}if(o){ze(),pi(o,null,10,[e,a,c]),Be();return}}pu(e,s,n,i,r)}function pu(e,t,s,i=!0,n=!1){if(n)throw e;console.error(e)}const Wt=[];let ve=-1;const _s=[];let je=null,bs=0;const aa=Promise.resolve();let Gi=null;function ca(e){const t=Gi||aa;return e?t.then(this?e.bind(this):e):t}function mu(e){let t=ve+1,s=Wt.length;for(;t<s;){const i=t+s>>>1,n=Wt[i],o=oi(n);o<e||o===e&&n.flags&2?t=i+1:s=i}return t}function ko(e){if(!(e.flags&1)){const t=oi(e),s=Wt[Wt.length-1];!s||!(e.flags&2)&&t>=oi(s)?Wt.push(e):Wt.splice(mu(t),0,e),e.flags|=1,ua()}}function ua(){Gi||(Gi=aa.then(ha))}function bu(e){et(e)?_s.push(...e):je&&e.id===-1?je.splice(bs+1,0,e):e.flags&1||(_s.push(e),e.flags|=1),ua()}function er(e,t,s=ve+1){for(;s<Wt.length;s++){const i=Wt[s];if(i&&i.flags&2){if(e&&i.id!==e.uid)continue;Wt.splice(s,1),s--,i.flags&4&&(i.flags&=-2),i(),i.flags&4||(i.flags&=-2)}}}function fa(e){if(_s.length){const t=[...new Set(_s)].sort((s,i)=>oi(s)-oi(i));if(_s.length=0,je){je.push(...t);return}for(je=t,bs=0;bs<je.length;bs++){const s=je[bs];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}je=null,bs=0}}const oi=e=>e.id==null?e.flags&2?-1:1/0:e.id;function ha(e){try{for(ve=0;ve<Wt.length;ve++){const t=Wt[ve];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),pi(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;ve<Wt.length;ve++){const t=Wt[ve];t&&(t.flags&=-2)}ve=-1,Wt.length=0,fa(),Gi=null,(Wt.length||_s.length)&&ha()}}let oe=null,da=null;function Xi(e){const t=oe;return oe=e,da=e&&e.type.__scopeId||null,t}function xu(e,t=oe,s){if(!t||e._n)return e;const i=(...n)=>{i._d&&fr(-1);const o=Xi(t);let r;try{r=e(...n)}finally{Xi(o),i._d&&fr(1)}return r};return i._n=!0,i._c=!0,i._d=!0,i}function Pt(e,t){if(oe===null)return e;const s=_n(oe),i=e.dirs||(e.dirs=[]);for(let n=0;n<t.length;n++){let[o,r,l,a=vt]=t[n];o&&(lt(o)&&(o={mounted:o,updated:o}),o.deep&&Le(r),i.push({dir:o,instance:s,value:r,oldValue:void 0,arg:l,modifiers:a}))}return e}function Qe(e,t,s,i){const n=e.dirs,o=t&&t.dirs;for(let r=0;r<n.length;r++){const l=n[r];o&&(l.oldValue=o[r].value);let a=l.dir[i];a&&(ze(),Oe(a,s,8,[e.el,l,e,t]),Be())}}const yu=Symbol("_vte"),vu=e=>e.__isTeleport,_u=Symbol("_leaveCb");function Co(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Co(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function ga(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const qi=new WeakMap;function Ys(e,t,s,i,n=!1){if(et(e)){e.forEach((b,x)=>Ys(b,t&&(et(t)?t[x]:t),s,i,n));return}if(Gs(i)&&!n){i.shapeFlag&512&&i.type.__asyncResolved&&i.component.subTree.component&&Ys(e,t,s,i.component.subTree);return}const o=i.shapeFlag&4?_n(i.component):i.el,r=n?null:o,{i:l,r:a}=e,c=t&&t.r,u=l.refs===vt?l.refs={}:l.refs,f=l.setupState,h=mt(f),d=f===vt?zl:b=>bt(h,b);if(c!=null&&c!==a){if(sr(t),Et(c))u[c]=null,d(c)&&(f[c]=null);else if(Vt(c)){c.value=null;const b=t;b.k&&(u[b.k]=null)}}if(lt(a))pi(a,l,12,[r,u]);else{const b=Et(a),x=Vt(a);if(b||x){const m=()=>{if(e.f){const _=b?d(a)?f[a]:u[a]:a.value;if(n)et(_)&&po(_,o);else if(et(_))_.includes(o)||_.push(o);else if(b)u[a]=[o],d(a)&&(f[a]=u[a]);else{const C=[o];a.value=C,e.k&&(u[e.k]=C)}}else b?(u[a]=r,d(a)&&(f[a]=r)):x&&(a.value=r,e.k&&(u[e.k]=r))};if(r){const _=()=>{m(),qi.delete(e)};_.id=-1,qi.set(e,_),Qt(_,s)}else sr(e),m()}}}function sr(e){const t=qi.get(e);t&&(t.flags|=8,qi.delete(e))}dn().requestIdleCallback;dn().cancelIdleCallback;const Gs=e=>!!e.type.__asyncLoader,pa=e=>e.type.__isKeepAlive;function wu(e,t){ma(e,"a",t)}function Mu(e,t){ma(e,"da",t)}function ma(e,t,s=Ut){const i=e.__wdc||(e.__wdc=()=>{let n=s;for(;n;){if(n.isDeactivated)return;n=n.parent}return e()});if(xn(t,i,s),s){let n=s.parent;for(;n&&n.parent;)pa(n.parent.vnode)&&Su(i,t,s,n),n=n.parent}}function Su(e,t,s,i){const n=xn(t,e,i,!0);ba(()=>{po(i[t],n)},s)}function xn(e,t,s=Ut,i=!1){if(s){const n=s[e]||(s[e]=[]),o=t.__weh||(t.__weh=(...r)=>{ze();const l=mi(s),a=Oe(t,s,e,r);return l(),Be(),a});return i?n.unshift(o):n.push(o),o}}const He=e=>(t,s=Ut)=>{(!li||e==="sp")&&xn(e,(...i)=>t(...i),s)},ku=He("bm"),To=He("m"),Cu=He("bu"),Tu=He("u"),Ou=He("bum"),ba=He("um"),Pu=He("sp"),Au=He("rtg"),Du=He("rtc");function Eu(e,t=Ut){xn("ec",e,t)}const Iu=Symbol.for("v-ndc");function fe(e,t,s,i){let n;const o=s,r=et(e);if(r||Et(e)){const l=r&&vs(e);let a=!1,c=!1;l&&(a=!ae(e),c=Xe(e),e=mn(e)),n=new Array(e.length);for(let u=0,f=e.length;u<f;u++)n[u]=t(a?c?Ki(zt(e[u])):zt(e[u]):e[u],u,void 0,o)}else if(typeof e=="number"){n=new Array(e);for(let l=0;l<e;l++)n[l]=t(l+1,l,void 0,o)}else if(St(e))if(e[Symbol.iterator])n=Array.from(e,(l,a)=>t(l,a,void 0,o));else{const l=Object.keys(e);n=new Array(l.length);for(let a=0,c=l.length;a<c;a++){const u=l[a];n[a]=t(e[u],u,a,o)}}else n=[];return n}const Xn=e=>e?Ba(e)?_n(e):Xn(e.parent):null,Xs=Kt(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Xn(e.parent),$root:e=>Xn(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>ya(e),$forceUpdate:e=>e.f||(e.f=()=>{ko(e.update)}),$nextTick:e=>e.n||(e.n=ca.bind(e.proxy)),$watch:e=>ef.bind(e)}),An=(e,t)=>e!==vt&&!e.__isScriptSetup&&bt(e,t),Fu={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:s,setupState:i,data:n,props:o,accessCache:r,type:l,appContext:a}=e;let c;if(t[0]!=="$"){const d=r[t];if(d!==void 0)switch(d){case 1:return i[t];case 2:return n[t];case 4:return s[t];case 3:return o[t]}else{if(An(i,t))return r[t]=1,i[t];if(n!==vt&&bt(n,t))return r[t]=2,n[t];if((c=e.propsOptions[0])&&bt(c,t))return r[t]=3,o[t];if(s!==vt&&bt(s,t))return r[t]=4,s[t];qn&&(r[t]=0)}}const u=Xs[t];let f,h;if(u)return t==="$attrs"&&Ht(e.attrs,"get",""),u(e);if((f=l.__cssModules)&&(f=f[t]))return f;if(s!==vt&&bt(s,t))return r[t]=4,s[t];if(h=a.config.globalProperties,bt(h,t))return h[t]},set({_:e},t,s){const{data:i,setupState:n,ctx:o}=e;return An(n,t)?(n[t]=s,!0):i!==vt&&bt(i,t)?(i[t]=s,!0):bt(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(o[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:i,appContext:n,propsOptions:o,type:r}},l){let a,c;return!!(s[l]||e!==vt&&l[0]!=="$"&&bt(e,l)||An(t,l)||(a=o[0])&&bt(a,l)||bt(i,l)||bt(Xs,l)||bt(n.config.globalProperties,l)||(c=r.__cssModules)&&c[l])},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:bt(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}};function ir(e){return et(e)?e.reduce((t,s)=>(t[s]=null,t),{}):e}let qn=!0;function Ru(e){const t=ya(e),s=e.proxy,i=e.ctx;qn=!1,t.beforeCreate&&nr(t.beforeCreate,e,"bc");const{data:n,computed:o,methods:r,watch:l,provide:a,inject:c,created:u,beforeMount:f,mounted:h,beforeUpdate:d,updated:b,activated:x,deactivated:m,beforeDestroy:_,beforeUnmount:C,destroyed:D,unmounted:T,render:P,renderTracked:H,renderTriggered:N,errorCaptured:z,serverPrefetch:q,expose:O,inheritAttrs:g,components:M,directives:ot,filters:ut}=t;if(c&&Lu(c,i,null),r)for(const Z in r){const nt=r[Z];lt(nt)&&(i[Z]=nt.bind(s))}if(n){const Z=n.call(s,s);St(Z)&&(e.data=wo(Z))}if(qn=!0,o)for(const Z in o){const nt=o[Z],Ot=lt(nt)?nt.bind(s,s):lt(nt.get)?nt.get.bind(s,s):Se,kt=!lt(nt)&&lt(nt.set)?nt.set.bind(s):Se,k=se({get:Ot,set:kt});Object.defineProperty(i,Z,{enumerable:!0,configurable:!0,get:()=>k.value,set:L=>k.value=L})}if(l)for(const Z in l)xa(l[Z],i,s,Z);if(a){const Z=lt(a)?a.call(s):a;Reflect.ownKeys(Z).forEach(nt=>{Vu(nt,Z[nt])})}u&&nr(u,e,"c");function st(Z,nt){et(nt)?nt.forEach(Ot=>Z(Ot.bind(s))):nt&&Z(nt.bind(s))}if(st(ku,f),st(To,h),st(Cu,d),st(Tu,b),st(wu,x),st(Mu,m),st(Eu,z),st(Du,H),st(Au,N),st(Ou,C),st(ba,T),st(Pu,q),et(O))if(O.length){const Z=e.exposed||(e.exposed={});O.forEach(nt=>{Object.defineProperty(Z,nt,{get:()=>s[nt],set:Ot=>s[nt]=Ot,enumerable:!0})})}else e.exposed||(e.exposed={});P&&e.render===Se&&(e.render=P),g!=null&&(e.inheritAttrs=g),M&&(e.components=M),ot&&(e.directives=ot),q&&ga(e)}function Lu(e,t,s=Se){et(e)&&(e=Jn(e));for(const i in e){const n=e[i];let o;St(n)?"default"in n?o=$i(n.from||i,n.default,!0):o=$i(n.from||i):o=$i(n),Vt(o)?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>o.value,set:r=>o.value=r}):t[i]=o}}function nr(e,t,s){Oe(et(e)?e.map(i=>i.bind(t.proxy)):e.bind(t.proxy),t,s)}function xa(e,t,s,i){let n=i.includes(".")?Ea(s,i):()=>s[i];if(Et(e)){const o=t[e];lt(o)&&$e(n,o)}else if(lt(e))$e(n,e.bind(s));else if(St(e))if(et(e))e.forEach(o=>xa(o,t,s,i));else{const o=lt(e.handler)?e.handler.bind(s):t[e.handler];lt(o)&&$e(n,o,e)}}function ya(e){const t=e.type,{mixins:s,extends:i}=t,{mixins:n,optionsCache:o,config:{optionMergeStrategies:r}}=e.appContext,l=o.get(t);let a;return l?a=l:!n.length&&!s&&!i?a=t:(a={},n.length&&n.forEach(c=>Ji(a,c,r,!0)),Ji(a,t,r)),St(t)&&o.set(t,a),a}function Ji(e,t,s,i=!1){const{mixins:n,extends:o}=t;o&&Ji(e,o,s,!0),n&&n.forEach(r=>Ji(e,r,s,!0));for(const r in t)if(!(i&&r==="expose")){const l=$u[r]||s&&s[r];e[r]=l?l(e[r],t[r]):t[r]}return e}const $u={data:or,props:rr,emits:rr,methods:zs,computed:zs,beforeCreate:jt,created:jt,beforeMount:jt,mounted:jt,beforeUpdate:jt,updated:jt,beforeDestroy:jt,beforeUnmount:jt,destroyed:jt,unmounted:jt,activated:jt,deactivated:jt,errorCaptured:jt,serverPrefetch:jt,components:zs,directives:zs,watch:Bu,provide:or,inject:zu};function or(e,t){return t?e?function(){return Kt(lt(e)?e.call(this,this):e,lt(t)?t.call(this,this):t)}:t:e}function zu(e,t){return zs(Jn(e),Jn(t))}function Jn(e){if(et(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function jt(e,t){return e?[...new Set([].concat(e,t))]:t}function zs(e,t){return e?Kt(Object.create(null),e,t):t}function rr(e,t){return e?et(e)&&et(t)?[...new Set([...e,...t])]:Kt(Object.create(null),ir(e),ir(t??{})):t}function Bu(e,t){if(!e)return t;if(!t)return e;const s=Kt(Object.create(null),e);for(const i in t)s[i]=jt(e[i],t[i]);return s}function va(){return{app:null,config:{isNativeTag:zl,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Hu=0;function Nu(e,t){return function(i,n=null){lt(i)||(i=Kt({},i)),n!=null&&!St(n)&&(n=null);const o=va(),r=new WeakSet,l=[];let a=!1;const c=o.app={_uid:Hu++,_component:i,_props:n,_container:null,_context:o,_instance:null,version:Sf,get config(){return o.config},set config(u){},use(u,...f){return r.has(u)||(u&&lt(u.install)?(r.add(u),u.install(c,...f)):lt(u)&&(r.add(u),u(c,...f))),c},mixin(u){return o.mixins.includes(u)||o.mixins.push(u),c},component(u,f){return f?(o.components[u]=f,c):o.components[u]},directive(u,f){return f?(o.directives[u]=f,c):o.directives[u]},mount(u,f,h){if(!a){const d=c._ceVNode||ie(i,n);return d.appContext=o,h===!0?h="svg":h===!1&&(h=void 0),e(d,u,h),a=!0,c._container=u,u.__vue_app__=c,_n(d.component)}},onUnmount(u){l.push(u)},unmount(){a&&(Oe(l,c._instance,16),e(null,c._container),delete c._container.__vue_app__)},provide(u,f){return o.provides[u]=f,c},runWithContext(u){const f=ws;ws=c;try{return u()}finally{ws=f}}};return c}}let ws=null;function Vu(e,t){if(Ut){let s=Ut.provides;const i=Ut.parent&&Ut.parent.provides;i===s&&(s=Ut.provides=Object.create(i)),s[e]=t}}function $i(e,t,s=!1){const i=xf();if(i||ws){let n=ws?ws._context.provides:i?i.parent==null||i.ce?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:void 0;if(n&&e in n)return n[e];if(arguments.length>1)return s&&lt(t)?t.call(i&&i.proxy):t}}const _a={},wa=()=>Object.create(_a),Ma=e=>Object.getPrototypeOf(e)===_a;function ju(e,t,s,i=!1){const n={},o=wa();e.propsDefaults=Object.create(null),Sa(e,t,n,o);for(const r in e.propsOptions[0])r in n||(n[r]=void 0);s?e.props=i?n:ru(n):e.type.props?e.props=n:e.props=o,e.attrs=o}function Wu(e,t,s,i){const{props:n,attrs:o,vnode:{patchFlag:r}}=e,l=mt(n),[a]=e.propsOptions;let c=!1;if((i||r>0)&&!(r&16)){if(r&8){const u=e.vnode.dynamicProps;for(let f=0;f<u.length;f++){let h=u[f];if(yn(e.emitsOptions,h))continue;const d=t[h];if(a)if(bt(o,h))d!==o[h]&&(o[h]=d,c=!0);else{const b=Ge(h);n[b]=Zn(a,l,b,d,e,!1)}else d!==o[h]&&(o[h]=d,c=!0)}}}else{Sa(e,t,n,o)&&(c=!0);let u;for(const f in l)(!t||!bt(t,f)&&((u=Ze(f))===f||!bt(t,u)))&&(a?s&&(s[f]!==void 0||s[u]!==void 0)&&(n[f]=Zn(a,l,f,void 0,e,!0)):delete n[f]);if(o!==l)for(const f in o)(!t||!bt(t,f))&&(delete o[f],c=!0)}c&&Re(e.attrs,"set","")}function Sa(e,t,s,i){const[n,o]=e.propsOptions;let r=!1,l;if(t)for(let a in t){if(Ws(a))continue;const c=t[a];let u;n&&bt(n,u=Ge(a))?!o||!o.includes(u)?s[u]=c:(l||(l={}))[u]=c:yn(e.emitsOptions,a)||(!(a in i)||c!==i[a])&&(i[a]=c,r=!0)}if(o){const a=mt(s),c=l||vt;for(let u=0;u<o.length;u++){const f=o[u];s[f]=Zn(n,a,f,c[f],e,!bt(c,f))}}return r}function Zn(e,t,s,i,n,o){const r=e[s];if(r!=null){const l=bt(r,"default");if(l&&i===void 0){const a=r.default;if(r.type!==Function&&!r.skipFactory&&lt(a)){const{propsDefaults:c}=n;if(s in c)i=c[s];else{const u=mi(n);i=c[s]=a.call(null,t),u()}}else i=a;n.ce&&n.ce._setProp(s,i)}r[0]&&(o&&!l?i=!1:r[1]&&(i===""||i===Ze(s))&&(i=!0))}return i}const Uu=new WeakMap;function ka(e,t,s=!1){const i=s?Uu:t.propsCache,n=i.get(e);if(n)return n;const o=e.props,r={},l=[];let a=!1;if(!lt(e)){const u=f=>{a=!0;const[h,d]=ka(f,t,!0);Kt(r,h),d&&l.push(...d)};!s&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!o&&!a)return St(e)&&i.set(e,xs),xs;if(et(o))for(let u=0;u<o.length;u++){const f=Ge(o[u]);lr(f)&&(r[f]=vt)}else if(o)for(const u in o){const f=Ge(u);if(lr(f)){const h=o[u],d=r[f]=et(h)||lt(h)?{type:h}:Kt({},h),b=d.type;let x=!1,m=!0;if(et(b))for(let _=0;_<b.length;++_){const C=b[_],D=lt(C)&&C.name;if(D==="Boolean"){x=!0;break}else D==="String"&&(m=!1)}else x=lt(b)&&b.name==="Boolean";d[0]=x,d[1]=m,(x||bt(d,"default"))&&l.push(f)}}const c=[r,l];return St(e)&&i.set(e,c),c}function lr(e){return e[0]!=="$"&&!Ws(e)}const Oo=e=>e==="_"||e==="_ctx"||e==="$stable",Po=e=>et(e)?e.map(we):[we(e)],Ku=(e,t,s)=>{if(t._n)return t;const i=xu((...n)=>Po(t(...n)),s);return i._c=!1,i},Ca=(e,t,s)=>{const i=e._ctx;for(const n in e){if(Oo(n))continue;const o=e[n];if(lt(o))t[n]=Ku(n,o,i);else if(o!=null){const r=Po(o);t[n]=()=>r}}},Ta=(e,t)=>{const s=Po(t);e.slots.default=()=>s},Oa=(e,t,s)=>{for(const i in t)(s||!Oo(i))&&(e[i]=t[i])},Yu=(e,t,s)=>{const i=e.slots=wa();if(e.vnode.shapeFlag&32){const n=t._;n?(Oa(i,t,s),s&&jl(i,"_",n,!0)):Ca(t,i)}else t&&Ta(e,t)},Gu=(e,t,s)=>{const{vnode:i,slots:n}=e;let o=!0,r=vt;if(i.shapeFlag&32){const l=t._;l?s&&l===1?o=!1:Oa(n,t,s):(o=!t.$stable,Ca(t,n)),r=t}else t&&(Ta(e,t),r={default:1});if(o)for(const l in n)!Oo(l)&&r[l]==null&&delete n[l]},Qt=uf;function Xu(e){return qu(e)}function qu(e,t){const s=dn();s.__VUE__=!0;const{insert:i,remove:n,patchProp:o,createElement:r,createText:l,createComment:a,setText:c,setElementText:u,parentNode:f,nextSibling:h,setScopeId:d=Se,insertStaticContent:b}=e,x=(p,y,w,E=null,A=null,I=null,j=void 0,B=null,$=!!y.dynamicChildren)=>{if(p===y)return;p&&!Es(p,y)&&(E=U(p),L(p,A,I,!0),p=null),y.patchFlag===-2&&($=!1,y.dynamicChildren=null);const{type:R,ref:Q,shapeFlag:Y}=y;switch(R){case vn:m(p,y,w,E);break;case qe:_(p,y,w,E);break;case zi:p==null&&C(y,w,E,j);break;case Dt:M(p,y,w,E,A,I,j,B,$);break;default:Y&1?P(p,y,w,E,A,I,j,B,$):Y&6?ot(p,y,w,E,A,I,j,B,$):(Y&64||Y&128)&&R.process(p,y,w,E,A,I,j,B,$,tt)}Q!=null&&A?Ys(Q,p&&p.ref,I,y||p,!y):Q==null&&p&&p.ref!=null&&Ys(p.ref,null,I,p,!0)},m=(p,y,w,E)=>{if(p==null)i(y.el=l(y.children),w,E);else{const A=y.el=p.el;y.children!==p.children&&c(A,y.children)}},_=(p,y,w,E)=>{p==null?i(y.el=a(y.children||""),w,E):y.el=p.el},C=(p,y,w,E)=>{[p.el,p.anchor]=b(p.children,y,w,E,p.el,p.anchor)},D=({el:p,anchor:y},w,E)=>{let A;for(;p&&p!==y;)A=h(p),i(p,w,E),p=A;i(y,w,E)},T=({el:p,anchor:y})=>{let w;for(;p&&p!==y;)w=h(p),n(p),p=w;n(y)},P=(p,y,w,E,A,I,j,B,$)=>{y.type==="svg"?j="svg":y.type==="math"&&(j="mathml"),p==null?H(y,w,E,A,I,j,B,$):q(p,y,A,I,j,B,$)},H=(p,y,w,E,A,I,j,B)=>{let $,R;const{props:Q,shapeFlag:Y,transition:J,dirs:it}=p;if($=p.el=r(p.type,I,Q&&Q.is,Q),Y&8?u($,p.children):Y&16&&z(p.children,$,null,E,A,Dn(p,I),j,B),it&&Qe(p,null,E,"created"),N($,p,p.scopeId,j,E),Q){for(const _t in Q)_t!=="value"&&!Ws(_t)&&o($,_t,null,Q[_t],I,E);"value"in Q&&o($,"value",null,Q.value,I),(R=Q.onVnodeBeforeMount)&&be(R,E,p)}it&&Qe(p,null,E,"beforeMount");const ht=Ju(A,J);ht&&J.beforeEnter($),i($,y,w),((R=Q&&Q.onVnodeMounted)||ht||it)&&Qt(()=>{R&&be(R,E,p),ht&&J.enter($),it&&Qe(p,null,E,"mounted")},A)},N=(p,y,w,E,A)=>{if(w&&d(p,w),E)for(let I=0;I<E.length;I++)d(p,E[I]);if(A){let I=A.subTree;if(y===I||Fa(I.type)&&(I.ssContent===y||I.ssFallback===y)){const j=A.vnode;N(p,j,j.scopeId,j.slotScopeIds,A.parent)}}},z=(p,y,w,E,A,I,j,B,$=0)=>{for(let R=$;R<p.length;R++){const Q=p[R]=B?We(p[R]):we(p[R]);x(null,Q,y,w,E,A,I,j,B)}},q=(p,y,w,E,A,I,j)=>{const B=y.el=p.el;let{patchFlag:$,dynamicChildren:R,dirs:Q}=y;$|=p.patchFlag&16;const Y=p.props||vt,J=y.props||vt;let it;if(w&&ts(w,!1),(it=J.onVnodeBeforeUpdate)&&be(it,w,y,p),Q&&Qe(y,p,w,"beforeUpdate"),w&&ts(w,!0),(Y.innerHTML&&J.innerHTML==null||Y.textContent&&J.textContent==null)&&u(B,""),R?O(p.dynamicChildren,R,B,w,E,Dn(y,A),I):j||nt(p,y,B,null,w,E,Dn(y,A),I,!1),$>0){if($&16)g(B,Y,J,w,A);else if($&2&&Y.class!==J.class&&o(B,"class",null,J.class,A),$&4&&o(B,"style",Y.style,J.style,A),$&8){const ht=y.dynamicProps;for(let _t=0;_t<ht.length;_t++){const xt=ht[_t],Yt=Y[xt],Gt=J[xt];(Gt!==Yt||xt==="value")&&o(B,xt,Yt,Gt,A,w)}}$&1&&p.children!==y.children&&u(B,y.children)}else!j&&R==null&&g(B,Y,J,w,A);((it=J.onVnodeUpdated)||Q)&&Qt(()=>{it&&be(it,w,y,p),Q&&Qe(y,p,w,"updated")},E)},O=(p,y,w,E,A,I,j)=>{for(let B=0;B<y.length;B++){const $=p[B],R=y[B],Q=$.el&&($.type===Dt||!Es($,R)||$.shapeFlag&198)?f($.el):w;x($,R,Q,null,E,A,I,j,!0)}},g=(p,y,w,E,A)=>{if(y!==w){if(y!==vt)for(const I in y)!Ws(I)&&!(I in w)&&o(p,I,y[I],null,A,E);for(const I in w){if(Ws(I))continue;const j=w[I],B=y[I];j!==B&&I!=="value"&&o(p,I,B,j,A,E)}"value"in w&&o(p,"value",y.value,w.value,A)}},M=(p,y,w,E,A,I,j,B,$)=>{const R=y.el=p?p.el:l(""),Q=y.anchor=p?p.anchor:l("");let{patchFlag:Y,dynamicChildren:J,slotScopeIds:it}=y;it&&(B=B?B.concat(it):it),p==null?(i(R,w,E),i(Q,w,E),z(y.children||[],w,Q,A,I,j,B,$)):Y>0&&Y&64&&J&&p.dynamicChildren?(O(p.dynamicChildren,J,w,A,I,j,B),(y.key!=null||A&&y===A.subTree)&&Pa(p,y,!0)):nt(p,y,w,Q,A,I,j,B,$)},ot=(p,y,w,E,A,I,j,B,$)=>{y.slotScopeIds=B,p==null?y.shapeFlag&512?A.ctx.activate(y,w,E,j,$):ut(y,w,E,A,I,j,$):rt(p,y,$)},ut=(p,y,w,E,A,I,j)=>{const B=p.component=bf(p,E,A);if(pa(p)&&(B.ctx.renderer=tt),yf(B,!1,j),B.asyncDep){if(A&&A.registerDep(B,st,j),!p.el){const $=B.subTree=ie(qe);_(null,$,y,w),p.placeholder=$.el}}else st(B,p,y,w,A,I,j)},rt=(p,y,w)=>{const E=y.component=p.component;if(af(p,y,w))if(E.asyncDep&&!E.asyncResolved){Z(E,y,w);return}else E.next=y,E.update();else y.el=p.el,E.vnode=y},st=(p,y,w,E,A,I,j)=>{const B=()=>{if(p.isMounted){let{next:Y,bu:J,u:it,parent:ht,vnode:_t}=p;{const pe=Aa(p);if(pe){Y&&(Y.el=_t.el,Z(p,Y,j)),pe.asyncDep.then(()=>{p.isUnmounted||B()});return}}let xt=Y,Yt;ts(p,!1),Y?(Y.el=_t.el,Z(p,Y,j)):Y=_t,J&&Li(J),(Yt=Y.props&&Y.props.onVnodeBeforeUpdate)&&be(Yt,ht,Y,_t),ts(p,!0);const Gt=cr(p),ge=p.subTree;p.subTree=Gt,x(ge,Gt,f(ge.el),U(ge),p,A,I),Y.el=Gt.el,xt===null&&cf(p,Gt.el),it&&Qt(it,A),(Yt=Y.props&&Y.props.onVnodeUpdated)&&Qt(()=>be(Yt,ht,Y,_t),A)}else{let Y;const{el:J,props:it}=y,{bm:ht,m:_t,parent:xt,root:Yt,type:Gt}=p,ge=Gs(y);ts(p,!1),ht&&Li(ht),!ge&&(Y=it&&it.onVnodeBeforeMount)&&be(Y,xt,y),ts(p,!0);{Yt.ce&&Yt.ce._def.shadowRoot!==!1&&Yt.ce._injectChildStyle(Gt);const pe=p.subTree=cr(p);x(null,pe,w,E,p,A,I),y.el=pe.el}if(_t&&Qt(_t,A),!ge&&(Y=it&&it.onVnodeMounted)){const pe=y;Qt(()=>be(Y,xt,pe),A)}(y.shapeFlag&256||xt&&Gs(xt.vnode)&&xt.vnode.shapeFlag&256)&&p.a&&Qt(p.a,A),p.isMounted=!0,y=w=E=null}};p.scope.on();const $=p.effect=new Yl(B);p.scope.off();const R=p.update=$.run.bind($),Q=p.job=$.runIfDirty.bind($);Q.i=p,Q.id=p.uid,$.scheduler=()=>ko(Q),ts(p,!0),R()},Z=(p,y,w)=>{y.component=p;const E=p.vnode.props;p.vnode=y,p.next=null,Wu(p,y.props,E,w),Gu(p,y.children,w),ze(),er(p),Be()},nt=(p,y,w,E,A,I,j,B,$=!1)=>{const R=p&&p.children,Q=p?p.shapeFlag:0,Y=y.children,{patchFlag:J,shapeFlag:it}=y;if(J>0){if(J&128){kt(R,Y,w,E,A,I,j,B,$);return}else if(J&256){Ot(R,Y,w,E,A,I,j,B,$);return}}it&8?(Q&16&&G(R,A,I),Y!==R&&u(w,Y)):Q&16?it&16?kt(R,Y,w,E,A,I,j,B,$):G(R,A,I,!0):(Q&8&&u(w,""),it&16&&z(Y,w,E,A,I,j,B,$))},Ot=(p,y,w,E,A,I,j,B,$)=>{p=p||xs,y=y||xs;const R=p.length,Q=y.length,Y=Math.min(R,Q);let J;for(J=0;J<Y;J++){const it=y[J]=$?We(y[J]):we(y[J]);x(p[J],it,w,null,A,I,j,B,$)}R>Q?G(p,A,I,!0,!1,Y):z(y,w,E,A,I,j,B,$,Y)},kt=(p,y,w,E,A,I,j,B,$)=>{let R=0;const Q=y.length;let Y=p.length-1,J=Q-1;for(;R<=Y&&R<=J;){const it=p[R],ht=y[R]=$?We(y[R]):we(y[R]);if(Es(it,ht))x(it,ht,w,null,A,I,j,B,$);else break;R++}for(;R<=Y&&R<=J;){const it=p[Y],ht=y[J]=$?We(y[J]):we(y[J]);if(Es(it,ht))x(it,ht,w,null,A,I,j,B,$);else break;Y--,J--}if(R>Y){if(R<=J){const it=J+1,ht=it<Q?y[it].el:E;for(;R<=J;)x(null,y[R]=$?We(y[R]):we(y[R]),w,ht,A,I,j,B,$),R++}}else if(R>J)for(;R<=Y;)L(p[R],A,I,!0),R++;else{const it=R,ht=R,_t=new Map;for(R=ht;R<=J;R++){const Zt=y[R]=$?We(y[R]):we(y[R]);Zt.key!=null&&_t.set(Zt.key,R)}let xt,Yt=0;const Gt=J-ht+1;let ge=!1,pe=0;const As=new Array(Gt);for(R=0;R<Gt;R++)As[R]=0;for(R=it;R<=Y;R++){const Zt=p[R];if(Yt>=Gt){L(Zt,A,I,!0);continue}let me;if(Zt.key!=null)me=_t.get(Zt.key);else for(xt=ht;xt<=J;xt++)if(As[xt-ht]===0&&Es(Zt,y[xt])){me=xt;break}me===void 0?L(Zt,A,I,!0):(As[me-ht]=R+1,me>=pe?pe=me:ge=!0,x(Zt,y[me],w,null,A,I,j,B,$),Yt++)}const Go=ge?Zu(As):xs;for(xt=Go.length-1,R=Gt-1;R>=0;R--){const Zt=ht+R,me=y[Zt],Xo=y[Zt+1],qo=Zt+1<Q?Xo.el||Xo.placeholder:E;As[R]===0?x(null,me,w,qo,A,I,j,B,$):ge&&(xt<0||R!==Go[xt]?k(me,w,qo,2):xt--)}}},k=(p,y,w,E,A=null)=>{const{el:I,type:j,transition:B,children:$,shapeFlag:R}=p;if(R&6){k(p.component.subTree,y,w,E);return}if(R&128){p.suspense.move(y,w,E);return}if(R&64){j.move(p,y,w,tt);return}if(j===Dt){i(I,y,w);for(let Y=0;Y<$.length;Y++)k($[Y],y,w,E);i(p.anchor,y,w);return}if(j===zi){D(p,y,w);return}if(E!==2&&R&1&&B)if(E===0)B.beforeEnter(I),i(I,y,w),Qt(()=>B.enter(I),A);else{const{leave:Y,delayLeave:J,afterLeave:it}=B,ht=()=>{p.ctx.isUnmounted?n(I):i(I,y,w)},_t=()=>{I._isLeaving&&I[_u](!0),Y(I,()=>{ht(),it&&it()})};J?J(I,ht,_t):_t()}else i(I,y,w)},L=(p,y,w,E=!1,A=!1)=>{const{type:I,props:j,ref:B,children:$,dynamicChildren:R,shapeFlag:Q,patchFlag:Y,dirs:J,cacheIndex:it}=p;if(Y===-2&&(A=!1),B!=null&&(ze(),Ys(B,null,w,p,!0),Be()),it!=null&&(y.renderCache[it]=void 0),Q&256){y.ctx.deactivate(p);return}const ht=Q&1&&J,_t=!Gs(p);let xt;if(_t&&(xt=j&&j.onVnodeBeforeUnmount)&&be(xt,y,p),Q&6)X(p.component,w,E);else{if(Q&128){p.suspense.unmount(w,E);return}ht&&Qe(p,null,y,"beforeUnmount"),Q&64?p.type.remove(p,y,w,tt,E):R&&!R.hasOnce&&(I!==Dt||Y>0&&Y&64)?G(R,y,w,!1,!0):(I===Dt&&Y&384||!A&&Q&16)&&G($,y,w),E&&F(p)}(_t&&(xt=j&&j.onVnodeUnmounted)||ht)&&Qt(()=>{xt&&be(xt,y,p),ht&&Qe(p,null,y,"unmounted")},w)},F=p=>{const{type:y,el:w,anchor:E,transition:A}=p;if(y===Dt){S(w,E);return}if(y===zi){T(p);return}const I=()=>{n(w),A&&!A.persisted&&A.afterLeave&&A.afterLeave()};if(p.shapeFlag&1&&A&&!A.persisted){const{leave:j,delayLeave:B}=A,$=()=>j(w,I);B?B(p.el,I,$):$()}else I()},S=(p,y)=>{let w;for(;p!==y;)w=h(p),n(p),p=w;n(y)},X=(p,y,w)=>{const{bum:E,scope:A,job:I,subTree:j,um:B,m:$,a:R}=p;ar($),ar(R),E&&Li(E),A.stop(),I&&(I.flags|=8,L(j,p,y,w)),B&&Qt(B,y),Qt(()=>{p.isUnmounted=!0},y)},G=(p,y,w,E=!1,A=!1,I=0)=>{for(let j=I;j<p.length;j++)L(p[j],y,w,E,A)},U=p=>{if(p.shapeFlag&6)return U(p.component.subTree);if(p.shapeFlag&128)return p.suspense.next();const y=h(p.anchor||p.el),w=y&&y[yu];return w?h(w):y};let V=!1;const ft=(p,y,w)=>{p==null?y._vnode&&L(y._vnode,null,null,!0):x(y._vnode||null,p,y,null,null,null,w),y._vnode=p,V||(V=!0,er(),fa(),V=!1)},tt={p:x,um:L,m:k,r:F,mt:ut,mc:z,pc:nt,pbc:O,n:U,o:e};return{render:ft,hydrate:void 0,createApp:Nu(ft)}}function Dn({type:e,props:t},s){return s==="svg"&&e==="foreignObject"||s==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:s}function ts({effect:e,job:t},s){s?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Ju(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Pa(e,t,s=!1){const i=e.children,n=t.children;if(et(i)&&et(n))for(let o=0;o<i.length;o++){const r=i[o];let l=n[o];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=n[o]=We(n[o]),l.el=r.el),!s&&l.patchFlag!==-2&&Pa(r,l)),l.type===vn&&l.patchFlag!==-1&&(l.el=r.el),l.type===qe&&!l.el&&(l.el=r.el)}}function Zu(e){const t=e.slice(),s=[0];let i,n,o,r,l;const a=e.length;for(i=0;i<a;i++){const c=e[i];if(c!==0){if(n=s[s.length-1],e[n]<c){t[i]=n,s.push(i);continue}for(o=0,r=s.length-1;o<r;)l=o+r>>1,e[s[l]]<c?o=l+1:r=l;c<e[s[o]]&&(o>0&&(t[i]=s[o-1]),s[o]=i)}}for(o=s.length,r=s[o-1];o-- >0;)s[o]=r,r=t[r];return s}function Aa(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Aa(t)}function ar(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const Qu=Symbol.for("v-scx"),tf=()=>$i(Qu);function $e(e,t,s){return Da(e,t,s)}function Da(e,t,s=vt){const{immediate:i,deep:n,flush:o,once:r}=s,l=Kt({},s),a=t&&i||!t&&o!=="post";let c;if(li){if(o==="sync"){const d=tf();c=d.__watcherHandles||(d.__watcherHandles=[])}else if(!a){const d=()=>{};return d.stop=Se,d.resume=Se,d.pause=Se,d}}const u=Ut;l.call=(d,b,x)=>Oe(d,u,b,x);let f=!1;o==="post"?l.scheduler=d=>{Qt(d,u&&u.suspense)}:o!=="sync"&&(f=!0,l.scheduler=(d,b)=>{b?d():ko(d)}),l.augmentJob=d=>{t&&(d.flags|=4),f&&(d.flags|=2,u&&(d.id=u.uid,d.i=u))};const h=gu(e,t,l);return li&&(c?c.push(h):a&&h()),h}function ef(e,t,s){const i=this.proxy,n=Et(e)?e.includes(".")?Ea(i,e):()=>i[e]:e.bind(i,i);let o;lt(t)?o=t:(o=t.handler,s=t);const r=mi(this),l=Da(n,o.bind(i),s);return r(),l}function Ea(e,t){const s=t.split(".");return()=>{let i=e;for(let n=0;n<s.length&&i;n++)i=i[s[n]];return i}}const sf=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Ge(t)}Modifiers`]||e[`${Ze(t)}Modifiers`];function nf(e,t,...s){if(e.isUnmounted)return;const i=e.vnode.props||vt;let n=s;const o=t.startsWith("update:"),r=o&&sf(i,t.slice(7));r&&(r.trim&&(n=s.map(u=>Et(u)?u.trim():u)),r.number&&(n=s.map(Ui)));let l,a=i[l=kn(t)]||i[l=kn(Ge(t))];!a&&o&&(a=i[l=kn(Ze(t))]),a&&Oe(a,e,6,n);const c=i[l+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,Oe(c,e,6,n)}}const of=new WeakMap;function Ia(e,t,s=!1){const i=s?of:t.emitsCache,n=i.get(e);if(n!==void 0)return n;const o=e.emits;let r={},l=!1;if(!lt(e)){const a=c=>{const u=Ia(c,t,!0);u&&(l=!0,Kt(r,u))};!s&&t.mixins.length&&t.mixins.forEach(a),e.extends&&a(e.extends),e.mixins&&e.mixins.forEach(a)}return!o&&!l?(St(e)&&i.set(e,null),null):(et(o)?o.forEach(a=>r[a]=null):Kt(r,o),St(e)&&i.set(e,r),r)}function yn(e,t){return!e||!un(t)?!1:(t=t.slice(2).replace(/Once$/,""),bt(e,t[0].toLowerCase()+t.slice(1))||bt(e,Ze(t))||bt(e,t))}function cr(e){const{type:t,vnode:s,proxy:i,withProxy:n,propsOptions:[o],slots:r,attrs:l,emit:a,render:c,renderCache:u,props:f,data:h,setupState:d,ctx:b,inheritAttrs:x}=e,m=Xi(e);let _,C;try{if(s.shapeFlag&4){const T=n||i,P=T;_=we(c.call(P,T,u,f,d,h,b)),C=l}else{const T=t;_=we(T.length>1?T(f,{attrs:l,slots:r,emit:a}):T(f,null)),C=t.props?l:rf(l)}}catch(T){qs.length=0,bn(T,e,1),_=ie(qe)}let D=_;if(C&&x!==!1){const T=Object.keys(C),{shapeFlag:P}=D;T.length&&P&7&&(o&&T.some(go)&&(C=lf(C,o)),D=ks(D,C,!1,!0))}return s.dirs&&(D=ks(D,null,!1,!0),D.dirs=D.dirs?D.dirs.concat(s.dirs):s.dirs),s.transition&&Co(D,s.transition),_=D,Xi(m),_}const rf=e=>{let t;for(const s in e)(s==="class"||s==="style"||un(s))&&((t||(t={}))[s]=e[s]);return t},lf=(e,t)=>{const s={};for(const i in e)(!go(i)||!(i.slice(9)in t))&&(s[i]=e[i]);return s};function af(e,t,s){const{props:i,children:n,component:o}=e,{props:r,children:l,patchFlag:a}=t,c=o.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&a>=0){if(a&1024)return!0;if(a&16)return i?ur(i,r,c):!!r;if(a&8){const u=t.dynamicProps;for(let f=0;f<u.length;f++){const h=u[f];if(r[h]!==i[h]&&!yn(c,h))return!0}}}else return(n||l)&&(!l||!l.$stable)?!0:i===r?!1:i?r?ur(i,r,c):!0:!!r;return!1}function ur(e,t,s){const i=Object.keys(t);if(i.length!==Object.keys(e).length)return!0;for(let n=0;n<i.length;n++){const o=i[n];if(t[o]!==e[o]&&!yn(s,o))return!0}return!1}function cf({vnode:e,parent:t},s){for(;t;){const i=t.subTree;if(i.suspense&&i.suspense.activeBranch===e&&(i.el=e.el),i===e)(e=t.vnode).el=s,t=t.parent;else break}}const Fa=e=>e.__isSuspense;function uf(e,t){t&&t.pendingBranch?et(e)?t.effects.push(...e):t.effects.push(e):bu(e)}const Dt=Symbol.for("v-fgt"),vn=Symbol.for("v-txt"),qe=Symbol.for("v-cmt"),zi=Symbol.for("v-stc"),qs=[];let ee=null;function W(e=!1){qs.push(ee=e?null:[])}function ff(){qs.pop(),ee=qs[qs.length-1]||null}let ri=1;function fr(e,t=!1){ri+=e,e<0&&ee&&t&&(ee.hasOnce=!0)}function Ra(e){return e.dynamicChildren=ri>0?ee||xs:null,ff(),ri>0&&ee&&ee.push(e),e}function K(e,t,s,i,n,o){return Ra(v(e,t,s,i,n,o,!0))}function La(e,t,s,i,n){return Ra(ie(e,t,s,i,n,!0))}function $a(e){return e?e.__v_isVNode===!0:!1}function Es(e,t){return e.type===t.type&&e.key===t.key}const za=({key:e})=>e??null,Bi=({ref:e,ref_key:t,ref_for:s})=>(typeof e=="number"&&(e=""+e),e!=null?Et(e)||Vt(e)||lt(e)?{i:oe,r:e,k:t,f:!!s}:e:null);function v(e,t=null,s=null,i=0,n=null,o=e===Dt?0:1,r=!1,l=!1){const a={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&za(t),ref:t&&Bi(t),scopeId:da,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:i,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:oe};return l?(Ao(a,s),o&128&&e.normalize(a)):s&&(a.shapeFlag|=Et(s)?8:16),ri>0&&!r&&ee&&(a.patchFlag>0||o&6)&&a.patchFlag!==32&&ee.push(a),a}const ie=hf;function hf(e,t=null,s=null,i=0,n=null,o=!1){if((!e||e===Iu)&&(e=qe),$a(e)){const l=ks(e,t,!0);return s&&Ao(l,s),ri>0&&!o&&ee&&(l.shapeFlag&6?ee[ee.indexOf(e)]=l:ee.push(l)),l.patchFlag=-2,l}if(Mf(e)&&(e=e.__vccOpts),t){t=df(t);let{class:l,style:a}=t;l&&!Et(l)&&(t.class=Te(l)),St(a)&&(So(a)&&!et(a)&&(a=Kt({},a)),t.style=gn(a))}const r=Et(e)?1:Fa(e)?128:vu(e)?64:St(e)?4:lt(e)?2:0;return v(e,t,s,i,n,r,o,!0)}function df(e){return e?So(e)||Ma(e)?Kt({},e):e:null}function ks(e,t,s=!1,i=!1){const{props:n,ref:o,patchFlag:r,children:l,transition:a}=e,c=t?gf(n||{},t):n,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&za(c),ref:t&&t.ref?s&&o?et(o)?o.concat(Bi(t)):[o,Bi(t)]:Bi(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:l,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Dt?r===-1?16:r|16:r,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:a,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&ks(e.ssContent),ssFallback:e.ssFallback&&ks(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return a&&i&&Co(u,a.clone(u)),u}function $t(e=" ",t=0){return ie(vn,null,e,t)}function En(e,t){const s=ie(zi,null,e);return s.staticCount=t,s}function ct(e="",t=!1){return t?(W(),La(qe,null,e)):ie(qe,null,e)}function we(e){return e==null||typeof e=="boolean"?ie(qe):et(e)?ie(Dt,null,e.slice()):$a(e)?We(e):ie(vn,null,String(e))}function We(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:ks(e)}function Ao(e,t){let s=0;const{shapeFlag:i}=e;if(t==null)t=null;else if(et(t))s=16;else if(typeof t=="object")if(i&65){const n=t.default;n&&(n._c&&(n._d=!1),Ao(e,n()),n._c&&(n._d=!0));return}else{s=32;const n=t._;!n&&!Ma(t)?t._ctx=oe:n===3&&oe&&(oe.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else lt(t)?(t={default:t,_ctx:oe},s=32):(t=String(t),i&64?(s=16,t=[$t(t)]):s=8);e.children=t,e.shapeFlag|=s}function gf(...e){const t={};for(let s=0;s<e.length;s++){const i=e[s];for(const n in i)if(n==="class")t.class!==i.class&&(t.class=Te([t.class,i.class]));else if(n==="style")t.style=gn([t.style,i.style]);else if(un(n)){const o=t[n],r=i[n];r&&o!==r&&!(et(o)&&o.includes(r))&&(t[n]=o?[].concat(o,r):r)}else n!==""&&(t[n]=i[n])}return t}function be(e,t,s,i=null){Oe(e,t,7,[s,i])}const pf=va();let mf=0;function bf(e,t,s){const i=e.type,n=(t?t.appContext:e.appContext)||pf,o={uid:mf++,vnode:e,type:i,parent:t,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Hc(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(n.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ka(i,n),emitsOptions:Ia(i,n),emit:null,emitted:null,propsDefaults:vt,inheritAttrs:i.inheritAttrs,ctx:vt,data:vt,props:vt,attrs:vt,slots:vt,refs:vt,setupState:vt,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=nf.bind(null,o),e.ce&&e.ce(o),o}let Ut=null;const xf=()=>Ut||oe;let Zi,Qn;{const e=dn(),t=(s,i)=>{let n;return(n=e[s])||(n=e[s]=[]),n.push(i),o=>{n.length>1?n.forEach(r=>r(o)):n[0](o)}};Zi=t("__VUE_INSTANCE_SETTERS__",s=>Ut=s),Qn=t("__VUE_SSR_SETTERS__",s=>li=s)}const mi=e=>{const t=Ut;return Zi(e),e.scope.on(),()=>{e.scope.off(),Zi(t)}},hr=()=>{Ut&&Ut.scope.off(),Zi(null)};function Ba(e){return e.vnode.shapeFlag&4}let li=!1;function yf(e,t=!1,s=!1){t&&Qn(t);const{props:i,children:n}=e.vnode,o=Ba(e);ju(e,i,o,t),Yu(e,n,s||t);const r=o?vf(e,t):void 0;return t&&Qn(!1),r}function vf(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Fu);const{setup:i}=s;if(i){ze();const n=e.setupContext=i.length>1?wf(e):null,o=mi(e),r=pi(i,e,0,[e.props,n]),l=Bl(r);if(Be(),o(),(l||e.sp)&&!Gs(e)&&ga(e),l){if(r.then(hr,hr),t)return r.then(a=>{dr(e,a)}).catch(a=>{bn(a,e,0)});e.asyncDep=r}else dr(e,r)}else Ha(e)}function dr(e,t,s){lt(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:St(t)&&(e.setupState=la(t)),Ha(e)}function Ha(e,t,s){const i=e.type;e.render||(e.render=i.render||Se);{const n=mi(e);ze();try{Ru(e)}finally{Be(),n()}}}const _f={get(e,t){return Ht(e,"get",""),e[t]}};function wf(e){const t=s=>{e.exposed=s||{}};return{attrs:new Proxy(e.attrs,_f),slots:e.slots,emit:e.emit,expose:t}}function _n(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(la(lu(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in Xs)return Xs[s](e)},has(t,s){return s in t||s in Xs}})):e.proxy}function Mf(e){return lt(e)&&"__vccOpts"in e}const se=(e,t)=>hu(e,t,li),Sf="3.5.22";/**
* @vue/runtime-dom v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let to;const gr=typeof window<"u"&&window.trustedTypes;if(gr)try{to=gr.createPolicy("vue",{createHTML:e=>e})}catch{}const Na=to?e=>to.createHTML(e):e=>e,kf="http://www.w3.org/2000/svg",Cf="http://www.w3.org/1998/Math/MathML",Ie=typeof document<"u"?document:null,pr=Ie&&Ie.createElement("template"),Tf={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,i)=>{const n=t==="svg"?Ie.createElementNS(kf,e):t==="mathml"?Ie.createElementNS(Cf,e):s?Ie.createElement(e,{is:s}):Ie.createElement(e);return e==="select"&&i&&i.multiple!=null&&n.setAttribute("multiple",i.multiple),n},createText:e=>Ie.createTextNode(e),createComment:e=>Ie.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Ie.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,s,i,n,o){const r=s?s.previousSibling:t.lastChild;if(n&&(n===o||n.nextSibling))for(;t.insertBefore(n.cloneNode(!0),s),!(n===o||!(n=n.nextSibling)););else{pr.innerHTML=Na(i==="svg"?`<svg>${e}</svg>`:i==="mathml"?`<math>${e}</math>`:e);const l=pr.content;if(i==="svg"||i==="mathml"){const a=l.firstChild;for(;a.firstChild;)l.appendChild(a.firstChild);l.removeChild(a)}t.insertBefore(l,s)}return[r?r.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}},Of=Symbol("_vtc");function Pf(e,t,s){const i=e[Of];i&&(t=(t?[t,...i]:[...i]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}const mr=Symbol("_vod"),Af=Symbol("_vsh"),Df=Symbol(""),Ef=/(?:^|;)\s*display\s*:/;function If(e,t,s){const i=e.style,n=Et(s);let o=!1;if(s&&!n){if(t)if(Et(t))for(const r of t.split(";")){const l=r.slice(0,r.indexOf(":")).trim();s[l]==null&&Hi(i,l,"")}else for(const r in t)s[r]==null&&Hi(i,r,"");for(const r in s)r==="display"&&(o=!0),Hi(i,r,s[r])}else if(n){if(t!==s){const r=i[Df];r&&(s+=";"+r),i.cssText=s,o=Ef.test(s)}}else t&&e.removeAttribute("style");mr in e&&(e[mr]=o?i.display:"",e[Af]&&(i.display="none"))}const br=/\s*!important$/;function Hi(e,t,s){if(et(s))s.forEach(i=>Hi(e,t,i));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const i=Ff(e,t);br.test(s)?e.setProperty(Ze(i),s.replace(br,""),"important"):e[i]=s}}const xr=["Webkit","Moz","ms"],In={};function Ff(e,t){const s=In[t];if(s)return s;let i=Ge(t);if(i!=="filter"&&i in e)return In[t]=i;i=Vl(i);for(let n=0;n<xr.length;n++){const o=xr[n]+i;if(o in e)return In[t]=o}return t}const yr="http://www.w3.org/1999/xlink";function vr(e,t,s,i,n,o=$c(t)){i&&t.startsWith("xlink:")?s==null?e.removeAttributeNS(yr,t.slice(6,t.length)):e.setAttributeNS(yr,t,s):s==null||o&&!Wl(s)?e.removeAttribute(t):e.setAttribute(t,o?"":Ce(s)?String(s):s)}function _r(e,t,s,i,n){if(t==="innerHTML"||t==="textContent"){s!=null&&(e[t]=t==="innerHTML"?Na(s):s);return}const o=e.tagName;if(t==="value"&&o!=="PROGRESS"&&!o.includes("-")){const l=o==="OPTION"?e.getAttribute("value")||"":e.value,a=s==null?e.type==="checkbox"?"on":"":String(s);(l!==a||!("_value"in e))&&(e.value=a),s==null&&e.removeAttribute(t),e._value=s;return}let r=!1;if(s===""||s==null){const l=typeof e[t];l==="boolean"?s=Wl(s):s==null&&l==="string"?(s="",r=!0):l==="number"&&(s=0,r=!0)}try{e[t]=s}catch{}r&&e.removeAttribute(n||t)}function ls(e,t,s,i){e.addEventListener(t,s,i)}function Rf(e,t,s,i){e.removeEventListener(t,s,i)}const wr=Symbol("_vei");function Lf(e,t,s,i,n=null){const o=e[wr]||(e[wr]={}),r=o[t];if(i&&r)r.value=i;else{const[l,a]=$f(t);if(i){const c=o[t]=Hf(i,n);ls(e,l,c,a)}else r&&(Rf(e,l,r,a),o[t]=void 0)}}const Mr=/(?:Once|Passive|Capture)$/;function $f(e){let t;if(Mr.test(e)){t={};let i;for(;i=e.match(Mr);)e=e.slice(0,e.length-i[0].length),t[i[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Ze(e.slice(2)),t]}let Fn=0;const zf=Promise.resolve(),Bf=()=>Fn||(zf.then(()=>Fn=0),Fn=Date.now());function Hf(e,t){const s=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=s.attached)return;Oe(Nf(i,s.value),t,5,[i])};return s.value=e,s.attached=Bf(),s}function Nf(e,t){if(et(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(i=>n=>!n._stopped&&i&&i(n))}else return t}const Sr=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Vf=(e,t,s,i,n,o)=>{const r=n==="svg";t==="class"?Pf(e,i,r):t==="style"?If(e,s,i):un(t)?go(t)||Lf(e,t,s,i,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):jf(e,t,i,r))?(_r(e,t,i),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&vr(e,t,i,r,o,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Et(i))?_r(e,Ge(t),i,o,t):(t==="true-value"?e._trueValue=i:t==="false-value"&&(e._falseValue=i),vr(e,t,i,r))};function jf(e,t,s,i){if(i)return!!(t==="innerHTML"||t==="textContent"||t in e&&Sr(t)&&lt(s));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const n=e.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return Sr(t)&&Et(s)?!1:t in e}const Qi=e=>{const t=e.props["onUpdate:modelValue"]||!1;return et(t)?s=>Li(t,s):t};function Wf(e){e.target.composing=!0}function kr(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Ms=Symbol("_assign"),Ne={created(e,{modifiers:{lazy:t,trim:s,number:i}},n){e[Ms]=Qi(n);const o=i||n.props&&n.props.type==="number";ls(e,t?"change":"input",r=>{if(r.target.composing)return;let l=e.value;s&&(l=l.trim()),o&&(l=Ui(l)),e[Ms](l)}),s&&ls(e,"change",()=>{e.value=e.value.trim()}),t||(ls(e,"compositionstart",Wf),ls(e,"compositionend",kr),ls(e,"change",kr))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:s,modifiers:{lazy:i,trim:n,number:o}},r){if(e[Ms]=Qi(r),e.composing)return;const l=(o||e.type==="number")&&!/^0\d/.test(e.value)?Ui(e.value):e.value,a=t??"";l!==a&&(document.activeElement===e&&e.type!=="range"&&(i&&t===s||n&&e.value.trim()===a)||(e.value=a))}},te={deep:!0,created(e,{value:t,modifiers:{number:s}},i){const n=fn(t);ls(e,"change",()=>{const o=Array.prototype.filter.call(e.options,r=>r.selected).map(r=>s?Ui(tn(r)):tn(r));e[Ms](e.multiple?n?new Set(o):o:o[0]),e._assigning=!0,ca(()=>{e._assigning=!1})}),e[Ms]=Qi(i)},mounted(e,{value:t}){Cr(e,t)},beforeUpdate(e,t,s){e[Ms]=Qi(s)},updated(e,{value:t}){e._assigning||Cr(e,t)}};function Cr(e,t){const s=e.multiple,i=et(t);if(!(s&&!i&&!fn(t))){for(let n=0,o=e.options.length;n<o;n++){const r=e.options[n],l=tn(r);if(s)if(i){const a=typeof l;a==="string"||a==="number"?r.selected=t.some(c=>String(c)===String(l)):r.selected=Bc(t,l)>-1}else r.selected=t.has(l);else if(pn(tn(r),t)){e.selectedIndex!==n&&(e.selectedIndex=n);return}}!s&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function tn(e){return"_value"in e?e._value:e.value}const Uf={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Kf=(e,t)=>{const s=e._withKeys||(e._withKeys={}),i=t.join(".");return s[i]||(s[i]=(n=>{if(!("key"in n))return;const o=Ze(n.key);if(t.some(r=>r===o||Uf[r]===o))return e(n)}))},Yf=Kt({patchProp:Vf},Tf);let Tr;function Gf(){return Tr||(Tr=Xu(Yf))}const Xf=((...e)=>{const t=Gf().createApp(...e),{mount:s}=t;return t.mount=i=>{const n=Jf(i);if(!n)return;const o=t._component;!lt(o)&&!o.render&&!o.template&&(o.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const r=s(n,!1,qf(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),r},t});function qf(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Jf(e){return Et(e)?document.querySelector(e):e}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function bi(e){return e+.5|0}const Ue=(e,t,s)=>Math.max(Math.min(e,s),t);function Bs(e){return Ue(bi(e*2.55),0,255)}function Ye(e){return Ue(bi(e*255),0,255)}function Fe(e){return Ue(bi(e/2.55)/100,0,1)}function Or(e){return Ue(bi(e*100),0,100)}const ne={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},eo=[..."0123456789ABCDEF"],Zf=e=>eo[e&15],Qf=e=>eo[(e&240)>>4]+eo[e&15],_i=e=>(e&240)>>4===(e&15),th=e=>_i(e.r)&&_i(e.g)&&_i(e.b)&&_i(e.a);function eh(e){var t=e.length,s;return e[0]==="#"&&(t===4||t===5?s={r:255&ne[e[1]]*17,g:255&ne[e[2]]*17,b:255&ne[e[3]]*17,a:t===5?ne[e[4]]*17:255}:(t===7||t===9)&&(s={r:ne[e[1]]<<4|ne[e[2]],g:ne[e[3]]<<4|ne[e[4]],b:ne[e[5]]<<4|ne[e[6]],a:t===9?ne[e[7]]<<4|ne[e[8]]:255})),s}const sh=(e,t)=>e<255?t(e):"";function ih(e){var t=th(e)?Zf:Qf;return e?"#"+t(e.r)+t(e.g)+t(e.b)+sh(e.a,t):void 0}const nh=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Va(e,t,s){const i=t*Math.min(s,1-s),n=(o,r=(o+e/30)%12)=>s-i*Math.max(Math.min(r-3,9-r,1),-1);return[n(0),n(8),n(4)]}function oh(e,t,s){const i=(n,o=(n+e/60)%6)=>s-s*t*Math.max(Math.min(o,4-o,1),0);return[i(5),i(3),i(1)]}function rh(e,t,s){const i=Va(e,1,.5);let n;for(t+s>1&&(n=1/(t+s),t*=n,s*=n),n=0;n<3;n++)i[n]*=1-t-s,i[n]+=t;return i}function lh(e,t,s,i,n){return e===n?(t-s)/i+(t<s?6:0):t===n?(s-e)/i+2:(e-t)/i+4}function Do(e){const s=e.r/255,i=e.g/255,n=e.b/255,o=Math.max(s,i,n),r=Math.min(s,i,n),l=(o+r)/2;let a,c,u;return o!==r&&(u=o-r,c=l>.5?u/(2-o-r):u/(o+r),a=lh(s,i,n,u,o),a=a*60+.5),[a|0,c||0,l]}function Eo(e,t,s,i){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,s,i)).map(Ye)}function Io(e,t,s){return Eo(Va,e,t,s)}function ah(e,t,s){return Eo(rh,e,t,s)}function ch(e,t,s){return Eo(oh,e,t,s)}function ja(e){return(e%360+360)%360}function uh(e){const t=nh.exec(e);let s=255,i;if(!t)return;t[5]!==i&&(s=t[6]?Bs(+t[5]):Ye(+t[5]));const n=ja(+t[2]),o=+t[3]/100,r=+t[4]/100;return t[1]==="hwb"?i=ah(n,o,r):t[1]==="hsv"?i=ch(n,o,r):i=Io(n,o,r),{r:i[0],g:i[1],b:i[2],a:s}}function fh(e,t){var s=Do(e);s[0]=ja(s[0]+t),s=Io(s),e.r=s[0],e.g=s[1],e.b=s[2]}function hh(e){if(!e)return;const t=Do(e),s=t[0],i=Or(t[1]),n=Or(t[2]);return e.a<255?`hsla(${s}, ${i}%, ${n}%, ${Fe(e.a)})`:`hsl(${s}, ${i}%, ${n}%)`}const Pr={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Ar={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function dh(){const e={},t=Object.keys(Ar),s=Object.keys(Pr);let i,n,o,r,l;for(i=0;i<t.length;i++){for(r=l=t[i],n=0;n<s.length;n++)o=s[n],l=l.replace(o,Pr[o]);o=parseInt(Ar[r],16),e[l]=[o>>16&255,o>>8&255,o&255]}return e}let wi;function gh(e){wi||(wi=dh(),wi.transparent=[0,0,0,0]);const t=wi[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const ph=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function mh(e){const t=ph.exec(e);let s=255,i,n,o;if(t){if(t[7]!==i){const r=+t[7];s=t[8]?Bs(r):Ue(r*255,0,255)}return i=+t[1],n=+t[3],o=+t[5],i=255&(t[2]?Bs(i):Ue(i,0,255)),n=255&(t[4]?Bs(n):Ue(n,0,255)),o=255&(t[6]?Bs(o):Ue(o,0,255)),{r:i,g:n,b:o,a:s}}}function bh(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${Fe(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const Rn=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,ms=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function xh(e,t,s){const i=ms(Fe(e.r)),n=ms(Fe(e.g)),o=ms(Fe(e.b));return{r:Ye(Rn(i+s*(ms(Fe(t.r))-i))),g:Ye(Rn(n+s*(ms(Fe(t.g))-n))),b:Ye(Rn(o+s*(ms(Fe(t.b))-o))),a:e.a+s*(t.a-e.a)}}function Mi(e,t,s){if(e){let i=Do(e);i[t]=Math.max(0,Math.min(i[t]+i[t]*s,t===0?360:1)),i=Io(i),e.r=i[0],e.g=i[1],e.b=i[2]}}function Wa(e,t){return e&&Object.assign(t||{},e)}function Dr(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=Ye(e[3]))):(t=Wa(e,{r:0,g:0,b:0,a:1}),t.a=Ye(t.a)),t}function yh(e){return e.charAt(0)==="r"?mh(e):uh(e)}class ai{constructor(t){if(t instanceof ai)return t;const s=typeof t;let i;s==="object"?i=Dr(t):s==="string"&&(i=eh(t)||gh(t)||yh(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=Wa(this._rgb);return t&&(t.a=Fe(t.a)),t}set rgb(t){this._rgb=Dr(t)}rgbString(){return this._valid?bh(this._rgb):void 0}hexString(){return this._valid?ih(this._rgb):void 0}hslString(){return this._valid?hh(this._rgb):void 0}mix(t,s){if(t){const i=this.rgb,n=t.rgb;let o;const r=s===o?.5:s,l=2*r-1,a=i.a-n.a,c=((l*a===-1?l:(l+a)/(1+l*a))+1)/2;o=1-c,i.r=255&c*i.r+o*n.r+.5,i.g=255&c*i.g+o*n.g+.5,i.b=255&c*i.b+o*n.b+.5,i.a=r*i.a+(1-r)*n.a,this.rgb=i}return this}interpolate(t,s){return t&&(this._rgb=xh(this._rgb,t._rgb,s)),this}clone(){return new ai(this.rgb)}alpha(t){return this._rgb.a=Ye(t),this}clearer(t){const s=this._rgb;return s.a*=1-t,this}greyscale(){const t=this._rgb,s=bi(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=s,this}opaquer(t){const s=this._rgb;return s.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Mi(this._rgb,2,t),this}darken(t){return Mi(this._rgb,2,-t),this}saturate(t){return Mi(this._rgb,1,t),this}desaturate(t){return Mi(this._rgb,1,-t),this}rotate(t){return fh(this._rgb,t),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Ae(){}const vh=(()=>{let e=0;return()=>e++})();function Mt(e){return e==null}function Rt(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function pt(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function ce(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function xe(e,t){return ce(e)?e:t}function dt(e,t){return typeof e>"u"?t:e}const _h=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function Ct(e,t,s){if(e&&typeof e.call=="function")return e.apply(s,t)}function yt(e,t,s,i){let n,o,r;if(Rt(e))for(o=e.length,n=0;n<o;n++)t.call(s,e[n],n);else if(pt(e))for(r=Object.keys(e),o=r.length,n=0;n<o;n++)t.call(s,e[r[n]],r[n])}function en(e,t){let s,i,n,o;if(!e||!t||e.length!==t.length)return!1;for(s=0,i=e.length;s<i;++s)if(n=e[s],o=t[s],n.datasetIndex!==o.datasetIndex||n.index!==o.index)return!1;return!0}function sn(e){if(Rt(e))return e.map(sn);if(pt(e)){const t=Object.create(null),s=Object.keys(e),i=s.length;let n=0;for(;n<i;++n)t[s[n]]=sn(e[s[n]]);return t}return e}function Ua(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function wh(e,t,s,i){if(!Ua(e))return;const n=t[e],o=s[e];pt(n)&&pt(o)?ci(n,o,i):t[e]=sn(o)}function ci(e,t,s){const i=Rt(t)?t:[t],n=i.length;if(!pt(e))return e;s=s||{};const o=s.merger||wh;let r;for(let l=0;l<n;++l){if(r=i[l],!pt(r))continue;const a=Object.keys(r);for(let c=0,u=a.length;c<u;++c)o(a[c],e,r,s)}return e}function Js(e,t){return ci(e,t,{merger:Mh})}function Mh(e,t,s){if(!Ua(e))return;const i=t[e],n=s[e];pt(i)&&pt(n)?Js(i,n):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=sn(n))}const Er={"":e=>e,x:e=>e.x,y:e=>e.y};function Sh(e){const t=e.split("."),s=[];let i="";for(const n of t)i+=n,i.endsWith("\\")?i=i.slice(0,-1)+".":(s.push(i),i="");return s}function kh(e){const t=Sh(e);return s=>{for(const i of t){if(i==="")break;s=s&&s[i]}return s}}function nn(e,t){return(Er[t]||(Er[t]=kh(t)))(e)}function Fo(e){return e.charAt(0).toUpperCase()+e.slice(1)}const on=e=>typeof e<"u",Je=e=>typeof e=="function",Ir=(e,t)=>{if(e.size!==t.size)return!1;for(const s of e)if(!t.has(s))return!1;return!0};function Ch(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const Lt=Math.PI,ke=2*Lt,Th=ke+Lt,rn=Number.POSITIVE_INFINITY,Oh=Lt/180,he=Lt/2,es=Lt/4,Fr=Lt*2/3,Ka=Math.log10,Cs=Math.sign;function Zs(e,t,s){return Math.abs(e-t)<s}function Rr(e){const t=Math.round(e);e=Zs(e,t,e/1e3)?t:e;const s=Math.pow(10,Math.floor(Ka(e))),i=e/s;return(i<=1?1:i<=2?2:i<=5?5:10)*s}function Ph(e){const t=[],s=Math.sqrt(e);let i;for(i=1;i<s;i++)e%i===0&&(t.push(i),t.push(e/i));return s===(s|0)&&t.push(s),t.sort((n,o)=>n-o).pop(),t}function Ah(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function ui(e){return!Ah(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function Dh(e,t){const s=Math.round(e);return s-t<=e&&s+t>=e}function Eh(e,t,s){let i,n,o;for(i=0,n=e.length;i<n;i++)o=e[i][s],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function as(e){return e*(Lt/180)}function Ih(e){return e*(180/Lt)}function Lr(e){if(!ce(e))return;let t=1,s=0;for(;Math.round(e*t)/t!==e;)t*=10,s++;return s}function Fh(e,t){const s=t.x-e.x,i=t.y-e.y,n=Math.sqrt(s*s+i*i);let o=Math.atan2(i,s);return o<-.5*Lt&&(o+=ke),{angle:o,distance:n}}function so(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function Rh(e,t){return(e-t+Th)%ke-Lt}function Ve(e){return(e%ke+ke)%ke}function Ya(e,t,s,i){const n=Ve(e),o=Ve(t),r=Ve(s),l=Ve(o-n),a=Ve(r-n),c=Ve(n-o),u=Ve(n-r);return n===o||n===r||i&&o===r||l>a&&c<u}function re(e,t,s){return Math.max(t,Math.min(s,e))}function Lh(e){return re(e,-32768,32767)}function Hs(e,t,s,i=1e-6){return e>=Math.min(t,s)-i&&e<=Math.max(t,s)+i}function Ro(e,t,s){s=s||(r=>e[r]<t);let i=e.length-1,n=0,o;for(;i-n>1;)o=n+i>>1,s(o)?n=o:i=o;return{lo:n,hi:i}}const cs=(e,t,s,i)=>Ro(e,s,i?n=>{const o=e[n][t];return o<s||o===s&&e[n+1][t]===s}:n=>e[n][t]<s),$h=(e,t,s)=>Ro(e,s,i=>e[i][t]>=s);function zh(e,t,s){let i=0,n=e.length;for(;i<n&&e[i]<t;)i++;for(;n>i&&e[n-1]>s;)n--;return i>0||n<e.length?e.slice(i,n):e}const Ga=["push","pop","shift","splice","unshift"];function Bh(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),Ga.forEach(s=>{const i="_onData"+Fo(s),n=e[s];Object.defineProperty(e,s,{configurable:!0,enumerable:!1,value(...o){const r=n.apply(this,o);return e._chartjs.listeners.forEach(l=>{typeof l[i]=="function"&&l[i](...o)}),r}})})}function $r(e,t){const s=e._chartjs;if(!s)return;const i=s.listeners,n=i.indexOf(t);n!==-1&&i.splice(n,1),!(i.length>0)&&(Ga.forEach(o=>{delete e[o]}),delete e._chartjs)}function Hh(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const Xa=(function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame})();function qa(e,t){let s=[],i=!1;return function(...n){s=n,i||(i=!0,Xa.call(window,()=>{i=!1,e.apply(t,s)}))}}function Nh(e,t){let s;return function(...i){return t?(clearTimeout(s),s=setTimeout(e,t,i)):e.apply(this,i),t}}const Lo=e=>e==="start"?"left":e==="end"?"right":"center",Bt=(e,t,s)=>e==="start"?t:e==="end"?s:(t+s)/2,Vh=(e,t,s,i)=>e===(i?"left":"right")?s:e==="center"?(t+s)/2:t;function jh(e,t,s){const i=t.length;let n=0,o=i;if(e._sorted){const{iScale:r,vScale:l,_parsed:a}=e,c=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,u=r.axis,{min:f,max:h,minDefined:d,maxDefined:b}=r.getUserBounds();if(d){if(n=Math.min(cs(a,u,f).lo,s?i:cs(t,u,r.getPixelForValue(f)).lo),c){const x=a.slice(0,n+1).reverse().findIndex(m=>!Mt(m[l.axis]));n-=Math.max(0,x)}n=re(n,0,i-1)}if(b){let x=Math.max(cs(a,r.axis,h,!0).hi+1,s?0:cs(t,u,r.getPixelForValue(h),!0).hi+1);if(c){const m=a.slice(x-1).findIndex(_=>!Mt(_[l.axis]));x+=Math.max(0,m)}o=re(x,n,i)-n}else o=i-n}return{start:n,count:o}}function Wh(e){const{xScale:t,yScale:s,_scaleRanges:i}=e,n={xmin:t.min,xmax:t.max,ymin:s.min,ymax:s.max};if(!i)return e._scaleRanges=n,!0;const o=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==s.min||i.ymax!==s.max;return Object.assign(i,n),o}const Si=e=>e===0||e===1,zr=(e,t,s)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*ke/s)),Br=(e,t,s)=>Math.pow(2,-10*e)*Math.sin((e-t)*ke/s)+1,Qs={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*he)+1,easeOutSine:e=>Math.sin(e*he),easeInOutSine:e=>-.5*(Math.cos(Lt*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>Si(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>Si(e)?e:zr(e,.075,.3),easeOutElastic:e=>Si(e)?e:Br(e,.075,.3),easeInOutElastic(e){return Si(e)?e:e<.5?.5*zr(e*2,.1125,.45):.5+.5*Br(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-Qs.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?Qs.easeInBounce(e*2)*.5:Qs.easeOutBounce(e*2-1)*.5+.5};function $o(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function Hr(e){return $o(e)?e:new ai(e)}function Ln(e){return $o(e)?e:new ai(e).saturate(.5).darken(.1).hexString()}const Uh=["x","y","borderWidth","radius","tension"],Kh=["color","borderColor","backgroundColor"];function Yh(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:Kh},numbers:{type:"number",properties:Uh}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function Gh(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Nr=new Map;function Xh(e,t){t=t||{};const s=e+JSON.stringify(t);let i=Nr.get(s);return i||(i=new Intl.NumberFormat(e,t),Nr.set(s,i)),i}function Ja(e,t,s){return Xh(t,s).format(e)}const qh={values(e){return Rt(e)?e:""+e},numeric(e,t,s){if(e===0)return"0";const i=this.chart.options.locale;let n,o=e;if(s.length>1){const c=Math.max(Math.abs(s[0].value),Math.abs(s[s.length-1].value));(c<1e-4||c>1e15)&&(n="scientific"),o=Jh(e,s)}const r=Ka(Math.abs(o)),l=isNaN(r)?1:Math.max(Math.min(-1*Math.floor(r),20),0),a={notation:n,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(a,this.options.ticks.format),Ja(e,i,a)}};function Jh(e,t){let s=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(s)>=1&&e!==Math.floor(e)&&(s=e-Math.floor(e)),s}var Za={formatters:qh};function Zh(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,s)=>s.lineWidth,tickColor:(t,s)=>s.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Za.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const hs=Object.create(null),io=Object.create(null);function ti(e,t){if(!t)return e;const s=t.split(".");for(let i=0,n=s.length;i<n;++i){const o=s[i];e=e[o]||(e[o]=Object.create(null))}return e}function $n(e,t,s){return typeof t=="string"?ci(ti(e,t),s):ci(ti(e,""),t)}class Qh{constructor(t,s){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,n)=>Ln(n.backgroundColor),this.hoverBorderColor=(i,n)=>Ln(n.borderColor),this.hoverColor=(i,n)=>Ln(n.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(s)}set(t,s){return $n(this,t,s)}get(t){return ti(this,t)}describe(t,s){return $n(io,t,s)}override(t,s){return $n(hs,t,s)}route(t,s,i,n){const o=ti(this,t),r=ti(this,i),l="_"+s;Object.defineProperties(o,{[l]:{value:o[s],writable:!0},[s]:{enumerable:!0,get(){const a=this[l],c=r[n];return pt(a)?Object.assign({},c,a):dt(a,c)},set(a){this[l]=a}}})}apply(t){t.forEach(s=>s(this))}}var At=new Qh({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Yh,Gh,Zh]);function td(e){return!e||Mt(e.size)||Mt(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function Vr(e,t,s,i,n){let o=t[n];return o||(o=t[n]=e.measureText(n).width,s.push(n)),o>i&&(i=o),i}function ss(e,t,s){const i=e.currentDevicePixelRatio,n=s!==0?Math.max(s/2,.5):0;return Math.round((t-n)*i)/i+n}function jr(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function no(e,t,s,i){Qa(e,t,s,i,null)}function Qa(e,t,s,i,n){let o,r,l,a,c,u,f,h;const d=t.pointStyle,b=t.rotation,x=t.radius;let m=(b||0)*Oh;if(d&&typeof d=="object"&&(o=d.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){e.save(),e.translate(s,i),e.rotate(m),e.drawImage(d,-d.width/2,-d.height/2,d.width,d.height),e.restore();return}if(!(isNaN(x)||x<=0)){switch(e.beginPath(),d){default:n?e.ellipse(s,i,n/2,x,0,0,ke):e.arc(s,i,x,0,ke),e.closePath();break;case"triangle":u=n?n/2:x,e.moveTo(s+Math.sin(m)*u,i-Math.cos(m)*x),m+=Fr,e.lineTo(s+Math.sin(m)*u,i-Math.cos(m)*x),m+=Fr,e.lineTo(s+Math.sin(m)*u,i-Math.cos(m)*x),e.closePath();break;case"rectRounded":c=x*.516,a=x-c,r=Math.cos(m+es)*a,f=Math.cos(m+es)*(n?n/2-c:a),l=Math.sin(m+es)*a,h=Math.sin(m+es)*(n?n/2-c:a),e.arc(s-f,i-l,c,m-Lt,m-he),e.arc(s+h,i-r,c,m-he,m),e.arc(s+f,i+l,c,m,m+he),e.arc(s-h,i+r,c,m+he,m+Lt),e.closePath();break;case"rect":if(!b){a=Math.SQRT1_2*x,u=n?n/2:a,e.rect(s-u,i-a,2*u,2*a);break}m+=es;case"rectRot":f=Math.cos(m)*(n?n/2:x),r=Math.cos(m)*x,l=Math.sin(m)*x,h=Math.sin(m)*(n?n/2:x),e.moveTo(s-f,i-l),e.lineTo(s+h,i-r),e.lineTo(s+f,i+l),e.lineTo(s-h,i+r),e.closePath();break;case"crossRot":m+=es;case"cross":f=Math.cos(m)*(n?n/2:x),r=Math.cos(m)*x,l=Math.sin(m)*x,h=Math.sin(m)*(n?n/2:x),e.moveTo(s-f,i-l),e.lineTo(s+f,i+l),e.moveTo(s+h,i-r),e.lineTo(s-h,i+r);break;case"star":f=Math.cos(m)*(n?n/2:x),r=Math.cos(m)*x,l=Math.sin(m)*x,h=Math.sin(m)*(n?n/2:x),e.moveTo(s-f,i-l),e.lineTo(s+f,i+l),e.moveTo(s+h,i-r),e.lineTo(s-h,i+r),m+=es,f=Math.cos(m)*(n?n/2:x),r=Math.cos(m)*x,l=Math.sin(m)*x,h=Math.sin(m)*(n?n/2:x),e.moveTo(s-f,i-l),e.lineTo(s+f,i+l),e.moveTo(s+h,i-r),e.lineTo(s-h,i+r);break;case"line":r=n?n/2:Math.cos(m)*x,l=Math.sin(m)*x,e.moveTo(s-r,i-l),e.lineTo(s+r,i+l);break;case"dash":e.moveTo(s,i),e.lineTo(s+Math.cos(m)*(n?n/2:x),i+Math.sin(m)*x);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function fi(e,t,s){return s=s||.5,!t||e&&e.x>t.left-s&&e.x<t.right+s&&e.y>t.top-s&&e.y<t.bottom+s}function zo(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function Bo(e){e.restore()}function ed(e,t,s,i,n){if(!t)return e.lineTo(s.x,s.y);if(n==="middle"){const o=(t.x+s.x)/2;e.lineTo(o,t.y),e.lineTo(o,s.y)}else n==="after"!=!!i?e.lineTo(t.x,s.y):e.lineTo(s.x,t.y);e.lineTo(s.x,s.y)}function sd(e,t,s,i){if(!t)return e.lineTo(s.x,s.y);e.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?s.cp2x:s.cp1x,i?s.cp2y:s.cp1y,s.x,s.y)}function id(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),Mt(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function nd(e,t,s,i,n){if(n.strikethrough||n.underline){const o=e.measureText(i),r=t-o.actualBoundingBoxLeft,l=t+o.actualBoundingBoxRight,a=s-o.actualBoundingBoxAscent,c=s+o.actualBoundingBoxDescent,u=n.strikethrough?(a+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=n.decorationWidth||2,e.moveTo(r,u),e.lineTo(l,u),e.stroke()}}function od(e,t){const s=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=s}function hi(e,t,s,i,n,o={}){const r=Rt(t)?t:[t],l=o.strokeWidth>0&&o.strokeColor!=="";let a,c;for(e.save(),e.font=n.string,id(e,o),a=0;a<r.length;++a)c=r[a],o.backdrop&&od(e,o.backdrop),l&&(o.strokeColor&&(e.strokeStyle=o.strokeColor),Mt(o.strokeWidth)||(e.lineWidth=o.strokeWidth),e.strokeText(c,s,i,o.maxWidth)),e.fillText(c,s,i,o.maxWidth),nd(e,s,i,c,o),i+=Number(n.lineHeight);e.restore()}function oo(e,t){const{x:s,y:i,w:n,h:o,radius:r}=t;e.arc(s+r.topLeft,i+r.topLeft,r.topLeft,1.5*Lt,Lt,!0),e.lineTo(s,i+o-r.bottomLeft),e.arc(s+r.bottomLeft,i+o-r.bottomLeft,r.bottomLeft,Lt,he,!0),e.lineTo(s+n-r.bottomRight,i+o),e.arc(s+n-r.bottomRight,i+o-r.bottomRight,r.bottomRight,he,0,!0),e.lineTo(s+n,i+r.topRight),e.arc(s+n-r.topRight,i+r.topRight,r.topRight,0,-he,!0),e.lineTo(s+r.topLeft,i)}const rd=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,ld=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function ad(e,t){const s=(""+e).match(rd);if(!s||s[1]==="normal")return t*1.2;switch(e=+s[2],s[3]){case"px":return e;case"%":e/=100;break}return t*e}const cd=e=>+e||0;function tc(e,t){const s={},i=pt(t),n=i?Object.keys(t):t,o=pt(e)?i?r=>dt(e[r],e[t[r]]):r=>e[r]:()=>e;for(const r of n)s[r]=cd(o(r));return s}function ud(e){return tc(e,{top:"y",right:"x",bottom:"y",left:"x"})}function ei(e){return tc(e,["topLeft","topRight","bottomLeft","bottomRight"])}function ue(e){const t=ud(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Nt(e,t){e=e||{},t=t||At.font;let s=dt(e.size,t.size);typeof s=="string"&&(s=parseInt(s,10));let i=dt(e.style,t.style);i&&!(""+i).match(ld)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const n={family:dt(e.family,t.family),lineHeight:ad(dt(e.lineHeight,t.lineHeight),s),size:s,style:i,weight:dt(e.weight,t.weight),string:""};return n.string=td(n),n}function ki(e,t,s,i){let n,o,r;for(n=0,o=e.length;n<o;++n)if(r=e[n],r!==void 0&&r!==void 0)return r}function fd(e,t,s){const{min:i,max:n}=e,o=_h(t,(n-i)/2),r=(l,a)=>s&&l===0?0:l+a;return{min:r(i,-Math.abs(o)),max:r(n,o)}}function ds(e,t){return Object.assign(Object.create(e),t)}function Ho(e,t=[""],s,i,n=()=>e[0]){const o=s||e;typeof i>"u"&&(i=nc("_fallback",e));const r={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:o,_fallback:i,_getTarget:n,override:l=>Ho([l,...e],t,o,i)};return new Proxy(r,{deleteProperty(l,a){return delete l[a],delete l._keys,delete e[0][a],!0},get(l,a){return sc(l,a,()=>yd(a,t,e,l))},getOwnPropertyDescriptor(l,a){return Reflect.getOwnPropertyDescriptor(l._scopes[0],a)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(l,a){return Ur(l).includes(a)},ownKeys(l){return Ur(l)},set(l,a,c){const u=l._storage||(l._storage=n());return l[a]=u[a]=c,delete l._keys,!0}})}function Ts(e,t,s,i){const n={_cacheable:!1,_proxy:e,_context:t,_subProxy:s,_stack:new Set,_descriptors:ec(e,i),setContext:o=>Ts(e,o,s,i),override:o=>Ts(e.override(o),t,s,i)};return new Proxy(n,{deleteProperty(o,r){return delete o[r],delete e[r],!0},get(o,r,l){return sc(o,r,()=>dd(o,r,l))},getOwnPropertyDescriptor(o,r){return o._descriptors.allKeys?Reflect.has(e,r)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,r)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(o,r){return Reflect.has(e,r)},ownKeys(){return Reflect.ownKeys(e)},set(o,r,l){return e[r]=l,delete o[r],!0}})}function ec(e,t={scriptable:!0,indexable:!0}){const{_scriptable:s=t.scriptable,_indexable:i=t.indexable,_allKeys:n=t.allKeys}=e;return{allKeys:n,scriptable:s,indexable:i,isScriptable:Je(s)?s:()=>s,isIndexable:Je(i)?i:()=>i}}const hd=(e,t)=>e?e+Fo(t):t,No=(e,t)=>pt(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function sc(e,t,s){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const i=s();return e[t]=i,i}function dd(e,t,s){const{_proxy:i,_context:n,_subProxy:o,_descriptors:r}=e;let l=i[t];return Je(l)&&r.isScriptable(t)&&(l=gd(t,l,e,s)),Rt(l)&&l.length&&(l=pd(t,l,e,r.isIndexable)),No(t,l)&&(l=Ts(l,n,o&&o[t],r)),l}function gd(e,t,s,i){const{_proxy:n,_context:o,_subProxy:r,_stack:l}=s;if(l.has(e))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+e);l.add(e);let a=t(o,r||i);return l.delete(e),No(e,a)&&(a=Vo(n._scopes,n,e,a)),a}function pd(e,t,s,i){const{_proxy:n,_context:o,_subProxy:r,_descriptors:l}=s;if(typeof o.index<"u"&&i(e))return t[o.index%t.length];if(pt(t[0])){const a=t,c=n._scopes.filter(u=>u!==a);t=[];for(const u of a){const f=Vo(c,n,e,u);t.push(Ts(f,o,r&&r[e],l))}}return t}function ic(e,t,s){return Je(e)?e(t,s):e}const md=(e,t)=>e===!0?t:typeof e=="string"?nn(t,e):void 0;function bd(e,t,s,i,n){for(const o of t){const r=md(s,o);if(r){e.add(r);const l=ic(r._fallback,s,n);if(typeof l<"u"&&l!==s&&l!==i)return l}else if(r===!1&&typeof i<"u"&&s!==i)return null}return!1}function Vo(e,t,s,i){const n=t._rootScopes,o=ic(t._fallback,s,i),r=[...e,...n],l=new Set;l.add(i);let a=Wr(l,r,s,o||s,i);return a===null||typeof o<"u"&&o!==s&&(a=Wr(l,r,o,a,i),a===null)?!1:Ho(Array.from(l),[""],n,o,()=>xd(t,s,i))}function Wr(e,t,s,i,n){for(;s;)s=bd(e,t,s,i,n);return s}function xd(e,t,s){const i=e._getTarget();t in i||(i[t]={});const n=i[t];return Rt(n)&&pt(s)?s:n||{}}function yd(e,t,s,i){let n;for(const o of t)if(n=nc(hd(o,e),s),typeof n<"u")return No(e,n)?Vo(s,i,e,n):n}function nc(e,t){for(const s of t){if(!s)continue;const i=s[e];if(typeof i<"u")return i}}function Ur(e){let t=e._keys;return t||(t=e._keys=vd(e._scopes)),t}function vd(e){const t=new Set;for(const s of e)for(const i of Object.keys(s).filter(n=>!n.startsWith("_")))t.add(i);return Array.from(t)}const _d=Number.EPSILON||1e-14,Os=(e,t)=>t<e.length&&!e[t].skip&&e[t],oc=e=>e==="x"?"y":"x";function wd(e,t,s,i){const n=e.skip?t:e,o=t,r=s.skip?t:s,l=so(o,n),a=so(r,o);let c=l/(l+a),u=a/(l+a);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const f=i*c,h=i*u;return{previous:{x:o.x-f*(r.x-n.x),y:o.y-f*(r.y-n.y)},next:{x:o.x+h*(r.x-n.x),y:o.y+h*(r.y-n.y)}}}function Md(e,t,s){const i=e.length;let n,o,r,l,a,c=Os(e,0);for(let u=0;u<i-1;++u)if(a=c,c=Os(e,u+1),!(!a||!c)){if(Zs(t[u],0,_d)){s[u]=s[u+1]=0;continue}n=s[u]/t[u],o=s[u+1]/t[u],l=Math.pow(n,2)+Math.pow(o,2),!(l<=9)&&(r=3/Math.sqrt(l),s[u]=n*r*t[u],s[u+1]=o*r*t[u])}}function Sd(e,t,s="x"){const i=oc(s),n=e.length;let o,r,l,a=Os(e,0);for(let c=0;c<n;++c){if(r=l,l=a,a=Os(e,c+1),!l)continue;const u=l[s],f=l[i];r&&(o=(u-r[s])/3,l[`cp1${s}`]=u-o,l[`cp1${i}`]=f-o*t[c]),a&&(o=(a[s]-u)/3,l[`cp2${s}`]=u+o,l[`cp2${i}`]=f+o*t[c])}}function kd(e,t="x"){const s=oc(t),i=e.length,n=Array(i).fill(0),o=Array(i);let r,l,a,c=Os(e,0);for(r=0;r<i;++r)if(l=a,a=c,c=Os(e,r+1),!!a){if(c){const u=c[t]-a[t];n[r]=u!==0?(c[s]-a[s])/u:0}o[r]=l?c?Cs(n[r-1])!==Cs(n[r])?0:(n[r-1]+n[r])/2:n[r-1]:n[r]}Md(e,n,o),Sd(e,o,t)}function Ci(e,t,s){return Math.max(Math.min(e,s),t)}function Cd(e,t){let s,i,n,o,r,l=fi(e[0],t);for(s=0,i=e.length;s<i;++s)r=o,o=l,l=s<i-1&&fi(e[s+1],t),o&&(n=e[s],r&&(n.cp1x=Ci(n.cp1x,t.left,t.right),n.cp1y=Ci(n.cp1y,t.top,t.bottom)),l&&(n.cp2x=Ci(n.cp2x,t.left,t.right),n.cp2y=Ci(n.cp2y,t.top,t.bottom)))}function Td(e,t,s,i,n){let o,r,l,a;if(t.spanGaps&&(e=e.filter(c=>!c.skip)),t.cubicInterpolationMode==="monotone")kd(e,n);else{let c=i?e[e.length-1]:e[0];for(o=0,r=e.length;o<r;++o)l=e[o],a=wd(c,l,e[Math.min(o+1,r-(i?0:1))%r],t.tension),l.cp1x=a.previous.x,l.cp1y=a.previous.y,l.cp2x=a.next.x,l.cp2y=a.next.y,c=l}t.capBezierPoints&&Cd(e,s)}function jo(){return typeof window<"u"&&typeof document<"u"}function Wo(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function ln(e,t,s){let i;return typeof e=="string"?(i=parseInt(e,10),e.indexOf("%")!==-1&&(i=i/100*t.parentNode[s])):i=e,i}const wn=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function Od(e,t){return wn(e).getPropertyValue(t)}const Pd=["top","right","bottom","left"];function fs(e,t,s){const i={};s=s?"-"+s:"";for(let n=0;n<4;n++){const o=Pd[n];i[o]=parseFloat(e[t+"-"+o+s])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const Ad=(e,t,s)=>(e>0||t>0)&&(!s||!s.shadowRoot);function Dd(e,t){const s=e.touches,i=s&&s.length?s[0]:e,{offsetX:n,offsetY:o}=i;let r=!1,l,a;if(Ad(n,o,e.target))l=n,a=o;else{const c=t.getBoundingClientRect();l=i.clientX-c.left,a=i.clientY-c.top,r=!0}return{x:l,y:a,box:r}}function os(e,t){if("native"in e)return e;const{canvas:s,currentDevicePixelRatio:i}=t,n=wn(s),o=n.boxSizing==="border-box",r=fs(n,"padding"),l=fs(n,"border","width"),{x:a,y:c,box:u}=Dd(e,s),f=r.left+(u&&l.left),h=r.top+(u&&l.top);let{width:d,height:b}=t;return o&&(d-=r.width+l.width,b-=r.height+l.height),{x:Math.round((a-f)/d*s.width/i),y:Math.round((c-h)/b*s.height/i)}}function Ed(e,t,s){let i,n;if(t===void 0||s===void 0){const o=e&&Wo(e);if(!o)t=e.clientWidth,s=e.clientHeight;else{const r=o.getBoundingClientRect(),l=wn(o),a=fs(l,"border","width"),c=fs(l,"padding");t=r.width-c.width-a.width,s=r.height-c.height-a.height,i=ln(l.maxWidth,o,"clientWidth"),n=ln(l.maxHeight,o,"clientHeight")}}return{width:t,height:s,maxWidth:i||rn,maxHeight:n||rn}}const Ti=e=>Math.round(e*10)/10;function Id(e,t,s,i){const n=wn(e),o=fs(n,"margin"),r=ln(n.maxWidth,e,"clientWidth")||rn,l=ln(n.maxHeight,e,"clientHeight")||rn,a=Ed(e,t,s);let{width:c,height:u}=a;if(n.boxSizing==="content-box"){const h=fs(n,"border","width"),d=fs(n,"padding");c-=d.width+h.width,u-=d.height+h.height}return c=Math.max(0,c-o.width),u=Math.max(0,i?c/i:u-o.height),c=Ti(Math.min(c,r,a.maxWidth)),u=Ti(Math.min(u,l,a.maxHeight)),c&&!u&&(u=Ti(c/2)),(t!==void 0||s!==void 0)&&i&&a.height&&u>a.height&&(u=a.height,c=Ti(Math.floor(u*i))),{width:c,height:u}}function Kr(e,t,s){const i=t||1,n=Math.floor(e.height*i),o=Math.floor(e.width*i);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const r=e.canvas;return r.style&&(s||!r.style.height&&!r.style.width)&&(r.style.height=`${e.height}px`,r.style.width=`${e.width}px`),e.currentDevicePixelRatio!==i||r.height!==n||r.width!==o?(e.currentDevicePixelRatio=i,r.height=n,r.width=o,e.ctx.setTransform(i,0,0,i,0,0),!0):!1}const Fd=(function(){let e=!1;try{const t={get passive(){return e=!0,!1}};jo()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e})();function Yr(e,t){const s=Od(e,t),i=s&&s.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function rs(e,t,s,i){return{x:e.x+s*(t.x-e.x),y:e.y+s*(t.y-e.y)}}function Rd(e,t,s,i){return{x:e.x+s*(t.x-e.x),y:i==="middle"?s<.5?e.y:t.y:i==="after"?s<1?e.y:t.y:s>0?t.y:e.y}}function Ld(e,t,s,i){const n={x:e.cp2x,y:e.cp2y},o={x:t.cp1x,y:t.cp1y},r=rs(e,n,s),l=rs(n,o,s),a=rs(o,t,s),c=rs(r,l,s),u=rs(l,a,s);return rs(c,u,s)}const $d=function(e,t){return{x(s){return e+e+t-s},setWidth(s){t=s},textAlign(s){return s==="center"?s:s==="right"?"left":"right"},xPlus(s,i){return s-i},leftForLtr(s,i){return s-i}}},zd=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function Ss(e,t,s){return e?$d(t,s):zd()}function rc(e,t){let s,i;(t==="ltr"||t==="rtl")&&(s=e.canvas.style,i=[s.getPropertyValue("direction"),s.getPropertyPriority("direction")],s.setProperty("direction",t,"important"),e.prevTextDirection=i)}function lc(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function ac(e){return e==="angle"?{between:Ya,compare:Rh,normalize:Ve}:{between:Hs,compare:(t,s)=>t-s,normalize:t=>t}}function Gr({start:e,end:t,count:s,loop:i,style:n}){return{start:e%s,end:t%s,loop:i&&(t-e+1)%s===0,style:n}}function Bd(e,t,s){const{property:i,start:n,end:o}=s,{between:r,normalize:l}=ac(i),a=t.length;let{start:c,end:u,loop:f}=e,h,d;if(f){for(c+=a,u+=a,h=0,d=a;h<d&&r(l(t[c%a][i]),n,o);++h)c--,u--;c%=a,u%=a}return u<c&&(u+=a),{start:c,end:u,loop:f,style:e.style}}function Hd(e,t,s){if(!s)return[e];const{property:i,start:n,end:o}=s,r=t.length,{compare:l,between:a,normalize:c}=ac(i),{start:u,end:f,loop:h,style:d}=Bd(e,t,s),b=[];let x=!1,m=null,_,C,D;const T=()=>a(n,D,_)&&l(n,D)!==0,P=()=>l(o,_)===0||a(o,D,_),H=()=>x||T(),N=()=>!x||P();for(let z=u,q=u;z<=f;++z)C=t[z%r],!C.skip&&(_=c(C[i]),_!==D&&(x=a(_,n,o),m===null&&H()&&(m=l(_,n)===0?z:q),m!==null&&N()&&(b.push(Gr({start:m,end:z,loop:h,count:r,style:d})),m=null),q=z,D=_));return m!==null&&b.push(Gr({start:m,end:f,loop:h,count:r,style:d})),b}function Nd(e,t){const s=[],i=e.segments;for(let n=0;n<i.length;n++){const o=Hd(i[n],e.points,t);o.length&&s.push(...o)}return s}function Vd(e,t,s,i){let n=0,o=t-1;if(s&&!i)for(;n<t&&!e[n].skip;)n++;for(;n<t&&e[n].skip;)n++;for(n%=t,s&&(o+=n);o>n&&e[o%t].skip;)o--;return o%=t,{start:n,end:o}}function jd(e,t,s,i){const n=e.length,o=[];let r=t,l=e[t],a;for(a=t+1;a<=s;++a){const c=e[a%n];c.skip||c.stop?l.skip||(i=!1,o.push({start:t%n,end:(a-1)%n,loop:i}),t=r=c.stop?a:null):(r=a,l.skip&&(t=a)),l=c}return r!==null&&o.push({start:t%n,end:r%n,loop:i}),o}function Wd(e,t){const s=e.points,i=e.options.spanGaps,n=s.length;if(!n)return[];const o=!!e._loop,{start:r,end:l}=Vd(s,n,o,i);if(i===!0)return Xr(e,[{start:r,end:l,loop:o}],s,t);const a=l<r?l+n:l,c=!!e._fullLoop&&r===0&&l===n-1;return Xr(e,jd(s,r,a,c),s,t)}function Xr(e,t,s,i){return!i||!i.setContext||!s?t:Ud(e,t,s,i)}function Ud(e,t,s,i){const n=e._chart.getContext(),o=qr(e.options),{_datasetIndex:r,options:{spanGaps:l}}=e,a=s.length,c=[];let u=o,f=t[0].start,h=f;function d(b,x,m,_){const C=l?-1:1;if(b!==x){for(b+=a;s[b%a].skip;)b-=C;for(;s[x%a].skip;)x+=C;b%a!==x%a&&(c.push({start:b%a,end:x%a,loop:m,style:_}),u=_,f=x%a)}}for(const b of t){f=l?f:b.start;let x=s[f%a],m;for(h=f+1;h<=b.end;h++){const _=s[h%a];m=qr(i.setContext(ds(n,{type:"segment",p0:x,p1:_,p0DataIndex:(h-1)%a,p1DataIndex:h%a,datasetIndex:r}))),Kd(m,u)&&d(f,h-1,b.loop,u),x=_,u=m}f<h-1&&d(f,h-1,b.loop,u)}return c}function qr(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function Kd(e,t){if(!t)return!1;const s=[],i=function(n,o){return $o(o)?(s.includes(o)||s.push(o),s.indexOf(o)):o};return JSON.stringify(e,i)!==JSON.stringify(t,i)}function Oi(e,t,s){return e.options.clip?e[s]:t[s]}function Yd(e,t){const{xScale:s,yScale:i}=e;return s&&i?{left:Oi(s,t,"left"),right:Oi(s,t,"right"),top:Oi(i,t,"top"),bottom:Oi(i,t,"bottom")}:t}function Gd(e,t){const s=t._clip;if(s.disabled)return!1;const i=Yd(t,e.chartArea);return{left:s.left===!1?0:i.left-(s.left===!0?0:s.left),right:s.right===!1?e.width:i.right+(s.right===!0?0:s.right),top:s.top===!1?0:i.top-(s.top===!0?0:s.top),bottom:s.bottom===!1?e.height:i.bottom+(s.bottom===!0?0:s.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class Xd{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,s,i,n){const o=s.listeners[n],r=s.duration;o.forEach(l=>l({chart:t,initial:s.initial,numSteps:r,currentStep:Math.min(i-s.start,r)}))}_refresh(){this._request||(this._running=!0,this._request=Xa.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let s=0;this._charts.forEach((i,n)=>{if(!i.running||!i.items.length)return;const o=i.items;let r=o.length-1,l=!1,a;for(;r>=0;--r)a=o[r],a._active?(a._total>i.duration&&(i.duration=a._total),a.tick(t),l=!0):(o[r]=o[o.length-1],o.pop());l&&(n.draw(),this._notify(n,i,t,"progress")),o.length||(i.running=!1,this._notify(n,i,t,"complete"),i.initial=!1),s+=o.length}),this._lastDate=t,s===0&&(this._running=!1)}_getAnims(t){const s=this._charts;let i=s.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},s.set(t,i)),i}listen(t,s,i){this._getAnims(t).listeners[s].push(i)}add(t,s){!s||!s.length||this._getAnims(t).items.push(...s)}has(t){return this._getAnims(t).items.length>0}start(t){const s=this._charts.get(t);s&&(s.running=!0,s.start=Date.now(),s.duration=s.items.reduce((i,n)=>Math.max(i,n._duration),0),this._refresh())}running(t){if(!this._running)return!1;const s=this._charts.get(t);return!(!s||!s.running||!s.items.length)}stop(t){const s=this._charts.get(t);if(!s||!s.items.length)return;const i=s.items;let n=i.length-1;for(;n>=0;--n)i[n].cancel();s.items=[],this._notify(t,s,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var De=new Xd;const Jr="transparent",qd={boolean(e,t,s){return s>.5?t:e},color(e,t,s){const i=Hr(e||Jr),n=i.valid&&Hr(t||Jr);return n&&n.valid?n.mix(i,s).hexString():t},number(e,t,s){return e+(t-e)*s}};class Jd{constructor(t,s,i,n){const o=s[i];n=ki([t.to,n,o,t.from]);const r=ki([t.from,o,n]);this._active=!0,this._fn=t.fn||qd[t.type||typeof r],this._easing=Qs[t.easing]||Qs.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=s,this._prop=i,this._from=r,this._to=n,this._promises=void 0}active(){return this._active}update(t,s,i){if(this._active){this._notify(!1);const n=this._target[this._prop],o=i-this._start,r=this._duration-o;this._start=i,this._duration=Math.floor(Math.max(r,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=ki([t.to,s,n,t.from]),this._from=ki([t.from,n,s])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const s=t-this._start,i=this._duration,n=this._prop,o=this._from,r=this._loop,l=this._to;let a;if(this._active=o!==l&&(r||s<i),!this._active){this._target[n]=l,this._notify(!0);return}if(s<0){this._target[n]=o;return}a=s/i%2,a=r&&a>1?2-a:a,a=this._easing(Math.min(1,Math.max(0,a))),this._target[n]=this._fn(o,l,a)}wait(){const t=this._promises||(this._promises=[]);return new Promise((s,i)=>{t.push({res:s,rej:i})})}_notify(t){const s=t?"res":"rej",i=this._promises||[];for(let n=0;n<i.length;n++)i[n][s]()}}class cc{constructor(t,s){this._chart=t,this._properties=new Map,this.configure(s)}configure(t){if(!pt(t))return;const s=Object.keys(At.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(n=>{const o=t[n];if(!pt(o))return;const r={};for(const l of s)r[l]=o[l];(Rt(o.properties)&&o.properties||[n]).forEach(l=>{(l===n||!i.has(l))&&i.set(l,r)})})}_animateOptions(t,s){const i=s.options,n=Qd(t,i);if(!n)return[];const o=this._createAnimations(n,i);return i.$shared&&Zd(t.options.$animations,i).then(()=>{t.options=i},()=>{}),o}_createAnimations(t,s){const i=this._properties,n=[],o=t.$animations||(t.$animations={}),r=Object.keys(s),l=Date.now();let a;for(a=r.length-1;a>=0;--a){const c=r[a];if(c.charAt(0)==="$")continue;if(c==="options"){n.push(...this._animateOptions(t,s));continue}const u=s[c];let f=o[c];const h=i.get(c);if(f)if(h&&f.active()){f.update(h,u,l);continue}else f.cancel();if(!h||!h.duration){t[c]=u;continue}o[c]=f=new Jd(h,t,c,u),n.push(f)}return n}update(t,s){if(this._properties.size===0){Object.assign(t,s);return}const i=this._createAnimations(t,s);if(i.length)return De.add(this._chart,i),!0}}function Zd(e,t){const s=[],i=Object.keys(t);for(let n=0;n<i.length;n++){const o=e[i[n]];o&&o.active()&&s.push(o.wait())}return Promise.all(s)}function Qd(e,t){if(!t)return;let s=e.options;if(!s){e.options=t;return}return s.$shared&&(e.options=s=Object.assign({},s,{$shared:!1,$animations:{}})),s}function Zr(e,t){const s=e&&e.options||{},i=s.reverse,n=s.min===void 0?t:0,o=s.max===void 0?t:0;return{start:i?o:n,end:i?n:o}}function tg(e,t,s){if(s===!1)return!1;const i=Zr(e,s),n=Zr(t,s);return{top:n.end,right:i.end,bottom:n.start,left:i.start}}function eg(e){let t,s,i,n;return pt(e)?(t=e.top,s=e.right,i=e.bottom,n=e.left):t=s=i=n=e,{top:t,right:s,bottom:i,left:n,disabled:e===!1}}function uc(e,t){const s=[],i=e._getSortedDatasetMetas(t);let n,o;for(n=0,o=i.length;n<o;++n)s.push(i[n].index);return s}function Qr(e,t,s,i={}){const n=e.keys,o=i.mode==="single";let r,l,a,c;if(t===null)return;let u=!1;for(r=0,l=n.length;r<l;++r){if(a=+n[r],a===s){if(u=!0,i.all)continue;break}c=e.values[a],ce(c)&&(o||t===0||Cs(t)===Cs(c))&&(t+=c)}return!u&&!i.all?0:t}function sg(e,t){const{iScale:s,vScale:i}=t,n=s.axis==="x"?"x":"y",o=i.axis==="x"?"x":"y",r=Object.keys(e),l=new Array(r.length);let a,c,u;for(a=0,c=r.length;a<c;++a)u=r[a],l[a]={[n]:u,[o]:e[u]};return l}function zn(e,t){const s=e&&e.options.stacked;return s||s===void 0&&t.stack!==void 0}function ig(e,t,s){return`${e.id}.${t.id}.${s.stack||s.type}`}function ng(e){const{min:t,max:s,minDefined:i,maxDefined:n}=e.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:n?s:Number.POSITIVE_INFINITY}}function og(e,t,s){const i=e[t]||(e[t]={});return i[s]||(i[s]={})}function tl(e,t,s,i){for(const n of t.getMatchingVisibleMetas(i).reverse()){const o=e[n.index];if(s&&o>0||!s&&o<0)return n.index}return null}function el(e,t){const{chart:s,_cachedMeta:i}=e,n=s._stacks||(s._stacks={}),{iScale:o,vScale:r,index:l}=i,a=o.axis,c=r.axis,u=ig(o,r,i),f=t.length;let h;for(let d=0;d<f;++d){const b=t[d],{[a]:x,[c]:m}=b,_=b._stacks||(b._stacks={});h=_[c]=og(n,u,x),h[l]=m,h._top=tl(h,r,!0,i.type),h._bottom=tl(h,r,!1,i.type);const C=h._visualValues||(h._visualValues={});C[l]=m}}function Bn(e,t){const s=e.scales;return Object.keys(s).filter(i=>s[i].axis===t).shift()}function rg(e,t){return ds(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function lg(e,t,s){return ds(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:s,index:t,mode:"default",type:"data"})}function Is(e,t){const s=e.controller.index,i=e.vScale&&e.vScale.axis;if(i){t=t||e._parsed;for(const n of t){const o=n._stacks;if(!o||o[i]===void 0||o[i][s]===void 0)return;delete o[i][s],o[i]._visualValues!==void 0&&o[i]._visualValues[s]!==void 0&&delete o[i]._visualValues[s]}}}const Hn=e=>e==="reset"||e==="none",sl=(e,t)=>t?e:Object.assign({},e),ag=(e,t,s)=>e&&!t.hidden&&t._stacked&&{keys:uc(s,!0),values:null};class si{constructor(t,s){this.chart=t,this._ctx=t.ctx,this.index=s,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=zn(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Is(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,s=this._cachedMeta,i=this.getDataset(),n=(f,h,d,b)=>f==="x"?h:f==="r"?b:d,o=s.xAxisID=dt(i.xAxisID,Bn(t,"x")),r=s.yAxisID=dt(i.yAxisID,Bn(t,"y")),l=s.rAxisID=dt(i.rAxisID,Bn(t,"r")),a=s.indexAxis,c=s.iAxisID=n(a,o,r,l),u=s.vAxisID=n(a,r,o,l);s.xScale=this.getScaleForId(o),s.yScale=this.getScaleForId(r),s.rScale=this.getScaleForId(l),s.iScale=this.getScaleForId(c),s.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const s=this._cachedMeta;return t===s.iScale?s.vScale:s.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&$r(this._data,this),t._stacked&&Is(t)}_dataCheck(){const t=this.getDataset(),s=t.data||(t.data=[]),i=this._data;if(pt(s)){const n=this._cachedMeta;this._data=sg(s,n)}else if(i!==s){if(i){$r(i,this);const n=this._cachedMeta;Is(n),n._parsed=[]}s&&Object.isExtensible(s)&&Bh(s,this),this._syncList=[],this._data=s}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const s=this._cachedMeta,i=this.getDataset();let n=!1;this._dataCheck();const o=s._stacked;s._stacked=zn(s.vScale,s),s.stack!==i.stack&&(n=!0,Is(s),s.stack=i.stack),this._resyncElements(t),(n||o!==s._stacked)&&(el(this,s._parsed),s._stacked=zn(s.vScale,s))}configure(){const t=this.chart.config,s=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),s,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,s){const{_cachedMeta:i,_data:n}=this,{iScale:o,_stacked:r}=i,l=o.axis;let a=t===0&&s===n.length?!0:i._sorted,c=t>0&&i._parsed[t-1],u,f,h;if(this._parsing===!1)i._parsed=n,i._sorted=!0,h=n;else{Rt(n[t])?h=this.parseArrayData(i,n,t,s):pt(n[t])?h=this.parseObjectData(i,n,t,s):h=this.parsePrimitiveData(i,n,t,s);const d=()=>f[l]===null||c&&f[l]<c[l];for(u=0;u<s;++u)i._parsed[u+t]=f=h[u],a&&(d()&&(a=!1),c=f);i._sorted=a}r&&el(this,h)}parsePrimitiveData(t,s,i,n){const{iScale:o,vScale:r}=t,l=o.axis,a=r.axis,c=o.getLabels(),u=o===r,f=new Array(n);let h,d,b;for(h=0,d=n;h<d;++h)b=h+i,f[h]={[l]:u||o.parse(c[b],b),[a]:r.parse(s[b],b)};return f}parseArrayData(t,s,i,n){const{xScale:o,yScale:r}=t,l=new Array(n);let a,c,u,f;for(a=0,c=n;a<c;++a)u=a+i,f=s[u],l[a]={x:o.parse(f[0],u),y:r.parse(f[1],u)};return l}parseObjectData(t,s,i,n){const{xScale:o,yScale:r}=t,{xAxisKey:l="x",yAxisKey:a="y"}=this._parsing,c=new Array(n);let u,f,h,d;for(u=0,f=n;u<f;++u)h=u+i,d=s[h],c[u]={x:o.parse(nn(d,l),h),y:r.parse(nn(d,a),h)};return c}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,s,i){const n=this.chart,o=this._cachedMeta,r=s[t.axis],l={keys:uc(n,!0),values:s._stacks[t.axis]._visualValues};return Qr(l,r,o.index,{mode:i})}updateRangeFromParsed(t,s,i,n){const o=i[s.axis];let r=o===null?NaN:o;const l=n&&i._stacks[s.axis];n&&l&&(n.values=l,r=Qr(n,o,this._cachedMeta.index)),t.min=Math.min(t.min,r),t.max=Math.max(t.max,r)}getMinMax(t,s){const i=this._cachedMeta,n=i._parsed,o=i._sorted&&t===i.iScale,r=n.length,l=this._getOtherScale(t),a=ag(s,i,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:f}=ng(l);let h,d;function b(){d=n[h];const x=d[l.axis];return!ce(d[t.axis])||u>x||f<x}for(h=0;h<r&&!(!b()&&(this.updateRangeFromParsed(c,t,d,a),o));++h);if(o){for(h=r-1;h>=0;--h)if(!b()){this.updateRangeFromParsed(c,t,d,a);break}}return c}getAllParsedValues(t){const s=this._cachedMeta._parsed,i=[];let n,o,r;for(n=0,o=s.length;n<o;++n)r=s[n][t.axis],ce(r)&&i.push(r);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const s=this._cachedMeta,i=s.iScale,n=s.vScale,o=this.getParsed(t);return{label:i?""+i.getLabelForValue(o[i.axis]):"",value:n?""+n.getLabelForValue(o[n.axis]):""}}_update(t){const s=this._cachedMeta;this.update(t||"default"),s._clip=eg(dt(this.options.clip,tg(s.xScale,s.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,s=this.chart,i=this._cachedMeta,n=i.data||[],o=s.chartArea,r=[],l=this._drawStart||0,a=this._drawCount||n.length-l,c=this.options.drawActiveElementsOnTop;let u;for(i.dataset&&i.dataset.draw(t,o,l,a),u=l;u<l+a;++u){const f=n[u];f.hidden||(f.active&&c?r.push(f):f.draw(t,o))}for(u=0;u<r.length;++u)r[u].draw(t,o)}getStyle(t,s){const i=s?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,s,i){const n=this.getDataset();let o;if(t>=0&&t<this._cachedMeta.data.length){const r=this._cachedMeta.data[t];o=r.$context||(r.$context=lg(this.getContext(),t,r)),o.parsed=this.getParsed(t),o.raw=n.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=rg(this.chart.getContext(),this.index)),o.dataset=n,o.index=o.datasetIndex=this.index;return o.active=!!s,o.mode=i,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,s){return this._resolveElementOptions(this.dataElementType.id,s,t)}_resolveElementOptions(t,s="default",i){const n=s==="active",o=this._cachedDataOpts,r=t+"-"+s,l=o[r],a=this.enableOptionSharing&&on(i);if(l)return sl(l,a);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,t),f=n?[`${t}Hover`,"hover",t,""]:[t,""],h=c.getOptionScopes(this.getDataset(),u),d=Object.keys(At.elements[t]),b=()=>this.getContext(i,n,s),x=c.resolveNamedOptions(h,d,b,f);return x.$shared&&(x.$shared=a,o[r]=Object.freeze(sl(x,a))),x}_resolveAnimations(t,s,i){const n=this.chart,o=this._cachedDataOpts,r=`animation-${s}`,l=o[r];if(l)return l;let a;if(n.options.animation!==!1){const u=this.chart.config,f=u.datasetAnimationScopeKeys(this._type,s),h=u.getOptionScopes(this.getDataset(),f);a=u.createResolver(h,this.getContext(t,i,s))}const c=new cc(n,a&&a.animations);return a&&a._cacheable&&(o[r]=Object.freeze(c)),c}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,s){return!s||Hn(t)||this.chart._animationsDisabled}_getSharedOptions(t,s){const i=this.resolveDataElementOptions(t,s),n=this._sharedOptions,o=this.getSharedOptions(i),r=this.includeOptions(s,o)||o!==n;return this.updateSharedOptions(o,s,i),{sharedOptions:o,includeOptions:r}}updateElement(t,s,i,n){Hn(n)?Object.assign(t,i):this._resolveAnimations(s,n).update(t,i)}updateSharedOptions(t,s,i){t&&!Hn(s)&&this._resolveAnimations(void 0,s).update(t,i)}_setStyle(t,s,i,n){t.active=n;const o=this.getStyle(s,n);this._resolveAnimations(s,i,n).update(t,{options:!n&&this.getSharedOptions(o)||o})}removeHoverStyle(t,s,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,s,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const s=this._data,i=this._cachedMeta.data;for(const[l,a,c]of this._syncList)this[l](a,c);this._syncList=[];const n=i.length,o=s.length,r=Math.min(o,n);r&&this.parse(0,r),o>n?this._insertElements(n,o-n,t):o<n&&this._removeElements(o,n-o)}_insertElements(t,s,i=!0){const n=this._cachedMeta,o=n.data,r=t+s;let l;const a=c=>{for(c.length+=s,l=c.length-1;l>=r;l--)c[l]=c[l-s]};for(a(o),l=t;l<r;++l)o[l]=new this.dataElementType;this._parsing&&a(n._parsed),this.parse(t,s),i&&this.updateElements(o,t,s,"reset")}updateElements(t,s,i,n){}_removeElements(t,s){const i=this._cachedMeta;if(this._parsing){const n=i._parsed.splice(t,s);i._stacked&&Is(i,n)}i.data.splice(t,s)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[s,i,n]=t;this[s](i,n)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,s){s&&this._sync(["_removeElements",t,s]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}at(si,"defaults",{}),at(si,"datasetElementType",null),at(si,"dataElementType",null);class Ni extends si{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const s=this._cachedMeta,{dataset:i,data:n=[],_dataset:o}=s,r=this.chart._animationsDisabled;let{start:l,count:a}=jh(s,n,r);this._drawStart=l,this._drawCount=a,Wh(s)&&(l=0,a=n.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!o._decimated,i.points=n;const c=this.resolveDatasetElementOptions(t);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(i,void 0,{animated:!r,options:c},t),this.updateElements(n,l,a,t)}updateElements(t,s,i,n){const o=n==="reset",{iScale:r,vScale:l,_stacked:a,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:f}=this._getSharedOptions(s,n),h=r.axis,d=l.axis,{spanGaps:b,segment:x}=this.options,m=ui(b)?b:Number.POSITIVE_INFINITY,_=this.chart._animationsDisabled||o||n==="none",C=s+i,D=t.length;let T=s>0&&this.getParsed(s-1);for(let P=0;P<D;++P){const H=t[P],N=_?H:{};if(P<s||P>=C){N.skip=!0;continue}const z=this.getParsed(P),q=Mt(z[d]),O=N[h]=r.getPixelForValue(z[h],P),g=N[d]=o||q?l.getBasePixel():l.getPixelForValue(a?this.applyStack(l,z,a):z[d],P);N.skip=isNaN(O)||isNaN(g)||q,N.stop=P>0&&Math.abs(z[h]-T[h])>m,x&&(N.parsed=z,N.raw=c.data[P]),f&&(N.options=u||this.resolveDataElementOptions(P,H.active?"active":n)),_||this.updateElement(H,P,N,n),T=z}}getMaxOverflow(){const t=this._cachedMeta,s=t.dataset,i=s.options&&s.options.borderWidth||0,n=t.data||[];if(!n.length)return i;const o=n[0].size(this.resolveDataElementOptions(0)),r=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(i,o,r)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}at(Ni,"id","line"),at(Ni,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),at(Ni,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function is(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Uo{constructor(t){at(this,"options");this.options=t||{}}static override(t){Object.assign(Uo.prototype,t)}init(){}formats(){return is()}parse(){return is()}format(){return is()}add(){return is()}diff(){return is()}startOf(){return is()}endOf(){return is()}}var cg={_date:Uo};function ug(e,t,s,i){const{controller:n,data:o,_sorted:r}=e,l=n._cachedMeta.iScale,a=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(l&&t===l.axis&&t!=="r"&&r&&o.length){const c=l._reversePixels?$h:cs;if(i){if(n._sharedOptions){const u=o[0],f=typeof u.getRange=="function"&&u.getRange(t);if(f){const h=c(o,t,s-f),d=c(o,t,s+f);return{lo:h.lo,hi:d.hi}}}}else{const u=c(o,t,s);if(a){const{vScale:f}=n._cachedMeta,{_parsed:h}=e,d=h.slice(0,u.lo+1).reverse().findIndex(x=>!Mt(x[f.axis]));u.lo-=Math.max(0,d);const b=h.slice(u.hi).findIndex(x=>!Mt(x[f.axis]));u.hi+=Math.max(0,b)}return u}}return{lo:0,hi:o.length-1}}function Mn(e,t,s,i,n){const o=e.getSortedVisibleDatasetMetas(),r=s[t];for(let l=0,a=o.length;l<a;++l){const{index:c,data:u}=o[l],{lo:f,hi:h}=ug(o[l],t,r,n);for(let d=f;d<=h;++d){const b=u[d];b.skip||i(b,c,d)}}}function fg(e){const t=e.indexOf("x")!==-1,s=e.indexOf("y")!==-1;return function(i,n){const o=t?Math.abs(i.x-n.x):0,r=s?Math.abs(i.y-n.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(r,2))}}function Nn(e,t,s,i,n){const o=[];return!n&&!e.isPointInArea(t)||Mn(e,s,t,function(l,a,c){!n&&!fi(l,e.chartArea,0)||l.inRange(t.x,t.y,i)&&o.push({element:l,datasetIndex:a,index:c})},!0),o}function hg(e,t,s,i){let n=[];function o(r,l,a){const{startAngle:c,endAngle:u}=r.getProps(["startAngle","endAngle"],i),{angle:f}=Fh(r,{x:t.x,y:t.y});Ya(f,c,u)&&n.push({element:r,datasetIndex:l,index:a})}return Mn(e,s,t,o),n}function dg(e,t,s,i,n,o){let r=[];const l=fg(s);let a=Number.POSITIVE_INFINITY;function c(u,f,h){const d=u.inRange(t.x,t.y,n);if(i&&!d)return;const b=u.getCenterPoint(n);if(!(!!o||e.isPointInArea(b))&&!d)return;const m=l(t,b);m<a?(r=[{element:u,datasetIndex:f,index:h}],a=m):m===a&&r.push({element:u,datasetIndex:f,index:h})}return Mn(e,s,t,c),r}function Vn(e,t,s,i,n,o){return!o&&!e.isPointInArea(t)?[]:s==="r"&&!i?hg(e,t,s,n):dg(e,t,s,i,n,o)}function il(e,t,s,i,n){const o=[],r=s==="x"?"inXRange":"inYRange";let l=!1;return Mn(e,s,t,(a,c,u)=>{a[r]&&a[r](t[s],n)&&(o.push({element:a,datasetIndex:c,index:u}),l=l||a.inRange(t.x,t.y,n))}),i&&!l?[]:o}var gg={modes:{index(e,t,s,i){const n=os(t,e),o=s.axis||"x",r=s.includeInvisible||!1,l=s.intersect?Nn(e,n,o,i,r):Vn(e,n,o,!1,i,r),a=[];return l.length?(e.getSortedVisibleDatasetMetas().forEach(c=>{const u=l[0].index,f=c.data[u];f&&!f.skip&&a.push({element:f,datasetIndex:c.index,index:u})}),a):[]},dataset(e,t,s,i){const n=os(t,e),o=s.axis||"xy",r=s.includeInvisible||!1;let l=s.intersect?Nn(e,n,o,i,r):Vn(e,n,o,!1,i,r);if(l.length>0){const a=l[0].datasetIndex,c=e.getDatasetMeta(a).data;l=[];for(let u=0;u<c.length;++u)l.push({element:c[u],datasetIndex:a,index:u})}return l},point(e,t,s,i){const n=os(t,e),o=s.axis||"xy",r=s.includeInvisible||!1;return Nn(e,n,o,i,r)},nearest(e,t,s,i){const n=os(t,e),o=s.axis||"xy",r=s.includeInvisible||!1;return Vn(e,n,o,s.intersect,i,r)},x(e,t,s,i){const n=os(t,e);return il(e,n,"x",s.intersect,i)},y(e,t,s,i){const n=os(t,e);return il(e,n,"y",s.intersect,i)}}};const fc=["left","top","right","bottom"];function Fs(e,t){return e.filter(s=>s.pos===t)}function nl(e,t){return e.filter(s=>fc.indexOf(s.pos)===-1&&s.box.axis===t)}function Rs(e,t){return e.sort((s,i)=>{const n=t?i:s,o=t?s:i;return n.weight===o.weight?n.index-o.index:n.weight-o.weight})}function pg(e){const t=[];let s,i,n,o,r,l;for(s=0,i=(e||[]).length;s<i;++s)n=e[s],{position:o,options:{stack:r,stackWeight:l=1}}=n,t.push({index:s,box:n,pos:o,horizontal:n.isHorizontal(),weight:n.weight,stack:r&&o+r,stackWeight:l});return t}function mg(e){const t={};for(const s of e){const{stack:i,pos:n,stackWeight:o}=s;if(!i||!fc.includes(n))continue;const r=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});r.count++,r.weight+=o}return t}function bg(e,t){const s=mg(e),{vBoxMaxWidth:i,hBoxMaxHeight:n}=t;let o,r,l;for(o=0,r=e.length;o<r;++o){l=e[o];const{fullSize:a}=l.box,c=s[l.stack],u=c&&l.stackWeight/c.weight;l.horizontal?(l.width=u?u*i:a&&t.availableWidth,l.height=n):(l.width=i,l.height=u?u*n:a&&t.availableHeight)}return s}function xg(e){const t=pg(e),s=Rs(t.filter(c=>c.box.fullSize),!0),i=Rs(Fs(t,"left"),!0),n=Rs(Fs(t,"right")),o=Rs(Fs(t,"top"),!0),r=Rs(Fs(t,"bottom")),l=nl(t,"x"),a=nl(t,"y");return{fullSize:s,leftAndTop:i.concat(o),rightAndBottom:n.concat(a).concat(r).concat(l),chartArea:Fs(t,"chartArea"),vertical:i.concat(n).concat(a),horizontal:o.concat(r).concat(l)}}function ol(e,t,s,i){return Math.max(e[s],t[s])+Math.max(e[i],t[i])}function hc(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function yg(e,t,s,i){const{pos:n,box:o}=s,r=e.maxPadding;if(!pt(n)){s.size&&(e[n]-=s.size);const f=i[s.stack]||{size:0,count:1};f.size=Math.max(f.size,s.horizontal?o.height:o.width),s.size=f.size/f.count,e[n]+=s.size}o.getPadding&&hc(r,o.getPadding());const l=Math.max(0,t.outerWidth-ol(r,e,"left","right")),a=Math.max(0,t.outerHeight-ol(r,e,"top","bottom")),c=l!==e.w,u=a!==e.h;return e.w=l,e.h=a,s.horizontal?{same:c,other:u}:{same:u,other:c}}function vg(e){const t=e.maxPadding;function s(i){const n=Math.max(t[i]-e[i],0);return e[i]+=n,n}e.y+=s("top"),e.x+=s("left"),s("right"),s("bottom")}function _g(e,t){const s=t.maxPadding;function i(n){const o={left:0,top:0,right:0,bottom:0};return n.forEach(r=>{o[r]=Math.max(t[r],s[r])}),o}return i(e?["left","right"]:["top","bottom"])}function Ns(e,t,s,i){const n=[];let o,r,l,a,c,u;for(o=0,r=e.length,c=0;o<r;++o){l=e[o],a=l.box,a.update(l.width||t.w,l.height||t.h,_g(l.horizontal,t));const{same:f,other:h}=yg(t,s,l,i);c|=f&&n.length,u=u||h,a.fullSize||n.push(l)}return c&&Ns(n,t,s,i)||u}function Pi(e,t,s,i,n){e.top=s,e.left=t,e.right=t+i,e.bottom=s+n,e.width=i,e.height=n}function rl(e,t,s,i){const n=s.padding;let{x:o,y:r}=t;for(const l of e){const a=l.box,c=i[l.stack]||{placed:0,weight:1},u=l.stackWeight/c.weight||1;if(l.horizontal){const f=t.w*u,h=c.size||a.height;on(c.start)&&(r=c.start),a.fullSize?Pi(a,n.left,r,s.outerWidth-n.right-n.left,h):Pi(a,t.left+c.placed,r,f,h),c.start=r,c.placed+=f,r=a.bottom}else{const f=t.h*u,h=c.size||a.width;on(c.start)&&(o=c.start),a.fullSize?Pi(a,o,n.top,h,s.outerHeight-n.bottom-n.top):Pi(a,o,t.top+c.placed,h,f),c.start=o,c.placed+=f,o=a.right}}t.x=o,t.y=r}var le={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(s){t.draw(s)}}]},e.boxes.push(t)},removeBox(e,t){const s=e.boxes?e.boxes.indexOf(t):-1;s!==-1&&e.boxes.splice(s,1)},configure(e,t,s){t.fullSize=s.fullSize,t.position=s.position,t.weight=s.weight},update(e,t,s,i){if(!e)return;const n=ue(e.options.layout.padding),o=Math.max(t-n.width,0),r=Math.max(s-n.height,0),l=xg(e.boxes),a=l.vertical,c=l.horizontal;yt(e.boxes,x=>{typeof x.beforeLayout=="function"&&x.beforeLayout()});const u=a.reduce((x,m)=>m.box.options&&m.box.options.display===!1?x:x+1,0)||1,f=Object.freeze({outerWidth:t,outerHeight:s,padding:n,availableWidth:o,availableHeight:r,vBoxMaxWidth:o/2/u,hBoxMaxHeight:r/2}),h=Object.assign({},n);hc(h,ue(i));const d=Object.assign({maxPadding:h,w:o,h:r,x:n.left,y:n.top},n),b=bg(a.concat(c),f);Ns(l.fullSize,d,f,b),Ns(a,d,f,b),Ns(c,d,f,b)&&Ns(a,d,f,b),vg(d),rl(l.leftAndTop,d,f,b),d.x+=d.w,d.y+=d.h,rl(l.rightAndBottom,d,f,b),e.chartArea={left:d.left,top:d.top,right:d.left+d.w,bottom:d.top+d.h,height:d.h,width:d.w},yt(l.chartArea,x=>{const m=x.box;Object.assign(m,e.chartArea),m.update(d.w,d.h,{left:0,top:0,right:0,bottom:0})})}};class dc{acquireContext(t,s){}releaseContext(t){return!1}addEventListener(t,s,i){}removeEventListener(t,s,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,s,i,n){return s=Math.max(0,s||t.width),i=i||t.height,{width:s,height:Math.max(0,n?Math.floor(s/n):i)}}isAttached(t){return!0}updateConfig(t){}}class wg extends dc{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Vi="$chartjs",Mg={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},ll=e=>e===null||e==="";function Sg(e,t){const s=e.style,i=e.getAttribute("height"),n=e.getAttribute("width");if(e[Vi]={initial:{height:i,width:n,style:{display:s.display,height:s.height,width:s.width}}},s.display=s.display||"block",s.boxSizing=s.boxSizing||"border-box",ll(n)){const o=Yr(e,"width");o!==void 0&&(e.width=o)}if(ll(i))if(e.style.height==="")e.height=e.width/(t||2);else{const o=Yr(e,"height");o!==void 0&&(e.height=o)}return e}const gc=Fd?{passive:!0}:!1;function kg(e,t,s){e&&e.addEventListener(t,s,gc)}function Cg(e,t,s){e&&e.canvas&&e.canvas.removeEventListener(t,s,gc)}function Tg(e,t){const s=Mg[e.type]||e.type,{x:i,y:n}=os(e,t);return{type:s,chart:t,native:e,x:i!==void 0?i:null,y:n!==void 0?n:null}}function an(e,t){for(const s of e)if(s===t||s.contains(t))return!0}function Og(e,t,s){const i=e.canvas,n=new MutationObserver(o=>{let r=!1;for(const l of o)r=r||an(l.addedNodes,i),r=r&&!an(l.removedNodes,i);r&&s()});return n.observe(document,{childList:!0,subtree:!0}),n}function Pg(e,t,s){const i=e.canvas,n=new MutationObserver(o=>{let r=!1;for(const l of o)r=r||an(l.removedNodes,i),r=r&&!an(l.addedNodes,i);r&&s()});return n.observe(document,{childList:!0,subtree:!0}),n}const di=new Map;let al=0;function pc(){const e=window.devicePixelRatio;e!==al&&(al=e,di.forEach((t,s)=>{s.currentDevicePixelRatio!==e&&t()}))}function Ag(e,t){di.size||window.addEventListener("resize",pc),di.set(e,t)}function Dg(e){di.delete(e),di.size||window.removeEventListener("resize",pc)}function Eg(e,t,s){const i=e.canvas,n=i&&Wo(i);if(!n)return;const o=qa((l,a)=>{const c=n.clientWidth;s(l,a),c<n.clientWidth&&s()},window),r=new ResizeObserver(l=>{const a=l[0],c=a.contentRect.width,u=a.contentRect.height;c===0&&u===0||o(c,u)});return r.observe(n),Ag(e,o),r}function jn(e,t,s){s&&s.disconnect(),t==="resize"&&Dg(e)}function Ig(e,t,s){const i=e.canvas,n=qa(o=>{e.ctx!==null&&s(Tg(o,e))},e);return kg(i,t,n),n}class Fg extends dc{acquireContext(t,s){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(Sg(t,s),i):null}releaseContext(t){const s=t.canvas;if(!s[Vi])return!1;const i=s[Vi].initial;["height","width"].forEach(o=>{const r=i[o];Mt(r)?s.removeAttribute(o):s.setAttribute(o,r)});const n=i.style||{};return Object.keys(n).forEach(o=>{s.style[o]=n[o]}),s.width=s.width,delete s[Vi],!0}addEventListener(t,s,i){this.removeEventListener(t,s);const n=t.$proxies||(t.$proxies={}),r={attach:Og,detach:Pg,resize:Eg}[s]||Ig;n[s]=r(t,s,i)}removeEventListener(t,s){const i=t.$proxies||(t.$proxies={}),n=i[s];if(!n)return;({attach:jn,detach:jn,resize:jn}[s]||Cg)(t,s,n),i[s]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,s,i,n){return Id(t,s,i,n)}isAttached(t){const s=t&&Wo(t);return!!(s&&s.isConnected)}}function Rg(e){return!jo()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?wg:Fg}var Ri;let gs=(Ri=class{constructor(){at(this,"x");at(this,"y");at(this,"active",!1);at(this,"options");at(this,"$animations")}tooltipPosition(t){const{x:s,y:i}=this.getProps(["x","y"],t);return{x:s,y:i}}hasValue(){return ui(this.x)&&ui(this.y)}getProps(t,s){const i=this.$animations;if(!s||!i)return this;const n={};return t.forEach(o=>{n[o]=i[o]&&i[o].active()?i[o]._to:this[o]}),n}},at(Ri,"defaults",{}),at(Ri,"defaultRoutes"),Ri);function Lg(e,t){const s=e.options.ticks,i=$g(e),n=Math.min(s.maxTicksLimit||i,i),o=s.major.enabled?Bg(t):[],r=o.length,l=o[0],a=o[r-1],c=[];if(r>n)return Hg(t,c,o,r/n),c;const u=zg(o,t,n);if(r>0){let f,h;const d=r>1?Math.round((a-l)/(r-1)):null;for(Ai(t,c,u,Mt(d)?0:l-d,l),f=0,h=r-1;f<h;f++)Ai(t,c,u,o[f],o[f+1]);return Ai(t,c,u,a,Mt(d)?t.length:a+d),c}return Ai(t,c,u),c}function $g(e){const t=e.options.offset,s=e._tickSize(),i=e._length/s+(t?0:1),n=e._maxLength/s;return Math.floor(Math.min(i,n))}function zg(e,t,s){const i=Ng(e),n=t.length/s;if(!i)return Math.max(n,1);const o=Ph(i);for(let r=0,l=o.length-1;r<l;r++){const a=o[r];if(a>n)return a}return Math.max(n,1)}function Bg(e){const t=[];let s,i;for(s=0,i=e.length;s<i;s++)e[s].major&&t.push(s);return t}function Hg(e,t,s,i){let n=0,o=s[0],r;for(i=Math.ceil(i),r=0;r<e.length;r++)r===o&&(t.push(e[r]),n++,o=s[n*i])}function Ai(e,t,s,i,n){const o=dt(i,0),r=Math.min(dt(n,e.length),e.length);let l=0,a,c,u;for(s=Math.ceil(s),n&&(a=n-i,s=a/Math.floor(a/s)),u=o;u<0;)l++,u=Math.round(o+l*s);for(c=Math.max(o,0);c<r;c++)c===u&&(t.push(e[c]),l++,u=Math.round(o+l*s))}function Ng(e){const t=e.length;let s,i;if(t<2)return!1;for(i=e[0],s=1;s<t;++s)if(e[s]-e[s-1]!==i)return!1;return i}const Vg=e=>e==="left"?"right":e==="right"?"left":e,cl=(e,t,s)=>t==="top"||t==="left"?e[t]+s:e[t]-s,ul=(e,t)=>Math.min(t||e,e);function fl(e,t){const s=[],i=e.length/t,n=e.length;let o=0;for(;o<n;o+=i)s.push(e[Math.floor(o)]);return s}function jg(e,t,s){const i=e.ticks.length,n=Math.min(t,i-1),o=e._startPixel,r=e._endPixel,l=1e-6;let a=e.getPixelForTick(n),c;if(!(s&&(i===1?c=Math.max(a-o,r-a):t===0?c=(e.getPixelForTick(1)-a)/2:c=(a-e.getPixelForTick(n-1))/2,a+=n<t?c:-c,a<o-l||a>r+l)))return a}function Wg(e,t){yt(e,s=>{const i=s.gc,n=i.length/2;let o;if(n>t){for(o=0;o<n;++o)delete s.data[i[o]];i.splice(0,n)}})}function Ls(e){return e.drawTicks?e.tickLength:0}function hl(e,t){if(!e.display)return 0;const s=Nt(e.font,t),i=ue(e.padding);return(Rt(e.text)?e.text.length:1)*s.lineHeight+i.height}function Ug(e,t){return ds(e,{scale:t,type:"scale"})}function Kg(e,t,s){return ds(e,{tick:s,index:t,type:"tick"})}function Yg(e,t,s){let i=Lo(e);return(s&&t!=="right"||!s&&t==="right")&&(i=Vg(i)),i}function Gg(e,t,s,i){const{top:n,left:o,bottom:r,right:l,chart:a}=e,{chartArea:c,scales:u}=a;let f=0,h,d,b;const x=r-n,m=l-o;if(e.isHorizontal()){if(d=Bt(i,o,l),pt(s)){const _=Object.keys(s)[0],C=s[_];b=u[_].getPixelForValue(C)+x-t}else s==="center"?b=(c.bottom+c.top)/2+x-t:b=cl(e,s,t);h=l-o}else{if(pt(s)){const _=Object.keys(s)[0],C=s[_];d=u[_].getPixelForValue(C)-m+t}else s==="center"?d=(c.left+c.right)/2-m+t:d=cl(e,s,t);b=Bt(i,r,n),f=s==="left"?-he:he}return{titleX:d,titleY:b,maxWidth:h,rotation:f}}class Ps extends gs{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,s){return t}getUserBounds(){let{_userMin:t,_userMax:s,_suggestedMin:i,_suggestedMax:n}=this;return t=xe(t,Number.POSITIVE_INFINITY),s=xe(s,Number.NEGATIVE_INFINITY),i=xe(i,Number.POSITIVE_INFINITY),n=xe(n,Number.NEGATIVE_INFINITY),{min:xe(t,i),max:xe(s,n),minDefined:ce(t),maxDefined:ce(s)}}getMinMax(t){let{min:s,max:i,minDefined:n,maxDefined:o}=this.getUserBounds(),r;if(n&&o)return{min:s,max:i};const l=this.getMatchingVisibleMetas();for(let a=0,c=l.length;a<c;++a)r=l[a].controller.getMinMax(this,t),n||(s=Math.min(s,r.min)),o||(i=Math.max(i,r.max));return s=o&&s>i?i:s,i=n&&s>i?s:i,{min:xe(s,xe(i,s)),max:xe(i,xe(s,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Ct(this.options.beforeUpdate,[this])}update(t,s,i){const{beginAtZero:n,grace:o,ticks:r}=this.options,l=r.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=s,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=fd(this,o,n),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const a=l<this.ticks.length;this._convertTicksToLabels(a?fl(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),r.display&&(r.autoSkip||r.source==="auto")&&(this.ticks=Lg(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),a&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,s,i;this.isHorizontal()?(s=this.left,i=this.right):(s=this.top,i=this.bottom,t=!t),this._startPixel=s,this._endPixel=i,this._reversePixels=t,this._length=i-s,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Ct(this.options.afterUpdate,[this])}beforeSetDimensions(){Ct(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Ct(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Ct(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Ct(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const s=this.options.ticks;let i,n,o;for(i=0,n=t.length;i<n;i++)o=t[i],o.label=Ct(s.callback,[o.value,i,t],this)}afterTickToLabelConversion(){Ct(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Ct(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,s=t.ticks,i=ul(this.ticks.length,t.ticks.maxTicksLimit),n=s.minRotation||0,o=s.maxRotation;let r=n,l,a,c;if(!this._isVisible()||!s.display||n>=o||i<=1||!this.isHorizontal()){this.labelRotation=n;return}const u=this._getLabelSizes(),f=u.widest.width,h=u.highest.height,d=re(this.chart.width-f,0,this.maxWidth);l=t.offset?this.maxWidth/i:d/(i-1),f+6>l&&(l=d/(i-(t.offset?.5:1)),a=this.maxHeight-Ls(t.grid)-s.padding-hl(t.title,this.chart.options.font),c=Math.sqrt(f*f+h*h),r=Ih(Math.min(Math.asin(re((u.highest.height+6)/l,-1,1)),Math.asin(re(a/c,-1,1))-Math.asin(re(h/c,-1,1)))),r=Math.max(n,Math.min(o,r))),this.labelRotation=r}afterCalculateLabelRotation(){Ct(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Ct(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:s,options:{ticks:i,title:n,grid:o}}=this,r=this._isVisible(),l=this.isHorizontal();if(r){const a=hl(n,s.options.font);if(l?(t.width=this.maxWidth,t.height=Ls(o)+a):(t.height=this.maxHeight,t.width=Ls(o)+a),i.display&&this.ticks.length){const{first:c,last:u,widest:f,highest:h}=this._getLabelSizes(),d=i.padding*2,b=as(this.labelRotation),x=Math.cos(b),m=Math.sin(b);if(l){const _=i.mirror?0:m*f.width+x*h.height;t.height=Math.min(this.maxHeight,t.height+_+d)}else{const _=i.mirror?0:x*f.width+m*h.height;t.width=Math.min(this.maxWidth,t.width+_+d)}this._calculatePadding(c,u,m,x)}}this._handleMargins(),l?(this.width=this._length=s.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=s.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,s,i,n){const{ticks:{align:o,padding:r},position:l}=this.options,a=this.labelRotation!==0,c=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,f=this.right-this.getPixelForTick(this.ticks.length-1);let h=0,d=0;a?c?(h=n*t.width,d=i*s.height):(h=i*t.height,d=n*s.width):o==="start"?d=s.width:o==="end"?h=t.width:o!=="inner"&&(h=t.width/2,d=s.width/2),this.paddingLeft=Math.max((h-u+r)*this.width/(this.width-u),0),this.paddingRight=Math.max((d-f+r)*this.width/(this.width-f),0)}else{let u=s.height/2,f=t.height/2;o==="start"?(u=0,f=t.height):o==="end"&&(u=s.height,f=0),this.paddingTop=u+r,this.paddingBottom=f+r}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Ct(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:s}=this.options;return s==="top"||s==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let s,i;for(s=0,i=t.length;s<i;s++)Mt(t[s].label)&&(t.splice(s,1),i--,s--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const s=this.options.ticks.sampleSize;let i=this.ticks;s<i.length&&(i=fl(i,s)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,s,i){const{ctx:n,_longestTextCache:o}=this,r=[],l=[],a=Math.floor(s/ul(s,i));let c=0,u=0,f,h,d,b,x,m,_,C,D,T,P;for(f=0;f<s;f+=a){if(b=t[f].label,x=this._resolveTickFontOptions(f),n.font=m=x.string,_=o[m]=o[m]||{data:{},gc:[]},C=x.lineHeight,D=T=0,!Mt(b)&&!Rt(b))D=Vr(n,_.data,_.gc,D,b),T=C;else if(Rt(b))for(h=0,d=b.length;h<d;++h)P=b[h],!Mt(P)&&!Rt(P)&&(D=Vr(n,_.data,_.gc,D,P),T+=C);r.push(D),l.push(T),c=Math.max(D,c),u=Math.max(T,u)}Wg(o,s);const H=r.indexOf(c),N=l.indexOf(u),z=q=>({width:r[q]||0,height:l[q]||0});return{first:z(0),last:z(s-1),widest:z(H),highest:z(N),widths:r,heights:l}}getLabelForValue(t){return t}getPixelForValue(t,s){return NaN}getValueForPixel(t){}getPixelForTick(t){const s=this.ticks;return t<0||t>s.length-1?null:this.getPixelForValue(s[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const s=this._startPixel+t*this._length;return Lh(this._alignToPixels?ss(this.chart,s,0):s)}getDecimalForPixel(t){const s=(t-this._startPixel)/this._length;return this._reversePixels?1-s:s}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:s}=this;return t<0&&s<0?s:t>0&&s>0?t:0}getContext(t){const s=this.ticks||[];if(t>=0&&t<s.length){const i=s[t];return i.$context||(i.$context=Kg(this.getContext(),t,i))}return this.$context||(this.$context=Ug(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,s=as(this.labelRotation),i=Math.abs(Math.cos(s)),n=Math.abs(Math.sin(s)),o=this._getLabelSizes(),r=t.autoSkipPadding||0,l=o?o.widest.width+r:0,a=o?o.highest.height+r:0;return this.isHorizontal()?a*i>l*n?l/i:a/n:a*n<l*i?a/i:l/n}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const s=this.axis,i=this.chart,n=this.options,{grid:o,position:r,border:l}=n,a=o.offset,c=this.isHorizontal(),f=this.ticks.length+(a?1:0),h=Ls(o),d=[],b=l.setContext(this.getContext()),x=b.display?b.width:0,m=x/2,_=function(st){return ss(i,st,x)};let C,D,T,P,H,N,z,q,O,g,M,ot;if(r==="top")C=_(this.bottom),N=this.bottom-h,q=C-m,g=_(t.top)+m,ot=t.bottom;else if(r==="bottom")C=_(this.top),g=t.top,ot=_(t.bottom)-m,N=C+m,q=this.top+h;else if(r==="left")C=_(this.right),H=this.right-h,z=C-m,O=_(t.left)+m,M=t.right;else if(r==="right")C=_(this.left),O=t.left,M=_(t.right)-m,H=C+m,z=this.left+h;else if(s==="x"){if(r==="center")C=_((t.top+t.bottom)/2+.5);else if(pt(r)){const st=Object.keys(r)[0],Z=r[st];C=_(this.chart.scales[st].getPixelForValue(Z))}g=t.top,ot=t.bottom,N=C+m,q=N+h}else if(s==="y"){if(r==="center")C=_((t.left+t.right)/2);else if(pt(r)){const st=Object.keys(r)[0],Z=r[st];C=_(this.chart.scales[st].getPixelForValue(Z))}H=C-m,z=H-h,O=t.left,M=t.right}const ut=dt(n.ticks.maxTicksLimit,f),rt=Math.max(1,Math.ceil(f/ut));for(D=0;D<f;D+=rt){const st=this.getContext(D),Z=o.setContext(st),nt=l.setContext(st),Ot=Z.lineWidth,kt=Z.color,k=nt.dash||[],L=nt.dashOffset,F=Z.tickWidth,S=Z.tickColor,X=Z.tickBorderDash||[],G=Z.tickBorderDashOffset;T=jg(this,D,a),T!==void 0&&(P=ss(i,T,Ot),c?H=z=O=M=P:N=q=g=ot=P,d.push({tx1:H,ty1:N,tx2:z,ty2:q,x1:O,y1:g,x2:M,y2:ot,width:Ot,color:kt,borderDash:k,borderDashOffset:L,tickWidth:F,tickColor:S,tickBorderDash:X,tickBorderDashOffset:G}))}return this._ticksLength=f,this._borderValue=C,d}_computeLabelItems(t){const s=this.axis,i=this.options,{position:n,ticks:o}=i,r=this.isHorizontal(),l=this.ticks,{align:a,crossAlign:c,padding:u,mirror:f}=o,h=Ls(i.grid),d=h+u,b=f?-u:d,x=-as(this.labelRotation),m=[];let _,C,D,T,P,H,N,z,q,O,g,M,ot="middle";if(n==="top")H=this.bottom-b,N=this._getXAxisLabelAlignment();else if(n==="bottom")H=this.top+b,N=this._getXAxisLabelAlignment();else if(n==="left"){const rt=this._getYAxisLabelAlignment(h);N=rt.textAlign,P=rt.x}else if(n==="right"){const rt=this._getYAxisLabelAlignment(h);N=rt.textAlign,P=rt.x}else if(s==="x"){if(n==="center")H=(t.top+t.bottom)/2+d;else if(pt(n)){const rt=Object.keys(n)[0],st=n[rt];H=this.chart.scales[rt].getPixelForValue(st)+d}N=this._getXAxisLabelAlignment()}else if(s==="y"){if(n==="center")P=(t.left+t.right)/2-d;else if(pt(n)){const rt=Object.keys(n)[0],st=n[rt];P=this.chart.scales[rt].getPixelForValue(st)}N=this._getYAxisLabelAlignment(h).textAlign}s==="y"&&(a==="start"?ot="top":a==="end"&&(ot="bottom"));const ut=this._getLabelSizes();for(_=0,C=l.length;_<C;++_){D=l[_],T=D.label;const rt=o.setContext(this.getContext(_));z=this.getPixelForTick(_)+o.labelOffset,q=this._resolveTickFontOptions(_),O=q.lineHeight,g=Rt(T)?T.length:1;const st=g/2,Z=rt.color,nt=rt.textStrokeColor,Ot=rt.textStrokeWidth;let kt=N;r?(P=z,N==="inner"&&(_===C-1?kt=this.options.reverse?"left":"right":_===0?kt=this.options.reverse?"right":"left":kt="center"),n==="top"?c==="near"||x!==0?M=-g*O+O/2:c==="center"?M=-ut.highest.height/2-st*O+O:M=-ut.highest.height+O/2:c==="near"||x!==0?M=O/2:c==="center"?M=ut.highest.height/2-st*O:M=ut.highest.height-g*O,f&&(M*=-1),x!==0&&!rt.showLabelBackdrop&&(P+=O/2*Math.sin(x))):(H=z,M=(1-g)*O/2);let k;if(rt.showLabelBackdrop){const L=ue(rt.backdropPadding),F=ut.heights[_],S=ut.widths[_];let X=M-L.top,G=0-L.left;switch(ot){case"middle":X-=F/2;break;case"bottom":X-=F;break}switch(N){case"center":G-=S/2;break;case"right":G-=S;break;case"inner":_===C-1?G-=S:_>0&&(G-=S/2);break}k={left:G,top:X,width:S+L.width,height:F+L.height,color:rt.backdropColor}}m.push({label:T,font:q,textOffset:M,options:{rotation:x,color:Z,strokeColor:nt,strokeWidth:Ot,textAlign:kt,textBaseline:ot,translation:[P,H],backdrop:k}})}return m}_getXAxisLabelAlignment(){const{position:t,ticks:s}=this.options;if(-as(this.labelRotation))return t==="top"?"left":"right";let n="center";return s.align==="start"?n="left":s.align==="end"?n="right":s.align==="inner"&&(n="inner"),n}_getYAxisLabelAlignment(t){const{position:s,ticks:{crossAlign:i,mirror:n,padding:o}}=this.options,r=this._getLabelSizes(),l=t+o,a=r.widest.width;let c,u;return s==="left"?n?(u=this.right+o,i==="near"?c="left":i==="center"?(c="center",u+=a/2):(c="right",u+=a)):(u=this.right-l,i==="near"?c="right":i==="center"?(c="center",u-=a/2):(c="left",u=this.left)):s==="right"?n?(u=this.left+o,i==="near"?c="right":i==="center"?(c="center",u-=a/2):(c="left",u-=a)):(u=this.left+l,i==="near"?c="left":i==="center"?(c="center",u+=a/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,s=this.options.position;if(s==="left"||s==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(s==="top"||s==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:s},left:i,top:n,width:o,height:r}=this;s&&(t.save(),t.fillStyle=s,t.fillRect(i,n,o,r),t.restore())}getLineWidthForValue(t){const s=this.options.grid;if(!this._isVisible()||!s.display)return 0;const n=this.ticks.findIndex(o=>o.value===t);return n>=0?s.setContext(this.getContext(n)).lineWidth:0}drawGrid(t){const s=this.options.grid,i=this.ctx,n=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let o,r;const l=(a,c,u)=>{!u.width||!u.color||(i.save(),i.lineWidth=u.width,i.strokeStyle=u.color,i.setLineDash(u.borderDash||[]),i.lineDashOffset=u.borderDashOffset,i.beginPath(),i.moveTo(a.x,a.y),i.lineTo(c.x,c.y),i.stroke(),i.restore())};if(s.display)for(o=0,r=n.length;o<r;++o){const a=n[o];s.drawOnChartArea&&l({x:a.x1,y:a.y1},{x:a.x2,y:a.y2},a),s.drawTicks&&l({x:a.tx1,y:a.ty1},{x:a.tx2,y:a.ty2},{color:a.tickColor,width:a.tickWidth,borderDash:a.tickBorderDash,borderDashOffset:a.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:s,options:{border:i,grid:n}}=this,o=i.setContext(this.getContext()),r=i.display?o.width:0;if(!r)return;const l=n.setContext(this.getContext(0)).lineWidth,a=this._borderValue;let c,u,f,h;this.isHorizontal()?(c=ss(t,this.left,r)-r/2,u=ss(t,this.right,l)+l/2,f=h=a):(f=ss(t,this.top,r)-r/2,h=ss(t,this.bottom,l)+l/2,c=u=a),s.save(),s.lineWidth=o.width,s.strokeStyle=o.color,s.beginPath(),s.moveTo(c,f),s.lineTo(u,h),s.stroke(),s.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,n=this._computeLabelArea();n&&zo(i,n);const o=this.getLabelItems(t);for(const r of o){const l=r.options,a=r.font,c=r.label,u=r.textOffset;hi(i,c,0,u,a,l)}n&&Bo(i)}drawTitle(){const{ctx:t,options:{position:s,title:i,reverse:n}}=this;if(!i.display)return;const o=Nt(i.font),r=ue(i.padding),l=i.align;let a=o.lineHeight/2;s==="bottom"||s==="center"||pt(s)?(a+=r.bottom,Rt(i.text)&&(a+=o.lineHeight*(i.text.length-1))):a+=r.top;const{titleX:c,titleY:u,maxWidth:f,rotation:h}=Gg(this,a,s,l);hi(t,i.text,0,0,o,{color:i.color,maxWidth:f,rotation:h,textAlign:Yg(l,s,n),textBaseline:"middle",translation:[c,u]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,s=t.ticks&&t.ticks.z||0,i=dt(t.grid&&t.grid.z,-1),n=dt(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==Ps.prototype.draw?[{z:s,draw:o=>{this.draw(o)}}]:[{z:i,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:n,draw:()=>{this.drawBorder()}},{z:s,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(t){const s=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",n=[];let o,r;for(o=0,r=s.length;o<r;++o){const l=s[o];l[i]===this.id&&(!t||l.type===t)&&n.push(l)}return n}_resolveTickFontOptions(t){const s=this.options.ticks.setContext(this.getContext(t));return Nt(s.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Di{constructor(t,s,i){this.type=t,this.scope=s,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const s=Object.getPrototypeOf(t);let i;Jg(s)&&(i=this.register(s));const n=this.items,o=t.id,r=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in n||(n[o]=t,Xg(t,r,i),this.override&&At.override(t.id,t.overrides)),r}get(t){return this.items[t]}unregister(t){const s=this.items,i=t.id,n=this.scope;i in s&&delete s[i],n&&i in At[n]&&(delete At[n][i],this.override&&delete hs[i])}}function Xg(e,t,s){const i=ci(Object.create(null),[s?At.get(s):{},At.get(t),e.defaults]);At.set(t,i),e.defaultRoutes&&qg(t,e.defaultRoutes),e.descriptors&&At.describe(t,e.descriptors)}function qg(e,t){Object.keys(t).forEach(s=>{const i=s.split("."),n=i.pop(),o=[e].concat(i).join("."),r=t[s].split("."),l=r.pop(),a=r.join(".");At.route(o,n,a,l)})}function Jg(e){return"id"in e&&"defaults"in e}class Zg{constructor(){this.controllers=new Di(si,"datasets",!0),this.elements=new Di(gs,"elements"),this.plugins=new Di(Object,"plugins"),this.scales=new Di(Ps,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,s,i){[...s].forEach(n=>{const o=i||this._getRegistryForType(n);i||o.isForType(n)||o===this.plugins&&n.id?this._exec(t,o,n):yt(n,r=>{const l=i||this._getRegistryForType(r);this._exec(t,l,r)})})}_exec(t,s,i){const n=Fo(t);Ct(i["before"+n],[],i),s[t](i),Ct(i["after"+n],[],i)}_getRegistryForType(t){for(let s=0;s<this._typedRegistries.length;s++){const i=this._typedRegistries[s];if(i.isForType(t))return i}return this.plugins}_get(t,s,i){const n=s.get(t);if(n===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return n}}var _e=new Zg;class Qg{constructor(){this._init=[]}notify(t,s,i,n){s==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const o=n?this._descriptors(t).filter(n):this._descriptors(t),r=this._notify(o,t,s,i);return s==="afterDestroy"&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall")),r}_notify(t,s,i,n){n=n||{};for(const o of t){const r=o.plugin,l=r[i],a=[s,n,o.options];if(Ct(l,a,r)===!1&&n.cancelable)return!1}return!0}invalidate(){Mt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const s=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),s}_createDescriptors(t,s){const i=t&&t.config,n=dt(i.options&&i.options.plugins,{}),o=tp(i);return n===!1&&!s?[]:sp(t,o,n,s)}_notifyStateChanges(t){const s=this._oldCache||[],i=this._cache,n=(o,r)=>o.filter(l=>!r.some(a=>l.plugin.id===a.plugin.id));this._notify(n(s,i),t,"stop"),this._notify(n(i,s),t,"start")}}function tp(e){const t={},s=[],i=Object.keys(_e.plugins.items);for(let o=0;o<i.length;o++)s.push(_e.getPlugin(i[o]));const n=e.plugins||[];for(let o=0;o<n.length;o++){const r=n[o];s.indexOf(r)===-1&&(s.push(r),t[r.id]=!0)}return{plugins:s,localIds:t}}function ep(e,t){return!t&&e===!1?null:e===!0?{}:e}function sp(e,{plugins:t,localIds:s},i,n){const o=[],r=e.getContext();for(const l of t){const a=l.id,c=ep(i[a],n);c!==null&&o.push({plugin:l,options:ip(e.config,{plugin:l,local:s[a]},c,r)})}return o}function ip(e,{plugin:t,local:s},i,n){const o=e.pluginScopeKeys(t),r=e.getOptionScopes(i,o);return s&&t.defaults&&r.push(t.defaults),e.createResolver(r,n,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function ro(e,t){const s=At.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||s.indexAxis||"x"}function np(e,t){let s=e;return e==="_index_"?s=t:e==="_value_"&&(s=t==="x"?"y":"x"),s}function op(e,t){return e===t?"_index_":"_value_"}function dl(e){if(e==="x"||e==="y"||e==="r")return e}function rp(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function lo(e,...t){if(dl(e))return e;for(const s of t){const i=s.axis||rp(s.position)||e.length>1&&dl(e[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function gl(e,t,s){if(s[t+"AxisID"]===e)return{axis:t}}function lp(e,t){if(t.data&&t.data.datasets){const s=t.data.datasets.filter(i=>i.xAxisID===e||i.yAxisID===e);if(s.length)return gl(e,"x",s[0])||gl(e,"y",s[0])}return{}}function ap(e,t){const s=hs[e.type]||{scales:{}},i=t.scales||{},n=ro(e.type,t),o=Object.create(null);return Object.keys(i).forEach(r=>{const l=i[r];if(!pt(l))return console.error(`Invalid scale configuration for scale: ${r}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${r}`);const a=lo(r,l,lp(r,e),At.scales[l.type]),c=op(a,n),u=s.scales||{};o[r]=Js(Object.create(null),[{axis:a},l,u[a],u[c]])}),e.data.datasets.forEach(r=>{const l=r.type||e.type,a=r.indexAxis||ro(l,t),u=(hs[l]||{}).scales||{};Object.keys(u).forEach(f=>{const h=np(f,a),d=r[h+"AxisID"]||h;o[d]=o[d]||Object.create(null),Js(o[d],[{axis:h},i[d],u[f]])})}),Object.keys(o).forEach(r=>{const l=o[r];Js(l,[At.scales[l.type],At.scale])}),o}function mc(e){const t=e.options||(e.options={});t.plugins=dt(t.plugins,{}),t.scales=ap(e,t)}function bc(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function cp(e){return e=e||{},e.data=bc(e.data),mc(e),e}const pl=new Map,xc=new Set;function Ei(e,t){let s=pl.get(e);return s||(s=t(),pl.set(e,s),xc.add(s)),s}const $s=(e,t,s)=>{const i=nn(t,s);i!==void 0&&e.add(i)};class up{constructor(t){this._config=cp(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=bc(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),mc(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Ei(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,s){return Ei(`${t}.transition.${s}`,()=>[[`datasets.${t}.transitions.${s}`,`transitions.${s}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,s){return Ei(`${t}-${s}`,()=>[[`datasets.${t}.elements.${s}`,`datasets.${t}`,`elements.${s}`,""]])}pluginScopeKeys(t){const s=t.id,i=this.type;return Ei(`${i}-plugin-${s}`,()=>[[`plugins.${s}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,s){const i=this._scopeCache;let n=i.get(t);return(!n||s)&&(n=new Map,i.set(t,n)),n}getOptionScopes(t,s,i){const{options:n,type:o}=this,r=this._cachedScopes(t,i),l=r.get(s);if(l)return l;const a=new Set;s.forEach(u=>{t&&(a.add(t),u.forEach(f=>$s(a,t,f))),u.forEach(f=>$s(a,n,f)),u.forEach(f=>$s(a,hs[o]||{},f)),u.forEach(f=>$s(a,At,f)),u.forEach(f=>$s(a,io,f))});const c=Array.from(a);return c.length===0&&c.push(Object.create(null)),xc.has(s)&&r.set(s,c),c}chartOptionScopes(){const{options:t,type:s}=this;return[t,hs[s]||{},At.datasets[s]||{},{type:s},At,io]}resolveNamedOptions(t,s,i,n=[""]){const o={$shared:!0},{resolver:r,subPrefixes:l}=ml(this._resolverCache,t,n);let a=r;if(hp(r,s)){o.$shared=!1,i=Je(i)?i():i;const c=this.createResolver(t,i,l);a=Ts(r,i,c)}for(const c of s)o[c]=a[c];return o}createResolver(t,s,i=[""],n){const{resolver:o}=ml(this._resolverCache,t,i);return pt(s)?Ts(o,s,void 0,n):o}}function ml(e,t,s){let i=e.get(t);i||(i=new Map,e.set(t,i));const n=s.join();let o=i.get(n);return o||(o={resolver:Ho(t,s),subPrefixes:s.filter(l=>!l.toLowerCase().includes("hover"))},i.set(n,o)),o}const fp=e=>pt(e)&&Object.getOwnPropertyNames(e).some(t=>Je(e[t]));function hp(e,t){const{isScriptable:s,isIndexable:i}=ec(e);for(const n of t){const o=s(n),r=i(n),l=(r||o)&&e[n];if(o&&(Je(l)||fp(l))||r&&Rt(l))return!0}return!1}var dp="4.5.0";const gp=["top","bottom","left","right","chartArea"];function bl(e,t){return e==="top"||e==="bottom"||gp.indexOf(e)===-1&&t==="x"}function xl(e,t){return function(s,i){return s[e]===i[e]?s[t]-i[t]:s[e]-i[e]}}function yl(e){const t=e.chart,s=t.options.animation;t.notifyPlugins("afterRender"),Ct(s&&s.onComplete,[e],t)}function pp(e){const t=e.chart,s=t.options.animation;Ct(s&&s.onProgress,[e],t)}function yc(e){return jo()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const ji={},vl=e=>{const t=yc(e);return Object.values(ji).filter(s=>s.canvas===t).pop()};function mp(e,t,s){const i=Object.keys(e);for(const n of i){const o=+n;if(o>=t){const r=e[n];delete e[n],(s>0||o>t)&&(e[o+s]=r)}}}function bp(e,t,s,i){return!s||e.type==="mouseout"?null:i?t:e}class Me{static register(...t){_e.add(...t),_l()}static unregister(...t){_e.remove(...t),_l()}constructor(t,s){const i=this.config=new up(s),n=yc(t),o=vl(n);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const r=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||Rg(n)),this.platform.updateConfig(i);const l=this.platform.acquireContext(n,r.aspectRatio),a=l&&l.canvas,c=a&&a.height,u=a&&a.width;if(this.id=vh(),this.ctx=l,this.canvas=a,this.width=u,this.height=c,this._options=r,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Qg,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Nh(f=>this.update(f),r.resizeDelay||0),this._dataChanges=[],ji[this.id]=this,!l||!a){console.error("Failed to create chart: can't acquire context from the given item");return}De.listen(this,"complete",yl),De.listen(this,"progress",pp),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:s},width:i,height:n,_aspectRatio:o}=this;return Mt(t)?s&&o?o:n?i/n:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return _e}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Kr(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return jr(this.canvas,this.ctx),this}stop(){return De.stop(this),this}resize(t,s){De.running(this)?this._resizeBeforeDraw={width:t,height:s}:this._resize(t,s)}_resize(t,s){const i=this.options,n=this.canvas,o=i.maintainAspectRatio&&this.aspectRatio,r=this.platform.getMaximumSize(n,t,s,o),l=i.devicePixelRatio||this.platform.getDevicePixelRatio(),a=this.width?"resize":"attach";this.width=r.width,this.height=r.height,this._aspectRatio=this.aspectRatio,Kr(this,l,!0)&&(this.notifyPlugins("resize",{size:r}),Ct(i.onResize,[this,r],this),this.attached&&this._doResize(a)&&this.render())}ensureScalesHaveIDs(){const s=this.options.scales||{};yt(s,(i,n)=>{i.id=n})}buildOrUpdateScales(){const t=this.options,s=t.scales,i=this.scales,n=Object.keys(i).reduce((r,l)=>(r[l]=!1,r),{});let o=[];s&&(o=o.concat(Object.keys(s).map(r=>{const l=s[r],a=lo(r,l),c=a==="r",u=a==="x";return{options:l,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),yt(o,r=>{const l=r.options,a=l.id,c=lo(a,l),u=dt(l.type,r.dtype);(l.position===void 0||bl(l.position,c)!==bl(r.dposition))&&(l.position=r.dposition),n[a]=!0;let f=null;if(a in i&&i[a].type===u)f=i[a];else{const h=_e.getScale(u);f=new h({id:a,type:u,ctx:this.ctx,chart:this}),i[f.id]=f}f.init(l,t)}),yt(n,(r,l)=>{r||delete i[l]}),yt(i,r=>{le.configure(this,r,r.options),le.addBox(this,r)})}_updateMetasets(){const t=this._metasets,s=this.data.datasets.length,i=t.length;if(t.sort((n,o)=>n.index-o.index),i>s){for(let n=s;n<i;++n)this._destroyDatasetMeta(n);t.splice(s,i-s)}this._sortedMetasets=t.slice(0).sort(xl("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:s}}=this;t.length>s.length&&delete this._stacks,t.forEach((i,n)=>{s.filter(o=>o===i._dataset).length===0&&this._destroyDatasetMeta(n)})}buildOrUpdateControllers(){const t=[],s=this.data.datasets;let i,n;for(this._removeUnreferencedMetasets(),i=0,n=s.length;i<n;i++){const o=s[i];let r=this.getDatasetMeta(i);const l=o.type||this.config.type;if(r.type&&r.type!==l&&(this._destroyDatasetMeta(i),r=this.getDatasetMeta(i)),r.type=l,r.indexAxis=o.indexAxis||ro(l,this.options),r.order=o.order||0,r.index=i,r.label=""+o.label,r.visible=this.isDatasetVisible(i),r.controller)r.controller.updateIndex(i),r.controller.linkScales();else{const a=_e.getController(l),{datasetElementType:c,dataElementType:u}=At.datasets[l];Object.assign(a,{dataElementType:_e.getElement(u),datasetElementType:c&&_e.getElement(c)}),r.controller=new a(this,i),t.push(r.controller)}}return this._updateMetasets(),t}_resetElements(){yt(this.data.datasets,(t,s)=>{this.getDatasetMeta(s).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const s=this.config;s.update();const i=this._options=s.createResolver(s.chartOptionScopes(),this.getContext()),n=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let r=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:f}=this.getDatasetMeta(c),h=!n&&o.indexOf(f)===-1;f.buildOrUpdateElements(h),r=Math.max(+f.getMaxOverflow(),r)}r=this._minPadding=i.layout.autoPadding?r:0,this._updateLayout(r),n||yt(o,c=>{c.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(xl("z","_idx"));const{_active:l,_lastEvent:a}=this;a?this._eventHandler(a,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){yt(this.scales,t=>{le.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,s=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!Ir(s,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,s=this._getUniformDataChanges()||[];for(const{method:i,start:n,count:o}of s){const r=i==="_removeElements"?-o:o;mp(t,n,r)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const s=this.data.datasets.length,i=o=>new Set(t.filter(r=>r[0]===o).map((r,l)=>l+","+r.splice(1).join(","))),n=i(0);for(let o=1;o<s;o++)if(!Ir(n,i(o)))return;return Array.from(n).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;le.update(this,this.width,this.height,t);const s=this.chartArea,i=s.width<=0||s.height<=0;this._layers=[],yt(this.boxes,n=>{i&&n.position==="chartArea"||(n.configure&&n.configure(),this._layers.push(...n._layers()))},this),this._layers.forEach((n,o)=>{n._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let s=0,i=this.data.datasets.length;s<i;++s)this.getDatasetMeta(s).controller.configure();for(let s=0,i=this.data.datasets.length;s<i;++s)this._updateDataset(s,Je(t)?t({datasetIndex:s}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,s){const i=this.getDatasetMeta(t),n={meta:i,index:t,mode:s,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",n)!==!1&&(i.controller._update(s),n.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",n))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(De.has(this)?this.attached&&!De.running(this)&&De.start(this):(this.draw(),yl({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:n}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,n)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const s=this._layers;for(t=0;t<s.length&&s[t].z<=0;++t)s[t].draw(this.chartArea);for(this._drawDatasets();t<s.length;++t)s[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const s=this._sortedMetasets,i=[];let n,o;for(n=0,o=s.length;n<o;++n){const r=s[n];(!t||r.visible)&&i.push(r)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let s=t.length-1;s>=0;--s)this._drawDataset(t[s]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const s=this.ctx,i={meta:t,index:t.index,cancelable:!0},n=Gd(this,t);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(n&&zo(s,n),t.controller.draw(),n&&Bo(s),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(t){return fi(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,s,i,n){const o=gg.modes[s];return typeof o=="function"?o(this,t,i,n):[]}getDatasetMeta(t){const s=this.data.datasets[t],i=this._metasets;let n=i.filter(o=>o&&o._dataset===s).pop();return n||(n={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:s&&s.order||0,index:t,_dataset:s,_parsed:[],_sorted:!1},i.push(n)),n}getContext(){return this.$context||(this.$context=ds(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const s=this.data.datasets[t];if(!s)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!s.hidden}setDatasetVisibility(t,s){const i=this.getDatasetMeta(t);i.hidden=!s}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,s,i){const n=i?"show":"hide",o=this.getDatasetMeta(t),r=o.controller._resolveAnimations(void 0,n);on(s)?(o.data[s].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),r.update(o,{visible:i}),this.update(l=>l.datasetIndex===t?n:void 0))}hide(t,s){this._updateVisibility(t,s,!1)}show(t,s){this._updateVisibility(t,s,!0)}_destroyDatasetMeta(t){const s=this._metasets[t];s&&s.controller&&s.controller._destroy(),delete this._metasets[t]}_stop(){let t,s;for(this.stop(),De.remove(this),t=0,s=this.data.datasets.length;t<s;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:s}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),jr(t,s),this.platform.releaseContext(s),this.canvas=null,this.ctx=null),delete ji[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,s=this.platform,i=(o,r)=>{s.addEventListener(this,o,r),t[o]=r},n=(o,r,l)=>{o.offsetX=r,o.offsetY=l,this._eventHandler(o)};yt(this.options.events,o=>i(o,n))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,s=this.platform,i=(a,c)=>{s.addEventListener(this,a,c),t[a]=c},n=(a,c)=>{t[a]&&(s.removeEventListener(this,a,c),delete t[a])},o=(a,c)=>{this.canvas&&this.resize(a,c)};let r;const l=()=>{n("attach",l),this.attached=!0,this.resize(),i("resize",o),i("detach",r)};r=()=>{this.attached=!1,n("resize",o),this._stop(),this._resize(0,0),i("attach",l)},s.isAttached(this.canvas)?l():r()}unbindEvents(){yt(this._listeners,(t,s)=>{this.platform.removeEventListener(this,s,t)}),this._listeners={},yt(this._responsiveListeners,(t,s)=>{this.platform.removeEventListener(this,s,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,s,i){const n=i?"set":"remove";let o,r,l,a;for(s==="dataset"&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+n+"DatasetHoverStyle"]()),l=0,a=t.length;l<a;++l){r=t[l];const c=r&&this.getDatasetMeta(r.datasetIndex).controller;c&&c[n+"HoverStyle"](r.element,r.datasetIndex,r.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const s=this._active||[],i=t.map(({datasetIndex:o,index:r})=>{const l=this.getDatasetMeta(o);if(!l)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:l.data[r],index:r}});!en(i,s)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,s))}notifyPlugins(t,s,i){return this._plugins.notify(this,t,s,i)}isPluginEnabled(t){return this._plugins._cache.filter(s=>s.plugin.id===t).length===1}_updateHoverStyles(t,s,i){const n=this.options.hover,o=(a,c)=>a.filter(u=>!c.some(f=>u.datasetIndex===f.datasetIndex&&u.index===f.index)),r=o(s,t),l=i?t:o(t,s);r.length&&this.updateHoverStyle(r,n.mode,!1),l.length&&n.mode&&this.updateHoverStyle(l,n.mode,!0)}_eventHandler(t,s){const i={event:t,replay:s,cancelable:!0,inChartArea:this.isPointInArea(t)},n=r=>(r.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,n)===!1)return;const o=this._handleEvent(t,s,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,n),(o||i.changed)&&this.render(),this}_handleEvent(t,s,i){const{_active:n=[],options:o}=this,r=s,l=this._getActiveElements(t,n,i,r),a=Ch(t),c=bp(t,this._lastEvent,i,a);i&&(this._lastEvent=null,Ct(o.onHover,[t,l,this],this),a&&Ct(o.onClick,[t,l,this],this));const u=!en(l,n);return(u||s)&&(this._active=l,this._updateHoverStyles(l,n,s)),this._lastEvent=c,u}_getActiveElements(t,s,i,n){if(t.type==="mouseout")return[];if(!i)return s;const o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,n)}}at(Me,"defaults",At),at(Me,"instances",ji),at(Me,"overrides",hs),at(Me,"registry",_e),at(Me,"version",dp),at(Me,"getChart",vl);function _l(){return yt(Me.instances,e=>e._plugins.invalidate())}function vc(e,t,s=t){e.lineCap=dt(s.borderCapStyle,t.borderCapStyle),e.setLineDash(dt(s.borderDash,t.borderDash)),e.lineDashOffset=dt(s.borderDashOffset,t.borderDashOffset),e.lineJoin=dt(s.borderJoinStyle,t.borderJoinStyle),e.lineWidth=dt(s.borderWidth,t.borderWidth),e.strokeStyle=dt(s.borderColor,t.borderColor)}function xp(e,t,s){e.lineTo(s.x,s.y)}function yp(e){return e.stepped?ed:e.tension||e.cubicInterpolationMode==="monotone"?sd:xp}function _c(e,t,s={}){const i=e.length,{start:n=0,end:o=i-1}=s,{start:r,end:l}=t,a=Math.max(n,r),c=Math.min(o,l),u=n<r&&o<r||n>l&&o>l;return{count:i,start:a,loop:t.loop,ilen:c<a&&!u?i+c-a:c-a}}function vp(e,t,s,i){const{points:n,options:o}=t,{count:r,start:l,loop:a,ilen:c}=_c(n,s,i),u=yp(o);let{move:f=!0,reverse:h}=i||{},d,b,x;for(d=0;d<=c;++d)b=n[(l+(h?c-d:d))%r],!b.skip&&(f?(e.moveTo(b.x,b.y),f=!1):u(e,x,b,h,o.stepped),x=b);return a&&(b=n[(l+(h?c:0))%r],u(e,x,b,h,o.stepped)),!!a}function _p(e,t,s,i){const n=t.points,{count:o,start:r,ilen:l}=_c(n,s,i),{move:a=!0,reverse:c}=i||{};let u=0,f=0,h,d,b,x,m,_;const C=T=>(r+(c?l-T:T))%o,D=()=>{x!==m&&(e.lineTo(u,m),e.lineTo(u,x),e.lineTo(u,_))};for(a&&(d=n[C(0)],e.moveTo(d.x,d.y)),h=0;h<=l;++h){if(d=n[C(h)],d.skip)continue;const T=d.x,P=d.y,H=T|0;H===b?(P<x?x=P:P>m&&(m=P),u=(f*u+T)/++f):(D(),e.lineTo(T,P),b=H,f=0,x=m=P),_=P}D()}function ao(e){const t=e.options,s=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!s?_p:vp}function wp(e){return e.stepped?Rd:e.tension||e.cubicInterpolationMode==="monotone"?Ld:rs}function Mp(e,t,s,i){let n=t._path;n||(n=t._path=new Path2D,t.path(n,s,i)&&n.closePath()),vc(e,t.options),e.stroke(n)}function Sp(e,t,s,i){const{segments:n,options:o}=t,r=ao(t);for(const l of n)vc(e,o,l.style),e.beginPath(),r(e,t,l,{start:s,end:s+i-1})&&e.closePath(),e.stroke()}const kp=typeof Path2D=="function";function Cp(e,t,s,i){kp&&!t.options.segment?Mp(e,t,s,i):Sp(e,t,s,i)}class Vs extends gs{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,s){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const n=i.spanGaps?this._loop:this._fullLoop;Td(this._points,i,t,n,s),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Wd(this,this.options.segment))}first(){const t=this.segments,s=this.points;return t.length&&s[t[0].start]}last(){const t=this.segments,s=this.points,i=t.length;return i&&s[t[i-1].end]}interpolate(t,s){const i=this.options,n=t[s],o=this.points,r=Nd(this,{property:s,start:n,end:n});if(!r.length)return;const l=[],a=wp(i);let c,u;for(c=0,u=r.length;c<u;++c){const{start:f,end:h}=r[c],d=o[f],b=o[h];if(d===b){l.push(d);continue}const x=Math.abs((n-d[s])/(b[s]-d[s])),m=a(d,b,x,i.stepped);m[s]=t[s],l.push(m)}return l.length===1?l[0]:l}pathSegment(t,s,i){return ao(this)(t,this,s,i)}path(t,s,i){const n=this.segments,o=ao(this);let r=this._loop;s=s||0,i=i||this.points.length-s;for(const l of n)r&=o(t,this,l,{start:s,end:s+i-1});return!!r}draw(t,s,i,n){const o=this.options||{};(this.points||[]).length&&o.borderWidth&&(t.save(),Cp(t,this,i,n),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}at(Vs,"id","line"),at(Vs,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),at(Vs,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),at(Vs,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function wl(e,t,s,i){const n=e.options,{[s]:o}=e.getProps([s],i);return Math.abs(t-o)<n.radius+n.hitRadius}class Wi extends gs{constructor(s){super();at(this,"parsed");at(this,"skip");at(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,s&&Object.assign(this,s)}inRange(s,i,n){const o=this.options,{x:r,y:l}=this.getProps(["x","y"],n);return Math.pow(s-r,2)+Math.pow(i-l,2)<Math.pow(o.hitRadius+o.radius,2)}inXRange(s,i){return wl(this,s,"x",i)}inYRange(s,i){return wl(this,s,"y",i)}getCenterPoint(s){const{x:i,y:n}=this.getProps(["x","y"],s);return{x:i,y:n}}size(s){s=s||this.options||{};let i=s.radius||0;i=Math.max(i,i&&s.hoverRadius||0);const n=i&&s.borderWidth||0;return(i+n)*2}draw(s,i){const n=this.options;this.skip||n.radius<.1||!fi(this,i,this.size(n)/2)||(s.strokeStyle=n.borderColor,s.lineWidth=n.borderWidth,s.fillStyle=n.backgroundColor,no(s,n,this.x,this.y))}getRange(){const s=this.options||{};return s.radius+s.hitRadius}}at(Wi,"id","point"),at(Wi,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),at(Wi,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const Ml=(e,t)=>{let{boxHeight:s=t,boxWidth:i=t}=e;return e.usePointStyle&&(s=Math.min(s,t),i=e.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:s,itemHeight:Math.max(t,s)}},Tp=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class Sl extends gs{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,s,i){this.maxWidth=t,this.maxHeight=s,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let s=Ct(t.generateLabels,[this.chart],this)||[];t.filter&&(s=s.filter(i=>t.filter(i,this.chart.data))),t.sort&&(s=s.sort((i,n)=>t.sort(i,n,this.chart.data))),this.options.reverse&&s.reverse(),this.legendItems=s}fit(){const{options:t,ctx:s}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,n=Nt(i.font),o=n.size,r=this._computeTitleHeight(),{boxWidth:l,itemHeight:a}=Ml(i,o);let c,u;s.font=n.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(r,o,l,a)+10):(u=this.maxHeight,c=this._fitCols(r,n,l,a)+10),this.width=Math.min(c,t.maxWidth||this.maxWidth),this.height=Math.min(u,t.maxHeight||this.maxHeight)}_fitRows(t,s,i,n){const{ctx:o,maxWidth:r,options:{labels:{padding:l}}}=this,a=this.legendHitBoxes=[],c=this.lineWidths=[0],u=n+l;let f=t;o.textAlign="left",o.textBaseline="middle";let h=-1,d=-u;return this.legendItems.forEach((b,x)=>{const m=i+s/2+o.measureText(b.text).width;(x===0||c[c.length-1]+m+2*l>r)&&(f+=u,c[c.length-(x>0?0:1)]=0,d+=u,h++),a[x]={left:0,top:d,row:h,width:m,height:n},c[c.length-1]+=m+l}),f}_fitCols(t,s,i,n){const{ctx:o,maxHeight:r,options:{labels:{padding:l}}}=this,a=this.legendHitBoxes=[],c=this.columnSizes=[],u=r-t;let f=l,h=0,d=0,b=0,x=0;return this.legendItems.forEach((m,_)=>{const{itemWidth:C,itemHeight:D}=Op(i,s,o,m,n);_>0&&d+D+2*l>u&&(f+=h+l,c.push({width:h,height:d}),b+=h+l,x++,h=d=0),a[_]={left:b,top:d,col:x,width:C,height:D},h=Math.max(h,C),d+=D+l}),f+=h,c.push({width:h,height:d}),f}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:s,options:{align:i,labels:{padding:n},rtl:o}}=this,r=Ss(o,this.left,this.width);if(this.isHorizontal()){let l=0,a=Bt(i,this.left+n,this.right-this.lineWidths[l]);for(const c of s)l!==c.row&&(l=c.row,a=Bt(i,this.left+n,this.right-this.lineWidths[l])),c.top+=this.top+t+n,c.left=r.leftForLtr(r.x(a),c.width),a+=c.width+n}else{let l=0,a=Bt(i,this.top+t+n,this.bottom-this.columnSizes[l].height);for(const c of s)c.col!==l&&(l=c.col,a=Bt(i,this.top+t+n,this.bottom-this.columnSizes[l].height)),c.top=a,c.left+=this.left+n,c.left=r.leftForLtr(r.x(c.left),c.width),a+=c.height+n}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;zo(t,this),this._draw(),Bo(t)}}_draw(){const{options:t,columnSizes:s,lineWidths:i,ctx:n}=this,{align:o,labels:r}=t,l=At.color,a=Ss(t.rtl,this.left,this.width),c=Nt(r.font),{padding:u}=r,f=c.size,h=f/2;let d;this.drawTitle(),n.textAlign=a.textAlign("left"),n.textBaseline="middle",n.lineWidth=.5,n.font=c.string;const{boxWidth:b,boxHeight:x,itemHeight:m}=Ml(r,f),_=function(H,N,z){if(isNaN(b)||b<=0||isNaN(x)||x<0)return;n.save();const q=dt(z.lineWidth,1);if(n.fillStyle=dt(z.fillStyle,l),n.lineCap=dt(z.lineCap,"butt"),n.lineDashOffset=dt(z.lineDashOffset,0),n.lineJoin=dt(z.lineJoin,"miter"),n.lineWidth=q,n.strokeStyle=dt(z.strokeStyle,l),n.setLineDash(dt(z.lineDash,[])),r.usePointStyle){const O={radius:x*Math.SQRT2/2,pointStyle:z.pointStyle,rotation:z.rotation,borderWidth:q},g=a.xPlus(H,b/2),M=N+h;Qa(n,O,g,M,r.pointStyleWidth&&b)}else{const O=N+Math.max((f-x)/2,0),g=a.leftForLtr(H,b),M=ei(z.borderRadius);n.beginPath(),Object.values(M).some(ot=>ot!==0)?oo(n,{x:g,y:O,w:b,h:x,radius:M}):n.rect(g,O,b,x),n.fill(),q!==0&&n.stroke()}n.restore()},C=function(H,N,z){hi(n,z.text,H,N+m/2,c,{strikethrough:z.hidden,textAlign:a.textAlign(z.textAlign)})},D=this.isHorizontal(),T=this._computeTitleHeight();D?d={x:Bt(o,this.left+u,this.right-i[0]),y:this.top+u+T,line:0}:d={x:this.left+u,y:Bt(o,this.top+T+u,this.bottom-s[0].height),line:0},rc(this.ctx,t.textDirection);const P=m+u;this.legendItems.forEach((H,N)=>{n.strokeStyle=H.fontColor,n.fillStyle=H.fontColor;const z=n.measureText(H.text).width,q=a.textAlign(H.textAlign||(H.textAlign=r.textAlign)),O=b+h+z;let g=d.x,M=d.y;a.setWidth(this.width),D?N>0&&g+O+u>this.right&&(M=d.y+=P,d.line++,g=d.x=Bt(o,this.left+u,this.right-i[d.line])):N>0&&M+P>this.bottom&&(g=d.x=g+s[d.line].width+u,d.line++,M=d.y=Bt(o,this.top+T+u,this.bottom-s[d.line].height));const ot=a.x(g);if(_(ot,M,H),g=Vh(q,g+b+h,D?g+O:this.right,t.rtl),C(a.x(g),M,H),D)d.x+=O+u;else if(typeof H.text!="string"){const ut=c.lineHeight;d.y+=wc(H,ut)+u}else d.y+=P}),lc(this.ctx,t.textDirection)}drawTitle(){const t=this.options,s=t.title,i=Nt(s.font),n=ue(s.padding);if(!s.display)return;const o=Ss(t.rtl,this.left,this.width),r=this.ctx,l=s.position,a=i.size/2,c=n.top+a;let u,f=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),u=this.top+c,f=Bt(t.align,f,this.right-h);else{const b=this.columnSizes.reduce((x,m)=>Math.max(x,m.height),0);u=c+Bt(t.align,this.top,this.bottom-b-t.labels.padding-this._computeTitleHeight())}const d=Bt(l,f,f+h);r.textAlign=o.textAlign(Lo(l)),r.textBaseline="middle",r.strokeStyle=s.color,r.fillStyle=s.color,r.font=i.string,hi(r,s.text,d,u,i)}_computeTitleHeight(){const t=this.options.title,s=Nt(t.font),i=ue(t.padding);return t.display?s.lineHeight+i.height:0}_getLegendItemAt(t,s){let i,n,o;if(Hs(t,this.left,this.right)&&Hs(s,this.top,this.bottom)){for(o=this.legendHitBoxes,i=0;i<o.length;++i)if(n=o[i],Hs(t,n.left,n.left+n.width)&&Hs(s,n.top,n.top+n.height))return this.legendItems[i]}return null}handleEvent(t){const s=this.options;if(!Dp(t.type,s))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const n=this._hoveredItem,o=Tp(n,i);n&&!o&&Ct(s.onLeave,[t,n,this],this),this._hoveredItem=i,i&&!o&&Ct(s.onHover,[t,i,this],this)}else i&&Ct(s.onClick,[t,i,this],this)}}function Op(e,t,s,i,n){const o=Pp(i,e,t,s),r=Ap(n,i,t.lineHeight);return{itemWidth:o,itemHeight:r}}function Pp(e,t,s,i){let n=e.text;return n&&typeof n!="string"&&(n=n.reduce((o,r)=>o.length>r.length?o:r)),t+s.size/2+i.measureText(n).width}function Ap(e,t,s){let i=e;return typeof t.text!="string"&&(i=wc(t,s)),i}function wc(e,t){const s=e.text?e.text.length:0;return t*s}function Dp(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var Ep={id:"legend",_element:Sl,start(e,t,s){const i=e.legend=new Sl({ctx:e.ctx,options:s,chart:e});le.configure(e,i,s),le.addBox(e,i)},stop(e){le.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,s){const i=e.legend;le.configure(e,i,s),i.options=s},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,s){const i=t.datasetIndex,n=s.chart;n.isDatasetVisible(i)?(n.hide(i),t.hidden=!0):(n.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:s,pointStyle:i,textAlign:n,color:o,useBorderRadius:r,borderRadius:l}}=e.legend.options;return e._getSortedDatasetMetas().map(a=>{const c=a.controller.getStyle(s?0:void 0),u=ue(c.borderWidth);return{text:t[a.index].label,fillStyle:c.backgroundColor,fontColor:o,hidden:!a.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:i||c.pointStyle,rotation:c.rotation,textAlign:n||c.textAlign,borderRadius:r&&(l||c.borderRadius),datasetIndex:a.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class Mc extends gs{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,s){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=s;const n=Rt(i.text)?i.text.length:1;this._padding=ue(i.padding);const o=n*Nt(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:s,left:i,bottom:n,right:o,options:r}=this,l=r.align;let a=0,c,u,f;return this.isHorizontal()?(u=Bt(l,i,o),f=s+t,c=o-i):(r.position==="left"?(u=i+t,f=Bt(l,n,s),a=Lt*-.5):(u=o-t,f=Bt(l,s,n),a=Lt*.5),c=n-s),{titleX:u,titleY:f,maxWidth:c,rotation:a}}draw(){const t=this.ctx,s=this.options;if(!s.display)return;const i=Nt(s.font),o=i.lineHeight/2+this._padding.top,{titleX:r,titleY:l,maxWidth:a,rotation:c}=this._drawArgs(o);hi(t,s.text,0,0,i,{color:s.color,maxWidth:a,rotation:c,textAlign:Lo(s.align),textBaseline:"middle",translation:[r,l]})}}function Ip(e,t){const s=new Mc({ctx:e.ctx,options:t,chart:e});le.configure(e,s,t),le.addBox(e,s),e.titleBlock=s}var Fp={id:"title",_element:Mc,start(e,t,s){Ip(e,s)},stop(e){const t=e.titleBlock;le.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,s){const i=e.titleBlock;le.configure(e,i,s),i.options=s},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const js={average(e){if(!e.length)return!1;let t,s,i=new Set,n=0,o=0;for(t=0,s=e.length;t<s;++t){const l=e[t].element;if(l&&l.hasValue()){const a=l.tooltipPosition();i.add(a.x),n+=a.y,++o}}return o===0||i.size===0?!1:{x:[...i].reduce((l,a)=>l+a)/i.size,y:n/o}},nearest(e,t){if(!e.length)return!1;let s=t.x,i=t.y,n=Number.POSITIVE_INFINITY,o,r,l;for(o=0,r=e.length;o<r;++o){const a=e[o].element;if(a&&a.hasValue()){const c=a.getCenterPoint(),u=so(t,c);u<n&&(n=u,l=a)}}if(l){const a=l.tooltipPosition();s=a.x,i=a.y}return{x:s,y:i}}};function ye(e,t){return t&&(Rt(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function Ee(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function Rp(e,t){const{element:s,datasetIndex:i,index:n}=t,o=e.getDatasetMeta(i).controller,{label:r,value:l}=o.getLabelAndValue(n);return{chart:e,label:r,parsed:o.getParsed(n),raw:e.data.datasets[i].data[n],formattedValue:l,dataset:o.getDataset(),dataIndex:n,datasetIndex:i,element:s}}function kl(e,t){const s=e.chart.ctx,{body:i,footer:n,title:o}=e,{boxWidth:r,boxHeight:l}=t,a=Nt(t.bodyFont),c=Nt(t.titleFont),u=Nt(t.footerFont),f=o.length,h=n.length,d=i.length,b=ue(t.padding);let x=b.height,m=0,_=i.reduce((T,P)=>T+P.before.length+P.lines.length+P.after.length,0);if(_+=e.beforeBody.length+e.afterBody.length,f&&(x+=f*c.lineHeight+(f-1)*t.titleSpacing+t.titleMarginBottom),_){const T=t.displayColors?Math.max(l,a.lineHeight):a.lineHeight;x+=d*T+(_-d)*a.lineHeight+(_-1)*t.bodySpacing}h&&(x+=t.footerMarginTop+h*u.lineHeight+(h-1)*t.footerSpacing);let C=0;const D=function(T){m=Math.max(m,s.measureText(T).width+C)};return s.save(),s.font=c.string,yt(e.title,D),s.font=a.string,yt(e.beforeBody.concat(e.afterBody),D),C=t.displayColors?r+2+t.boxPadding:0,yt(i,T=>{yt(T.before,D),yt(T.lines,D),yt(T.after,D)}),C=0,s.font=u.string,yt(e.footer,D),s.restore(),m+=b.width,{width:m,height:x}}function Lp(e,t){const{y:s,height:i}=t;return s<i/2?"top":s>e.height-i/2?"bottom":"center"}function $p(e,t,s,i){const{x:n,width:o}=i,r=s.caretSize+s.caretPadding;if(e==="left"&&n+o+r>t.width||e==="right"&&n-o-r<0)return!0}function zp(e,t,s,i){const{x:n,width:o}=s,{width:r,chartArea:{left:l,right:a}}=e;let c="center";return i==="center"?c=n<=(l+a)/2?"left":"right":n<=o/2?c="left":n>=r-o/2&&(c="right"),$p(c,e,t,s)&&(c="center"),c}function Cl(e,t,s){const i=s.yAlign||t.yAlign||Lp(e,s);return{xAlign:s.xAlign||t.xAlign||zp(e,t,s,i),yAlign:i}}function Bp(e,t){let{x:s,width:i}=e;return t==="right"?s-=i:t==="center"&&(s-=i/2),s}function Hp(e,t,s){let{y:i,height:n}=e;return t==="top"?i+=s:t==="bottom"?i-=n+s:i-=n/2,i}function Tl(e,t,s,i){const{caretSize:n,caretPadding:o,cornerRadius:r}=e,{xAlign:l,yAlign:a}=s,c=n+o,{topLeft:u,topRight:f,bottomLeft:h,bottomRight:d}=ei(r);let b=Bp(t,l);const x=Hp(t,a,c);return a==="center"?l==="left"?b+=c:l==="right"&&(b-=c):l==="left"?b-=Math.max(u,h)+n:l==="right"&&(b+=Math.max(f,d)+n),{x:re(b,0,i.width-t.width),y:re(x,0,i.height-t.height)}}function Ii(e,t,s){const i=ue(s.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-i.right:e.x+i.left}function Ol(e){return ye([],Ee(e))}function Np(e,t,s){return ds(e,{tooltip:t,tooltipItems:s,type:"tooltip"})}function Pl(e,t){const s=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return s?e.override(s):e}const Sc={beforeTitle:Ae,title(e){if(e.length>0){const t=e[0],s=t.chart.data.labels,i=s?s.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return s[t.dataIndex]}return""},afterTitle:Ae,beforeBody:Ae,beforeLabel:Ae,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const s=e.formattedValue;return Mt(s)||(t+=s),t},labelColor(e){const s=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:s.borderColor,backgroundColor:s.backgroundColor,borderWidth:s.borderWidth,borderDash:s.borderDash,borderDashOffset:s.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const s=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:s.pointStyle,rotation:s.rotation}},afterLabel:Ae,afterBody:Ae,beforeFooter:Ae,footer:Ae,afterFooter:Ae};function Xt(e,t,s,i){const n=e[t].call(s,i);return typeof n>"u"?Sc[t].call(s,i):n}class co extends gs{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const s=this.chart,i=this.options.setContext(this.getContext()),n=i.enabled&&s.options.animation&&i.animations,o=new cc(this.chart,n);return n._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=Np(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,s){const{callbacks:i}=s,n=Xt(i,"beforeTitle",this,t),o=Xt(i,"title",this,t),r=Xt(i,"afterTitle",this,t);let l=[];return l=ye(l,Ee(n)),l=ye(l,Ee(o)),l=ye(l,Ee(r)),l}getBeforeBody(t,s){return Ol(Xt(s.callbacks,"beforeBody",this,t))}getBody(t,s){const{callbacks:i}=s,n=[];return yt(t,o=>{const r={before:[],lines:[],after:[]},l=Pl(i,o);ye(r.before,Ee(Xt(l,"beforeLabel",this,o))),ye(r.lines,Xt(l,"label",this,o)),ye(r.after,Ee(Xt(l,"afterLabel",this,o))),n.push(r)}),n}getAfterBody(t,s){return Ol(Xt(s.callbacks,"afterBody",this,t))}getFooter(t,s){const{callbacks:i}=s,n=Xt(i,"beforeFooter",this,t),o=Xt(i,"footer",this,t),r=Xt(i,"afterFooter",this,t);let l=[];return l=ye(l,Ee(n)),l=ye(l,Ee(o)),l=ye(l,Ee(r)),l}_createItems(t){const s=this._active,i=this.chart.data,n=[],o=[],r=[];let l=[],a,c;for(a=0,c=s.length;a<c;++a)l.push(Rp(this.chart,s[a]));return t.filter&&(l=l.filter((u,f,h)=>t.filter(u,f,h,i))),t.itemSort&&(l=l.sort((u,f)=>t.itemSort(u,f,i))),yt(l,u=>{const f=Pl(t.callbacks,u);n.push(Xt(f,"labelColor",this,u)),o.push(Xt(f,"labelPointStyle",this,u)),r.push(Xt(f,"labelTextColor",this,u))}),this.labelColors=n,this.labelPointStyles=o,this.labelTextColors=r,this.dataPoints=l,l}update(t,s){const i=this.options.setContext(this.getContext()),n=this._active;let o,r=[];if(!n.length)this.opacity!==0&&(o={opacity:0});else{const l=js[i.position].call(this,n,this._eventPosition);r=this._createItems(i),this.title=this.getTitle(r,i),this.beforeBody=this.getBeforeBody(r,i),this.body=this.getBody(r,i),this.afterBody=this.getAfterBody(r,i),this.footer=this.getFooter(r,i);const a=this._size=kl(this,i),c=Object.assign({},l,a),u=Cl(this.chart,i,c),f=Tl(i,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,o={opacity:1,x:f.x,y:f.y,width:a.width,height:a.height,caretX:l.x,caretY:l.y}}this._tooltipItems=r,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:s})}drawCaret(t,s,i,n){const o=this.getCaretPosition(t,i,n);s.lineTo(o.x1,o.y1),s.lineTo(o.x2,o.y2),s.lineTo(o.x3,o.y3)}getCaretPosition(t,s,i){const{xAlign:n,yAlign:o}=this,{caretSize:r,cornerRadius:l}=i,{topLeft:a,topRight:c,bottomLeft:u,bottomRight:f}=ei(l),{x:h,y:d}=t,{width:b,height:x}=s;let m,_,C,D,T,P;return o==="center"?(T=d+x/2,n==="left"?(m=h,_=m-r,D=T+r,P=T-r):(m=h+b,_=m+r,D=T-r,P=T+r),C=m):(n==="left"?_=h+Math.max(a,u)+r:n==="right"?_=h+b-Math.max(c,f)-r:_=this.caretX,o==="top"?(D=d,T=D-r,m=_-r,C=_+r):(D=d+x,T=D+r,m=_+r,C=_-r),P=D),{x1:m,x2:_,x3:C,y1:D,y2:T,y3:P}}drawTitle(t,s,i){const n=this.title,o=n.length;let r,l,a;if(o){const c=Ss(i.rtl,this.x,this.width);for(t.x=Ii(this,i.titleAlign,i),s.textAlign=c.textAlign(i.titleAlign),s.textBaseline="middle",r=Nt(i.titleFont),l=i.titleSpacing,s.fillStyle=i.titleColor,s.font=r.string,a=0;a<o;++a)s.fillText(n[a],c.x(t.x),t.y+r.lineHeight/2),t.y+=r.lineHeight+l,a+1===o&&(t.y+=i.titleMarginBottom-l)}}_drawColorBox(t,s,i,n,o){const r=this.labelColors[i],l=this.labelPointStyles[i],{boxHeight:a,boxWidth:c}=o,u=Nt(o.bodyFont),f=Ii(this,"left",o),h=n.x(f),d=a<u.lineHeight?(u.lineHeight-a)/2:0,b=s.y+d;if(o.usePointStyle){const x={radius:Math.min(c,a)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},m=n.leftForLtr(h,c)+c/2,_=b+a/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,no(t,x,m,_),t.strokeStyle=r.borderColor,t.fillStyle=r.backgroundColor,no(t,x,m,_)}else{t.lineWidth=pt(r.borderWidth)?Math.max(...Object.values(r.borderWidth)):r.borderWidth||1,t.strokeStyle=r.borderColor,t.setLineDash(r.borderDash||[]),t.lineDashOffset=r.borderDashOffset||0;const x=n.leftForLtr(h,c),m=n.leftForLtr(n.xPlus(h,1),c-2),_=ei(r.borderRadius);Object.values(_).some(C=>C!==0)?(t.beginPath(),t.fillStyle=o.multiKeyBackground,oo(t,{x,y:b,w:c,h:a,radius:_}),t.fill(),t.stroke(),t.fillStyle=r.backgroundColor,t.beginPath(),oo(t,{x:m,y:b+1,w:c-2,h:a-2,radius:_}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(x,b,c,a),t.strokeRect(x,b,c,a),t.fillStyle=r.backgroundColor,t.fillRect(m,b+1,c-2,a-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,s,i){const{body:n}=this,{bodySpacing:o,bodyAlign:r,displayColors:l,boxHeight:a,boxWidth:c,boxPadding:u}=i,f=Nt(i.bodyFont);let h=f.lineHeight,d=0;const b=Ss(i.rtl,this.x,this.width),x=function(z){s.fillText(z,b.x(t.x+d),t.y+h/2),t.y+=h+o},m=b.textAlign(r);let _,C,D,T,P,H,N;for(s.textAlign=r,s.textBaseline="middle",s.font=f.string,t.x=Ii(this,m,i),s.fillStyle=i.bodyColor,yt(this.beforeBody,x),d=l&&m!=="right"?r==="center"?c/2+u:c+2+u:0,T=0,H=n.length;T<H;++T){for(_=n[T],C=this.labelTextColors[T],s.fillStyle=C,yt(_.before,x),D=_.lines,l&&D.length&&(this._drawColorBox(s,t,T,b,i),h=Math.max(f.lineHeight,a)),P=0,N=D.length;P<N;++P)x(D[P]),h=f.lineHeight;yt(_.after,x)}d=0,h=f.lineHeight,yt(this.afterBody,x),t.y-=o}drawFooter(t,s,i){const n=this.footer,o=n.length;let r,l;if(o){const a=Ss(i.rtl,this.x,this.width);for(t.x=Ii(this,i.footerAlign,i),t.y+=i.footerMarginTop,s.textAlign=a.textAlign(i.footerAlign),s.textBaseline="middle",r=Nt(i.footerFont),s.fillStyle=i.footerColor,s.font=r.string,l=0;l<o;++l)s.fillText(n[l],a.x(t.x),t.y+r.lineHeight/2),t.y+=r.lineHeight+i.footerSpacing}}drawBackground(t,s,i,n){const{xAlign:o,yAlign:r}=this,{x:l,y:a}=t,{width:c,height:u}=i,{topLeft:f,topRight:h,bottomLeft:d,bottomRight:b}=ei(n.cornerRadius);s.fillStyle=n.backgroundColor,s.strokeStyle=n.borderColor,s.lineWidth=n.borderWidth,s.beginPath(),s.moveTo(l+f,a),r==="top"&&this.drawCaret(t,s,i,n),s.lineTo(l+c-h,a),s.quadraticCurveTo(l+c,a,l+c,a+h),r==="center"&&o==="right"&&this.drawCaret(t,s,i,n),s.lineTo(l+c,a+u-b),s.quadraticCurveTo(l+c,a+u,l+c-b,a+u),r==="bottom"&&this.drawCaret(t,s,i,n),s.lineTo(l+d,a+u),s.quadraticCurveTo(l,a+u,l,a+u-d),r==="center"&&o==="left"&&this.drawCaret(t,s,i,n),s.lineTo(l,a+f),s.quadraticCurveTo(l,a,l+f,a),s.closePath(),s.fill(),n.borderWidth>0&&s.stroke()}_updateAnimationTarget(t){const s=this.chart,i=this.$animations,n=i&&i.x,o=i&&i.y;if(n||o){const r=js[t.position].call(this,this._active,this._eventPosition);if(!r)return;const l=this._size=kl(this,t),a=Object.assign({},r,this._size),c=Cl(s,t,a),u=Tl(t,a,c,s);(n._to!==u.x||o._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=l.width,this.height=l.height,this.caretX=r.x,this.caretY=r.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(t){const s=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(s);const n={width:this.width,height:this.height},o={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const r=ue(s.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;s.enabled&&l&&(t.save(),t.globalAlpha=i,this.drawBackground(o,t,n,s),rc(t,s.textDirection),o.y+=r.top,this.drawTitle(o,t,s),this.drawBody(o,t,s),this.drawFooter(o,t,s),lc(t,s.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,s){const i=this._active,n=t.map(({datasetIndex:l,index:a})=>{const c=this.chart.getDatasetMeta(l);if(!c)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:c.data[a],index:a}}),o=!en(i,n),r=this._positionChanged(n,s);(o||r)&&(this._active=n,this._eventPosition=s,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,s,i=!0){if(s&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const n=this.options,o=this._active||[],r=this._getActiveElements(t,o,s,i),l=this._positionChanged(r,t),a=s||!en(r,o)||l;return a&&(this._active=r,(n.enabled||n.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,s))),a}_getActiveElements(t,s,i,n){const o=this.options;if(t.type==="mouseout")return[];if(!n)return s.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);const r=this.chart.getElementsAtEventForMode(t,o.mode,o,i);return o.reverse&&r.reverse(),r}_positionChanged(t,s){const{caretX:i,caretY:n,options:o}=this,r=js[o.position].call(this,t,s);return r!==!1&&(i!==r.x||n!==r.y)}}at(co,"positioners",js);var Vp={id:"tooltip",_element:co,positioners:js,afterInit(e,t,s){s&&(e.tooltip=new co({chart:e,options:s}))},beforeUpdate(e,t,s){e.tooltip&&e.tooltip.initialize(s)},reset(e,t,s){e.tooltip&&e.tooltip.initialize(s)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const s={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...s,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",s)}},afterEvent(e,t){if(e.tooltip){const s=t.replay;e.tooltip.handleEvent(t.event,s,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Sc},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const jp=(e,t,s,i)=>(typeof t=="string"?(s=e.push(t)-1,i.unshift({index:s,label:t})):isNaN(t)&&(s=null),s);function Wp(e,t,s,i){const n=e.indexOf(t);if(n===-1)return jp(e,t,s,i);const o=e.lastIndexOf(t);return n!==o?s:n}const Up=(e,t)=>e===null?null:re(Math.round(e),0,t);function Al(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class uo extends Ps{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const s=this._addedLabels;if(s.length){const i=this.getLabels();for(const{index:n,label:o}of s)i[n]===o&&i.splice(n,1);this._addedLabels=[]}super.init(t)}parse(t,s){if(Mt(t))return null;const i=this.getLabels();return s=isFinite(s)&&i[s]===t?s:Wp(i,t,dt(s,t),this._addedLabels),Up(s,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:s}=this.getUserBounds();let{min:i,max:n}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),s||(n=this.getLabels().length-1)),this.min=i,this.max=n}buildTicks(){const t=this.min,s=this.max,i=this.options.offset,n=[];let o=this.getLabels();o=t===0&&s===o.length-1?o:o.slice(t,s+1),this._valueRange=Math.max(o.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let r=t;r<=s;r++)n.push({value:r});return n}getLabelForValue(t){return Al.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const s=this.ticks;return t<0||t>s.length-1?null:this.getPixelForValue(s[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}at(uo,"id","category"),at(uo,"defaults",{ticks:{callback:Al}});function Kp(e,t){const s=[],{bounds:n,step:o,min:r,max:l,precision:a,count:c,maxTicks:u,maxDigits:f,includeBounds:h}=e,d=o||1,b=u-1,{min:x,max:m}=t,_=!Mt(r),C=!Mt(l),D=!Mt(c),T=(m-x)/(f+1);let P=Rr((m-x)/b/d)*d,H,N,z,q;if(P<1e-14&&!_&&!C)return[{value:x},{value:m}];q=Math.ceil(m/P)-Math.floor(x/P),q>b&&(P=Rr(q*P/b/d)*d),Mt(a)||(H=Math.pow(10,a),P=Math.ceil(P*H)/H),n==="ticks"?(N=Math.floor(x/P)*P,z=Math.ceil(m/P)*P):(N=x,z=m),_&&C&&o&&Dh((l-r)/o,P/1e3)?(q=Math.round(Math.min((l-r)/P,u)),P=(l-r)/q,N=r,z=l):D?(N=_?r:N,z=C?l:z,q=c-1,P=(z-N)/q):(q=(z-N)/P,Zs(q,Math.round(q),P/1e3)?q=Math.round(q):q=Math.ceil(q));const O=Math.max(Lr(P),Lr(N));H=Math.pow(10,Mt(a)?O:a),N=Math.round(N*H)/H,z=Math.round(z*H)/H;let g=0;for(_&&(h&&N!==r?(s.push({value:r}),N<r&&g++,Zs(Math.round((N+g*P)*H)/H,r,Dl(r,T,e))&&g++):N<r&&g++);g<q;++g){const M=Math.round((N+g*P)*H)/H;if(C&&M>l)break;s.push({value:M})}return C&&h&&z!==l?s.length&&Zs(s[s.length-1].value,l,Dl(l,T,e))?s[s.length-1].value=l:s.push({value:l}):(!C||z===l)&&s.push({value:z}),s}function Dl(e,t,{horizontal:s,minRotation:i}){const n=as(i),o=(s?Math.sin(n):Math.cos(n))||.001,r=.75*t*(""+e).length;return Math.min(t/o,r)}class Yp extends Ps{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,s){return Mt(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:s,maxDefined:i}=this.getUserBounds();let{min:n,max:o}=this;const r=a=>n=s?n:a,l=a=>o=i?o:a;if(t){const a=Cs(n),c=Cs(o);a<0&&c<0?l(0):a>0&&c>0&&r(0)}if(n===o){let a=o===0?1:Math.abs(o*.05);l(o+a),t||r(n-a)}this.min=n,this.max=o}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:s,stepSize:i}=t,n;return i?(n=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,n>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${n} ticks. Limiting to 1000.`),n=1e3)):(n=this.computeTickLimit(),s=s||11),s&&(n=Math.min(s,n)),n}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,s=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const n={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:s.precision,step:s.stepSize,count:s.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:s.minRotation||0,includeBounds:s.includeBounds!==!1},o=this._range||this,r=Kp(n,o);return t.bounds==="ticks"&&Eh(r,this,"value"),t.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}configure(){const t=this.ticks;let s=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const n=(i-s)/Math.max(t.length-1,1)/2;s-=n,i+=n}this._startValue=s,this._endValue=i,this._valueRange=i-s}getLabelForValue(t){return Ja(t,this.chart.options.locale,this.options.ticks.format)}}class fo extends Yp{determineDataLimits(){const{min:t,max:s}=this.getMinMax(!0);this.min=ce(t)?t:0,this.max=ce(s)?s:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),s=t?this.width:this.height,i=as(this.options.ticks.minRotation),n=(t?Math.sin(i):Math.cos(i))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(s/Math.min(40,o.lineHeight/n))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}at(fo,"id","linear"),at(fo,"defaults",{ticks:{callback:Za.formatters.numeric}});const Sn={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Jt=Object.keys(Sn);function El(e,t){return e-t}function Il(e,t){if(Mt(t))return null;const s=e._adapter,{parser:i,round:n,isoWeekday:o}=e._parseOpts;let r=t;return typeof i=="function"&&(r=i(r)),ce(r)||(r=typeof i=="string"?s.parse(r,i):s.parse(r)),r===null?null:(n&&(r=n==="week"&&(ui(o)||o===!0)?s.startOf(r,"isoWeek",o):s.startOf(r,n)),+r)}function Fl(e,t,s,i){const n=Jt.length;for(let o=Jt.indexOf(e);o<n-1;++o){const r=Sn[Jt[o]],l=r.steps?r.steps:Number.MAX_SAFE_INTEGER;if(r.common&&Math.ceil((s-t)/(l*r.size))<=i)return Jt[o]}return Jt[n-1]}function Gp(e,t,s,i,n){for(let o=Jt.length-1;o>=Jt.indexOf(s);o--){const r=Jt[o];if(Sn[r].common&&e._adapter.diff(n,i,r)>=t-1)return r}return Jt[s?Jt.indexOf(s):0]}function Xp(e){for(let t=Jt.indexOf(e)+1,s=Jt.length;t<s;++t)if(Sn[Jt[t]].common)return Jt[t]}function Rl(e,t,s){if(!s)e[t]=!0;else if(s.length){const{lo:i,hi:n}=Ro(s,t),o=s[i]>=t?s[i]:s[n];e[o]=!0}}function qp(e,t,s,i){const n=e._adapter,o=+n.startOf(t[0].value,i),r=t[t.length-1].value;let l,a;for(l=o;l<=r;l=+n.add(l,1,i))a=s[l],a>=0&&(t[a].major=!0);return t}function Ll(e,t,s){const i=[],n={},o=t.length;let r,l;for(r=0;r<o;++r)l=t[r],n[l]=r,i.push({value:l,major:!1});return o===0||!s?i:qp(e,i,n,s)}class cn extends Ps{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,s={}){const i=t.time||(t.time={}),n=this._adapter=new cg._date(t.adapters.date);n.init(s),Js(i.displayFormats,n.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=s.normalized}parse(t,s){return t===void 0?null:Il(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,s=this._adapter,i=t.time.unit||"day";let{min:n,max:o,minDefined:r,maxDefined:l}=this.getUserBounds();function a(c){!r&&!isNaN(c.min)&&(n=Math.min(n,c.min)),!l&&!isNaN(c.max)&&(o=Math.max(o,c.max))}(!r||!l)&&(a(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&a(this.getMinMax(!1))),n=ce(n)&&!isNaN(n)?n:+s.startOf(Date.now(),i),o=ce(o)&&!isNaN(o)?o:+s.endOf(Date.now(),i)+1,this.min=Math.min(n,o-1),this.max=Math.max(n+1,o)}_getLabelBounds(){const t=this.getLabelTimestamps();let s=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(s=t[0],i=t[t.length-1]),{min:s,max:i}}buildTicks(){const t=this.options,s=t.time,i=t.ticks,n=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&n.length&&(this.min=this._userMin||n[0],this.max=this._userMax||n[n.length-1]);const o=this.min,r=this.max,l=zh(n,o,r);return this._unit=s.unit||(i.autoSkip?Fl(s.minUnit,this.min,this.max,this._getLabelCapacity(o)):Gp(this,l.length,s.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:Xp(this._unit),this.initOffsets(n),t.reverse&&l.reverse(),Ll(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let s=0,i=0,n,o;this.options.offset&&t.length&&(n=this.getDecimalForValue(t[0]),t.length===1?s=1-n:s=(this.getDecimalForValue(t[1])-n)/2,o=this.getDecimalForValue(t[t.length-1]),t.length===1?i=o:i=(o-this.getDecimalForValue(t[t.length-2]))/2);const r=t.length<3?.5:.25;s=re(s,0,r),i=re(i,0,r),this._offsets={start:s,end:i,factor:1/(s+1+i)}}_generate(){const t=this._adapter,s=this.min,i=this.max,n=this.options,o=n.time,r=o.unit||Fl(o.minUnit,s,i,this._getLabelCapacity(s)),l=dt(n.ticks.stepSize,1),a=r==="week"?o.isoWeekday:!1,c=ui(a)||a===!0,u={};let f=s,h,d;if(c&&(f=+t.startOf(f,"isoWeek",a)),f=+t.startOf(f,c?"day":r),t.diff(i,s,r)>1e5*l)throw new Error(s+" and "+i+" are too far apart with stepSize of "+l+" "+r);const b=n.ticks.source==="data"&&this.getDataTimestamps();for(h=f,d=0;h<i;h=+t.add(h,l,r),d++)Rl(u,h,b);return(h===i||n.bounds==="ticks"||d===1)&&Rl(u,h,b),Object.keys(u).sort(El).map(x=>+x)}getLabelForValue(t){const s=this._adapter,i=this.options.time;return i.tooltipFormat?s.format(t,i.tooltipFormat):s.format(t,i.displayFormats.datetime)}format(t,s){const n=this.options.time.displayFormats,o=this._unit,r=s||n[o];return this._adapter.format(t,r)}_tickFormatFunction(t,s,i,n){const o=this.options,r=o.ticks.callback;if(r)return Ct(r,[t,s,i],this);const l=o.time.displayFormats,a=this._unit,c=this._majorUnit,u=a&&l[a],f=c&&l[c],h=i[s],d=c&&f&&h&&h.major;return this._adapter.format(t,n||(d?f:u))}generateTickLabels(t){let s,i,n;for(s=0,i=t.length;s<i;++s)n=t[s],n.label=this._tickFormatFunction(n.value,s,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const s=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((s.start+i)*s.factor)}getValueForPixel(t){const s=this._offsets,i=this.getDecimalForPixel(t)/s.factor-s.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const s=this.options.ticks,i=this.ctx.measureText(t).width,n=as(this.isHorizontal()?s.maxRotation:s.minRotation),o=Math.cos(n),r=Math.sin(n),l=this._resolveTickFontOptions(0).size;return{w:i*o+l*r,h:i*r+l*o}}_getLabelCapacity(t){const s=this.options.time,i=s.displayFormats,n=i[s.unit]||i.millisecond,o=this._tickFormatFunction(t,0,Ll(this,[t],this._majorUnit),n),r=this._getLabelSize(o),l=Math.floor(this.isHorizontal()?this.width/r.w:this.height/r.h)-1;return l>0?l:1}getDataTimestamps(){let t=this._cache.data||[],s,i;if(t.length)return t;const n=this.getMatchingVisibleMetas();if(this._normalized&&n.length)return this._cache.data=n[0].controller.getAllParsedValues(this);for(s=0,i=n.length;s<i;++s)t=t.concat(n[s].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let s,i;if(t.length)return t;const n=this.getLabels();for(s=0,i=n.length;s<i;++s)t.push(Il(this,n[s]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return Hh(t.sort(El))}}at(cn,"id","time"),at(cn,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Fi(e,t,s){let i=0,n=e.length-1,o,r,l,a;s?(t>=e[i].pos&&t<=e[n].pos&&({lo:i,hi:n}=cs(e,"pos",t)),{pos:o,time:l}=e[i],{pos:r,time:a}=e[n]):(t>=e[i].time&&t<=e[n].time&&({lo:i,hi:n}=cs(e,"time",t)),{time:o,pos:l}=e[i],{time:r,pos:a}=e[n]);const c=r-o;return c?l+(a-l)*(t-o)/c:l}class $l extends cn{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),s=this._table=this.buildLookupTable(t);this._minPos=Fi(s,this.min),this._tableRange=Fi(s,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:s,max:i}=this,n=[],o=[];let r,l,a,c,u;for(r=0,l=t.length;r<l;++r)c=t[r],c>=s&&c<=i&&n.push(c);if(n.length<2)return[{time:s,pos:0},{time:i,pos:1}];for(r=0,l=n.length;r<l;++r)u=n[r+1],a=n[r-1],c=n[r],Math.round((u+a)/2)!==c&&o.push({time:c,pos:r/(l-1)});return o}_generate(){const t=this.min,s=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(s)||i.length===1)&&i.push(s),i.sort((n,o)=>n-o)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const s=this.getDataTimestamps(),i=this.getLabelTimestamps();return s.length&&i.length?t=this.normalize(s.concat(i)):t=s.length?s:i,t=this._cache.all=t,t}getDecimalForValue(t){return(Fi(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const s=this._offsets,i=this.getDecimalForPixel(t)/s.factor-s.end;return Fi(this._table,i*this._tableRange+this._minPos,!0)}}at($l,"id","timeseries"),at($l,"defaults",cn.defaults);const Ko=(e,t)=>{const s=e.__vccOpts||e;for(const[i,n]of t)s[i]=n;return s},Jp={class:"bg-white rounded overflow-hidden shadow"},Zp={key:0,class:"p-2 border-b border-gray-200 bg-gray-50"},Qp={class:"flex items-center gap-3 flex-wrap"},tm={class:"flex items-center gap-2"},em=["value"],sm={key:1,class:"text-xs text-gray-600"},im={class:"overflow-x-auto overflow-y-visible"},nm={class:"min-w-full text-xs"},om=["onClick"],rm={class:"px-2 py-1 border-b border-gray-200 h-6 align-middle sticky bg-inherit w-64"},lm={class:"truncate"},am={key:0,class:"text-gray-600 text-xs ml-1"},cm={class:"px-2 py-1 border-b border-gray-200 h-6 align-middle w-40"},um={class:"flex flex-wrap gap-0.5"},fm={key:0,class:"text-gray-400 text-xs"},hm={key:1,class:"text-gray-400 text-xs"},dm={__name:"MetricTable",props:{metrics:Array,projections:Array,periods:Array,viewMode:String,selectedMetricId:String,formatValue:Function,isFilterExpanded:Boolean},emits:["select-metric","toggle-filter"],setup(e,{emit:t}){const s=e,i=Tt([]),n=se(()=>{const c=new Set;return s.metrics.forEach(u=>{var f;(f=u.tags)==null||f.forEach(h=>c.add(h))}),Array.from(c).sort()}),o=se(()=>i.value.length===0?s.metrics:s.metrics.filter(c=>i.value.every(u=>{var f;return(f=c.tags)==null?void 0:f.includes(u)})));$e(()=>s.metrics,()=>{i.value=i.value.filter(c=>n.value.includes(c))},{deep:!0});const r=()=>{},l=()=>{i.value=[]},a=(c,u)=>{if(s.viewMode==="monthly")return c.values[u];{const f=(u-1)*12,h=c.yearlyAggregation||"last";if(h==="last")return c.values[f+11]||0;if(h==="sum"){let d=0;for(let b=0;b<12;b++)d+=c.values[f+b]||0;return d}else if(h==="average"){let d=0,b=0;for(let x=0;x<12;x++){const m=c.values[f+x];m!==void 0&&(d+=m,b++)}return b>0?d/b:0}return c.values[f+11]||0}};return(c,u)=>(W(),K("div",Jp,[e.isFilterExpanded?(W(),K("div",Zp,[v("div",Qp,[v("div",tm,[u[1]||(u[1]=v("label",{class:"text-xs font-medium text-gray-700"},"Filter by tags:",-1)),Pt(v("select",{"onUpdate:modelValue":u[0]||(u[0]=f=>i.value=f),multiple:"",class:"px-2 py-1 border border-gray-300 rounded text-xs min-w-40",onChange:r},[(W(!0),K(Dt,null,fe(n.value,f=>(W(),K("option",{key:f,value:f},gt(f),9,em))),128))],544),[[te,i.value]])]),i.value.length>0?(W(),K("button",{key:0,onClick:l,class:"px-2 py-1 text-xs text-gray-600 hover:text-gray-800 border border-gray-300 rounded hover:bg-gray-100"}," Clear ")):ct("",!0),i.value.length>0?(W(),K("span",sm,gt(o.value.length)+"/"+gt(e.metrics.length),1)):ct("",!0)])])):ct("",!0),v("div",im,[v("table",nm,[v("thead",null,[v("tr",null,[u[2]||(u[2]=v("th",{class:"px-2 py-1.5 text-left font-semibold bg-gray-50 border-b border-gray-200 h-6 align-middle sticky w-64"}," Metric ",-1)),u[3]||(u[3]=v("th",{class:"px-2 py-1.5 text-left font-semibold bg-gray-50 border-b border-gray-200 h-6 align-middle w-40"}," Tags ",-1)),(W(!0),K(Dt,null,fe(e.periods,f=>(W(),K("th",{key:f,class:"px-1 py-1 text-center font-semibold bg-gray-50 border-b border-gray-200 h-6 align-middle min-w-10"},gt(e.viewMode==="monthly"?"M":"Y")+gt(f),1))),128))])]),v("tbody",null,[(W(!0),K(Dt,null,fe(o.value,(f,h)=>{var d;return W(),K("tr",{key:f.id,class:Te({"ring-1 ring-blue-500":e.selectedMetricId===f.id,"cursor-pointer hover:bg-gray-50":!0,"text-blue-600":f.type==="variable"}),style:gn({backgroundColor:f.color}),onClick:b=>c.$emit("select-metric",f.id)},[v("td",rm,[v("div",lm,[$t(gt((d=e.projections[e.metrics.indexOf(f)])==null?void 0:d.name)+" ",1),f.unit&&f.unit!=="$"?(W(),K("span",am," ("+gt(f.unit)+") ",1)):ct("",!0)])]),v("td",cm,[v("div",um,[(W(!0),K(Dt,null,fe(f.tags.slice(0,3),b=>(W(),K("span",{key:b,class:"inline-flex items-center px-1 py-0.5 rounded text-xs bg-blue-100 text-blue-800"},gt(b),1))),128)),f.tags.length>3?(W(),K("span",fm,"+"+gt(f.tags.length-3),1)):ct("",!0),f.tags.length===0?(W(),K("span",hm,"-")):ct("",!0)])]),(W(!0),K(Dt,null,fe(e.periods,b=>{var x,m;return W(),K("td",{key:b,class:"px-1 py-1 text-right border-b border-gray-200 h-6 align-middle"},[v("span",{class:Te({"text-green-600":((x=f.format)==null?void 0:x.colorize)&&a(e.projections[e.metrics.indexOf(f)],b)>0,"text-red-600":((m=f.format)==null?void 0:m.colorize)&&a(e.projections[e.metrics.indexOf(f)],b)<0})},gt(e.formatValue(a(e.projections[e.metrics.indexOf(f)],b),f.format)),3)])}),128))],14,om)}),128))])])])]))}},gm=Ko(dm,[["__scopeId","data-v-6bc1b11f"]]);class Yo{constructor(t){this.metrics=t,this.functions={SUM:this.sumFunction.bind(this),AVG:this.avgFunction.bind(this),MIN:this.minFunction.bind(this),MAX:this.maxFunction.bind(this),GROWTH:this.growthFunction.bind(this),DELTA:this.deltaFunction.bind(this),PCT_CHANGE:this.pctChangeFunction.bind(this),ROI:this.roiFunction.bind(this),MARGIN:this.marginFunction.bind(this),RATIO:this.ratioFunction.bind(this),CUMULATIVE:this.cumulativeFunction.bind(this),MOVING_AVG:this.movingAvgFunction.bind(this)}}tokenize(t){const s=[];let i=0;for(;i<t.length;){const n=t[i];if(/\s/.test(n)){i++;continue}if(/\d|\./.test(n)){let o="";for(;i<t.length&&/\d|\./.test(t[i]);)o+=t[i],i++;s.push({type:"number",value:parseFloat(o)});continue}if(/[a-zA-Z_]/.test(n)){let o="";for(;i<t.length&&/[a-zA-Z0-9_]/.test(t[i]);)o+=t[i],i++;s.push({type:"identifier",value:o});continue}if("+-*/^%".includes(n)){s.push({type:"operator",value:n}),i++;continue}if(n==="/"&&i+1<t.length&&t[i+1]==="/"){s.push({type:"operator",value:"//"}),i+=2;continue}if("()".includes(n)){s.push({type:"parenthesis",value:n}),i++;continue}if(n===":"){s.push({type:"colon",value:n}),i++;continue}if(n===","){s.push({type:"comma",value:n}),i++;continue}throw new Error(`Unexpected character: ${n} at position ${i}`)}return s}parse(t){return this.tokens=t,this.current=0,this.parseExpression()}parseExpression(){return this.parseAddition()}parseAddition(){let t=this.parseMultiplication();for(;this.current<this.tokens.length;){const s=this.tokens[this.current];if(s.type==="operator"&&(s.value==="+"||s.value==="-")){this.current++;const i=this.parseMultiplication();t={type:"binary",operator:s.value,left:t,right:i}}else break}return t}parseMultiplication(){let t=this.parsePower();for(;this.current<this.tokens.length;){const s=this.tokens[this.current];if(s.type==="operator"&&(s.value==="*"||s.value==="/"||s.value==="//"||s.value==="%")){this.current++;const i=this.parsePower();t={type:"binary",operator:s.value,left:t,right:i}}else break}return t}parsePower(){let t=this.parseUnary();for(;this.current<this.tokens.length;){const s=this.tokens[this.current];if(s.type==="operator"&&s.value==="^"){this.current++;const i=this.parseUnary();t={type:"binary",operator:s.value,left:t,right:i}}else break}return t}parseUnary(){const t=this.tokens[this.current];return t.type==="operator"&&(t.value==="+"||t.value==="-")?(this.current++,{type:"unary",operator:t.value,operand:this.parseUnary()}):this.parsePrimary()}parsePrimary(){var s,i,n,o;const t=this.tokens[this.current];if(t.type==="parenthesis"&&t.value==="("){this.current++;const r=this.parseExpression();if(((s=this.tokens[this.current])==null?void 0:s.type)==="parenthesis"&&((i=this.tokens[this.current])==null?void 0:i.value)===")")return this.current++,r;throw new Error("Expected closing parenthesis")}if(t.type==="identifier"&&((n=this.tokens[this.current+1])==null?void 0:n.type)==="parenthesis"&&((o=this.tokens[this.current+1])==null?void 0:o.value)==="(")return this.parseFunctionCall();if(t.type==="identifier")return this.parseMetricReference();if(t.type==="number")return this.current++,{type:"number",value:t.value};throw new Error(`Unexpected token: ${t.type} ${t.value}`)}parseFunctionCall(){var i,n,o;const t=this.tokens[this.current].value;this.current+=2;const s=[];for(;this.current<this.tokens.length&&!(this.tokens[this.current].type==="parenthesis"&&this.tokens[this.current].value===")");)s.push(this.parseExpression()),((i=this.tokens[this.current])==null?void 0:i.type)==="comma"&&this.current++;if(((n=this.tokens[this.current])==null?void 0:n.type)==="parenthesis"&&((o=this.tokens[this.current])==null?void 0:o.value)===")")this.current++;else throw new Error("Expected closing parenthesis in function call");return{type:"function",name:t,arguments:s}}parseMetricReference(){var i,n,o,r;const t=this.tokens[this.current].value;this.current++;let s=0;if(((i=this.tokens[this.current])==null?void 0:i.type)==="colon")if(this.current++,((n=this.tokens[this.current])==null?void 0:n.type)==="operator"&&(this.tokens[this.current].value==="+"||this.tokens[this.current].value==="-")){const l=this.tokens[this.current].value;if(this.current++,((o=this.tokens[this.current])==null?void 0:o.type)==="number")s=l==="-"?-this.tokens[this.current].value:this.tokens[this.current].value,this.current++;else throw new Error("Expected number after +/- in metric offset")}else((r=this.tokens[this.current])==null?void 0:r.type)==="number"&&(s=this.tokens[this.current].value,this.current++);return{type:"metric",name:t,offset:s}}evaluate(t,s=0){switch(t.type){case"number":return t.value;case"metric":return this.evaluateMetric(t,s);case"binary":return this.evaluateBinary(t,s);case"unary":return this.evaluateUnary(t,s);case"function":return this.evaluateFunction(t,s);default:throw new Error(`Unknown AST node type: ${t.type}`)}}evaluateMetric(t,s){const i=this.metrics.value.find(r=>r.slug===t.name);if(!i)throw new Error(`Metric not found: ${t.name}`);const n=s+t.offset;return n<0||n>=60?0:pm(i)[n]||0}evaluateBinary(t,s){const i=this.evaluate(t.left,s),n=this.evaluate(t.right,s);switch(t.operator){case"+":return i+n;case"-":return i-n;case"*":return i*n;case"/":if(n===0)throw new Error("Division by zero");return i/n;case"//":if(n===0)throw new Error("Division by zero");return Math.floor(i/n);case"%":if(n===0)throw new Error("Modulo by zero");return i%n;case"^":return Math.pow(i,n);default:throw new Error(`Unknown operator: ${t.operator}`)}}evaluateUnary(t,s){const i=this.evaluate(t.operand,s);return t.operator==="-"?-i:i}evaluateFunction(t,s){const i=this.functions[t.name.toUpperCase()];if(!i)throw new Error(`Unknown function: ${t.name}`);return i(t.arguments,s)}sumFunction(t,s){const[i,n=1]=t;let o=0;for(let r=0;r<n;r++)o+=this.evaluate(i,s-r);return o}avgFunction(t,s){const[i,n=1]=t;return this.sumFunction(t,s)/n}minFunction(t,s){const[i,n=1]=t;let o=1/0;for(let r=0;r<n;r++){const l=this.evaluate(i,s-r);l<o&&(o=l)}return o===1/0?0:o}maxFunction(t,s){const[i,n=1]=t;let o=-1/0;for(let r=0;r<n;r++){const l=this.evaluate(i,s-r);l>o&&(o=l)}return o===-1/0?0:o}growthFunction(t,s){const[i,n=1]=t,o=this.evaluate(i,s),r=this.evaluate(i,s-n);return r===0?0:Math.pow(o/r,1/n)-1}deltaFunction(t,s){const[i]=t;return this.evaluate(i,s)-this.evaluate(i,s-1)}pctChangeFunction(t,s){const[i]=t,n=this.evaluate(i,s),o=this.evaluate(i,s-1);return o===0?0:(n-o)/o}roiFunction(t,s){const[i,n]=t,o=this.evaluate(i,s),r=this.evaluate(n,s);return r===0?0:(o-r)/r}marginFunction(t,s){const[i,n]=t,o=this.evaluate(i,s),r=this.evaluate(n,s);return r===0?0:o/r}ratioFunction(t,s){return this.marginFunction(t,s)}cumulativeFunction(t,s){const[i]=t;let n=0;for(let o=0;o<=s;o++)n+=this.evaluate(i,o);return n}movingAvgFunction(t,s){const[i,n=3]=t;let o=0,r=0;for(let l=0;l<n;l++){const a=this.evaluate(i,s-l);isNaN(a)||(o+=a,r++)}return r>0?o/r:0}validate(t){try{const s=this.tokenize(t);return{valid:!0,ast:this.parse(s),error:null}}catch(s){return{valid:!1,ast:null,error:s.message}}}getSuggestions(t,s){return{metrics:this.metrics.value.map(i=>i.slug),functions:Object.keys(this.functions),operators:["+","-","*","/","//","%","^"]}}}function pm(e){if(!e||e.type!=="variable"||!e.values)return new Array(60).fill(0);const t=new Array(60).fill(0),s=[];return Object.entries(e.values).forEach(([i,n])=>{const[o,r]=i.split("-").map(Number),l=(o-1)*12+(r-1);l>=0&&l<60&&s.push({index:l,value:Number(n)})}),s.sort((i,n)=>i.index-n.index),s.length===0?t:e.interpolation==="none"?(s.forEach(i=>{t[i.index]=i.value}),t):e.interpolation==="curve"?bm(s,t):mm(s,t)}function mm(e,t){for(let s=0;s<e.length-1;s++){const i=e[s],n=e[s+1];t[i.index]=i.value,t[n.index]=n.value;const o=n.index-i.index,r=(n.value-i.value)/o;for(let l=1;l<o;l++)t[i.index+l]=i.value+r*l}for(let s=0;s<60;s++)if(t[s]===0&&e.length>0){const i=e.reduce((n,o)=>Math.abs(o.index-s)<Math.abs(n.index-s)?o:n);t[s]=i.value}return t}function bm(e,t){e.forEach(s=>{t[s.index]=s.value});for(let s=0;s<e.length-1;s++){const i=e[Math.max(0,s-1)],n=e[s],o=e[s+1],r=e[Math.min(e.length-1,s+2)],l=o.index-n.index;if(l<=1)continue;const a=o.index-i.index,c=r.index-n.index,u=a>0?(o.value-i.value)/a*.5:0,f=c>0?(r.value-n.value)/c*.5:0;for(let h=1;h<l;h++){const d=h/l,b=2*d*d*d-3*d*d+1,x=d*d*d-2*d*d+d,m=-2*d*d*d+3*d*d,_=d*d*d-d*d;t[n.index+h]=b*n.value+x*u*(o.index-n.index)+m*o.value+_*f*(o.index-n.index)}}return t}const xm={class:"space-y-2"},ym={class:"relative"},vm={key:0,class:"absolute z-10 w-full bg-white border border-gray-300 rounded-b shadow-lg max-h-40 overflow-y-auto",style:{top:"100%"}},_m=["onMousedown"],wm={class:"font-mono"},Mm={class:"text-gray-500 ml-2"},Sm={class:"flex items-center gap-2 text-sm"},km={key:0,class:"text-green-600"},Cm={key:1,class:"text-red-600"},Tm={key:2,class:"text-gray-500"},Om={key:0,class:"text-sm text-gray-600"},Pm={__name:"FormulaInput",props:{modelValue:String,metrics:Array,currentPeriod:{type:Number,default:0}},emits:["update:modelValue","valid-change"],setup(e,{emit:t}){const s=e,i=t,n=Tt(s.modelValue||""),o=Tt(!1),r=Tt({valid:!0,error:null}),l=Tt(null),a=se(()=>new Yo(s.metrics)),c=async()=>{if(!n.value.trim()){r.value={valid:!0,error:null},l.value=null,i("valid-change",!0);return}try{const m=a.value.validate(n.value);if(r.value=m,m.valid)try{l.value=a.value.evaluate(m.ast,s.currentPeriod)}catch(_){l.value=null,console.warn("Preview calculation failed:",_.message)}else l.value=null;i("valid-change",m.valid)}catch(m){r.value={valid:!1,error:m.message},l.value=null,i("valid-change",!1)}},u=se(()=>{if(!o.value||!n.value)return[];const m=[];return s.metrics.forEach(D=>{m.push({text:D.slug+":0",description:D.name,type:"metric"})}),[{name:"SUM",desc:"Sum of N periods"},{name:"AVG",desc:"Average of N periods"},{name:"MIN",desc:"Minimum of N periods"},{name:"MAX",desc:"Maximum of N periods"},{name:"GROWTH",desc:"Compound growth rate"},{name:"DELTA",desc:"Change from previous period"},{name:"PCT_CHANGE",desc:"Percentage change"},{name:"ROI",desc:"Return on investment"},{name:"MARGIN",desc:"Margin calculation"},{name:"RATIO",desc:"Ratio calculation"},{name:"CUMULATIVE",desc:"Cumulative sum"},{name:"MOVING_AVG",desc:"Moving average"}].forEach(D=>{m.push({text:D.name+"(",description:D.desc,type:"function"})}),["+","-","*","/","//","%","^","(",")"].forEach(D=>{m.push({text:D,description:"Operator",type:"operator"})}),m.slice(0,10)}),f=()=>{i("update:modelValue",n.value),c()},h=m=>{m.key==="Escape"?o.value=!1:m.key==="Enter"&&m.ctrlKey&&u.value.length>0&&(m.preventDefault(),b(u.value[0]))},d=()=>{setTimeout(()=>{o.value=!1},150)},b=m=>{const _=n.value.length,C=n.value.substring(0,_),D=n.value.substring(_);n.value=C+m.text+D,o.value=!1,f()},x=m=>typeof m!="number"||isNaN(m)?"N/A":Math.abs(m)>=1e6?(m/1e6).toFixed(2)+"M":Math.abs(m)>=1e3?(m/1e3).toFixed(2)+"K":m.toFixed(2);return $e(()=>s.modelValue,m=>{m!==n.value&&(n.value=m||"",c())}),$e(()=>s.metrics,()=>{c()},{deep:!0}),To(()=>{c()}),(m,_)=>(W(),K("div",xm,[_[7]||(_[7]=v("label",{class:"block text-sm font-medium"},"Formula",-1)),v("div",ym,[Pt(v("textarea",{"onUpdate:modelValue":_[0]||(_[0]=C=>n.value=C),onInput:f,onKeydown:h,onFocus:_[1]||(_[1]=C=>o.value=!0),onBlur:d,class:Te(["w-full px-3 py-2 border rounded font-mono text-sm resize-none",r.value.valid?"border-gray-300":"border-red-500"]),rows:"3",placeholder:"Enter formula: Revenue:0 / Users:0 or SUM(Revenue:0, 3)"},null,34),[[Ne,n.value]]),o.value&&u.value.length>0?(W(),K("div",vm,[(W(!0),K(Dt,null,fe(u.value,C=>(W(),K("div",{key:C.text,onMousedown:D=>b(C),class:"px-3 py-2 hover:bg-gray-100 cursor-pointer text-sm"},[v("span",wm,gt(C.text),1),v("span",Mm,gt(C.description),1)],40,_m))),128))])):ct("",!0)]),v("div",Sm,[r.value.valid?(W(),K("span",km,[..._[2]||(_[2]=[v("i",{class:"fas fa-check-circle mr-1"},null,-1),$t(" Valid formula ",-1)])])):r.value.error?(W(),K("span",Cm,[_[3]||(_[3]=v("i",{class:"fas fa-exclamation-triangle mr-1"},null,-1)),$t(" "+gt(r.value.error),1)])):(W(),K("span",Tm,[..._[4]||(_[4]=[v("i",{class:"fas fa-clock mr-1"},null,-1),$t(" Checking... ",-1)])]))]),r.value.valid&&l.value!==null?(W(),K("div",Om,[_[5]||(_[5]=v("strong",null,"Preview:",-1)),$t(" "+gt(x(l.value))+" ",1),_[6]||(_[6]=v("span",{class:"text-xs text-gray-500 ml-2"}," (Current period calculation) ",-1))])):ct("",!0),_[8]||(_[8]=v("div",{class:"text-xs text-gray-500 space-y-1"},[v("div",null,[v("strong",null,"Operators:"),$t(" +, -, *, /, // (integer div), %, ^ (power)")]),v("div",null,[v("strong",null,"Functions:"),$t(" SUM(metric, periods), AVG(metric, periods), GROWTH(metric, periods), PCT_CHANGE(metric), ROI(return, cost), MARGIN(num, den)")]),v("div",null,[v("strong",null,"Metrics:"),$t(" Use metricName:offset (e.g., Revenue:0, Users:-1)")]),v("div",null,[v("strong",null,"Examples:"),$t(" (Revenue:0 - Costs:0) / Revenue:0, GROWTH(Users:0, 12)")])],-1))]))}},Am=Ko(Pm,[["__scopeId","data-v-3819a015"]]),Dm={class:"text-sm"},Em={class:"flex justify-between items-center mb-3"},Im={class:"flex gap-1"},Fm={key:0,class:"space-y-3"},Rm={key:0,class:"mb-2"},Lm={key:1,class:"mb-2"},$m={class:"text-base font-semibold"},zm={key:2},Bm={key:3,class:"text-gray-600 text-xs"},Hm={key:4,class:"grid grid-cols-2 gap-2"},Nm=["value"],Vm={key:5},jm={key:6},Wm={key:7,class:"text-gray-600 text-xs italic"},Um={key:8,class:"mb-3"},Km={key:9,class:"mb-3"},Ym={class:"overflow-x-auto"},Gm={class:"w-full text-xs"},Xm={class:"bg-gray-50"},qm={class:"px-1 py-1 font-medium bg-gray-50 text-xs"},Jm=["value","onInput"],Zm={class:"mt-2"},Qm={key:10},tb={key:11},eb={key:0,class:"space-y-1"},sb={class:"flex flex-wrap gap-1"},ib=["onClick"],nb={key:1,class:"flex flex-wrap gap-1"},ob={key:0,class:"text-gray-500 text-xs"},rb={key:12},lb={key:0,class:"space-y-4 p-4 border border-gray-200 rounded"},ab={class:"flex flex-wrap gap-2"},cb={class:"grid grid-cols-2 gap-4"},ub={class:"grid grid-cols-2 gap-4"},fb={class:"grid grid-cols-2 gap-4"},hb={class:"grid grid-cols-2 gap-4"},db={class:"mt-4 p-3 bg-gray-50 rounded"},gb={class:"grid grid-cols-3 gap-2 text-sm"},pb={class:"font-mono"},mb={class:"font-mono"},bb={class:"font-mono"},xb={key:1,class:"text-sm text-gray-600"},yb={class:"flex flex-wrap gap-1"},vb={key:0,class:"px-2 py-1 bg-blue-100 text-blue-800 rounded text-xs"},_b={key:1,class:"px-2 py-1 bg-green-100 text-green-800 rounded text-xs"},wb={key:2,class:"px-2 py-1 bg-purple-100 text-purple-800 rounded text-xs"},Mb={key:3,class:"px-2 py-1 bg-orange-100 text-orange-800 rounded text-xs"},Sb={key:4,class:"px-2 py-1 bg-red-100 text-red-800 rounded text-xs"},kb={key:5,class:"px-2 py-1 bg-gray-100 text-gray-800 rounded text-xs"},Cb={key:6,class:"px-2 py-1 bg-yellow-100 text-yellow-800 rounded text-xs"},Tb={key:0,class:"text-gray-500"},Ob={__name:"MetricDetails",props:{selectedMetric:Object,metrics:Array,editMode:Boolean,currentType:String,formulaMetric1:String,formulaOffset1:Number,formulaOperation:String,formulaMetric2:String,formulaOffset2:Number,offsetOptions:Array,chartMetrics:Array,getMetricValue:Function,setMetricValue:Function},emits:["toggle-edit","toggle-chart","update-type","update-formula","recalculate","set-metric-value","get-metric-value","update-formula","move-metric-up","move-metric-down"],setup(e,{emit:t}){const s=e,i=Tt(""),n=Tt(""),o=Tt(""),r=Tt(""),l=Tt(!0);$e(()=>s.selectedMetric,O=>{O&&(O.unit?["","units","€","$","%","customers"].includes(O.unit)?(o.value=O.unit,n.value=""):(o.value="custom",n.value=O.unit):(o.value="",n.value=""))},{immediate:!0});const a=t,c=se(()=>!s.selectedMetric||!s.metrics?-1:s.metrics.findIndex(O=>O.id===s.selectedMetric.id)),u=se(()=>c.value>0),f=se(()=>c.value>=0&&c.value<s.metrics.length-1),h=()=>{u.value&&a("move-metric-up",s.selectedMetric.id)},d=()=>{f.value&&a("move-metric-down",s.selectedMetric.id)},b=O=>{var M;if(!O||O.type!=="calculated")return"";if(O.id==="totalUnits")return"Total customers × Units per customer per month";if(O.id==="salesRevenue")return"Total units sold × Price per unit";if(O.id==="totalInflow")return"Sales revenue + Other inflows per month";if(O.id==="totalCogs")return"Total units sold × COGS per unit";if(O.id==="totalOutflow")return"Total COGS + Fixed costs + Other outflows per month";if(O.id==="cashBalance")return"Previous balance + Total inflow - Total outflow";const g=((M=O.formula)==null?void 0:M.split(" "))||[];if(g.length>=3&&g.length%2===1){let ot="";for(let ut=0;ut<g.length;ut++)if(ut%2===0){const rt=g[ut];if(rt.includes(":")){const[st,Z]=rt.split(":"),nt=parseInt(Z)||0,Ot=s.metrics.find(kt=>kt.slug===st);if(Ot){const kt=nt===0?"":nt<0?` (${Math.abs(nt)} months ago)`:` (${nt} months ahead)`;ot+=`${Ot.name}${kt}`}else ot+=rt}else ot+=rt}else{const rt=g[ut];ot+=` ${rt==="*"?"×":rt==="/"?"÷":rt} `}return ot}else if(g.length===3){const[ot,ut,rt]=g,[st,Z]=ot.split(":"),[nt,Ot]=rt.split(":"),kt=parseInt(Z)||0,k=parseInt(Ot)||0,L=s.metrics.find(S=>S.slug===st),F=s.metrics.find(S=>S.slug===nt);if(L&&F){const S=kt===0?"":kt<0?` (${Math.abs(kt)} months ago)`:` (${kt} months ahead)`,X=k===0?"":k<0?` (${Math.abs(k)} months ago)`:` (${k} months ahead)`,G=ut==="*"?"×":ut==="/"?"÷":ut;return`${L.name}${S} ${G} ${F.name}${X}`}}return O.formula||""},x=()=>{s.selectedMetric&&confirm(`Are you sure you want to delete "${s.selectedMetric.name}"?`)&&console.log("Delete metric:",s.selectedMetric.id)},m=O=>{a("update-formula",O)},_=()=>{o.value==="custom"?s.selectedMetric.unit&&!["","units","€","$","%","customers"].includes(s.selectedMetric.unit)?n.value=s.selectedMetric.unit:n.value="":(s.selectedMetric.unit=o.value,n.value="",a("recalculate"))},C=()=>{s.selectedMetric.unit=n.value||"",a("recalculate")},D=()=>{const O=i.value.trim().toLowerCase();O&&s.selectedMetric&&!s.selectedMetric.tags.includes(O)&&(s.selectedMetric.tags.push(O),i.value="",a("recalculate"))},T=O=>{if(s.selectedMetric){const g=s.selectedMetric.tags.indexOf(O);g>-1&&(s.selectedMetric.tags.splice(g,1),a("recalculate"))}},P=O=>{(O.key===","||O.key===";")&&(O.preventDefault(),D())},H=O=>{if(!s.selectedMetric)return;const g=s.selectedMetric.format;switch(O){case"default":Object.assign(g,{decimals:2,compact:!1,currency:"",percentage:!1,scientific:!1,suffix:"",rounding:"round",colorize:!1,minThreshold:.01});break;case"currency":Object.assign(g,{decimals:2,compact:!1,currency:"$",percentage:!1,scientific:!1,suffix:"",rounding:"round",colorize:!0,minThreshold:.01});break;case"percentage":Object.assign(g,{decimals:1,compact:!1,currency:"",percentage:!0,scientific:!1,suffix:"",rounding:"round",colorize:!1,minThreshold:.01});break;case"compact":Object.assign(g,{decimals:1,compact:!0,currency:"$",percentage:!1,scientific:!1,suffix:"",rounding:"round",colorize:!0,minThreshold:.01});break;case"scientific":Object.assign(g,{decimals:2,compact:!1,currency:"",percentage:!1,scientific:!0,suffix:"",rounding:"round",colorize:!1,minThreshold:1e-4});break}a("recalculate")},N=()=>{s.selectedMetric&&(s.selectedMetric.format.currency=r.value||"",a("recalculate"))},z=O=>{if(!s.selectedMetric)return O.toString();const g=s.selectedMetric.format;let M=O;if(g.compact){const ot=Math.abs(O);ot>=1e9?M=(O/1e9).toFixed(1)+"B":ot>=1e6?M=(O/1e6).toFixed(1)+"M":ot>=1e3?M=(O/1e3).toFixed(1)+"K":M=O.toFixed(g.decimals)}else M=O.toFixed(g.decimals);return g.currency&&g.currency!=="custom"&&(M=g.currency+M),g.percentage&&(M+="%"),g.suffix&&(M+=" "+g.suffix),M},q=se(()=>{if(!s.selectedMetric)return!1;const O=s.selectedMetric.format;return O.currency||O.percentage||O.compact||O.scientific||O.colorize||O.decimals!==2||O.suffix});return(O,g)=>(W(),K("div",Dm,[v("div",Em,[g[46]||(g[46]=v("h2",{class:"text-lg font-semibold"},"Metric Details",-1)),v("div",Im,[e.selectedMetric&&u.value?(W(),K("button",{key:0,onClick:h,class:"p-1.5 rounded border border-gray-300 text-gray-600 hover:bg-gray-100 hover:text-gray-800 text-xs"},[...g[41]||(g[41]=[v("i",{class:"fas fa-arrow-up"},null,-1)])])):ct("",!0),e.selectedMetric&&f.value?(W(),K("button",{key:1,onClick:d,class:"p-1.5 rounded border border-gray-300 text-gray-600 hover:bg-gray-100 hover:text-gray-800 text-xs"},[...g[42]||(g[42]=[v("i",{class:"fas fa-arrow-down"},null,-1)])])):ct("",!0),v("button",{onClick:g[0]||(g[0]=M=>O.$emit("toggle-chart")),class:Te({"p-1.5 rounded border text-xs":!0,"bg-blue-600 text-white border-blue-600":e.selectedMetric&&e.chartMetrics.includes(e.selectedMetric.id),"border-gray-300 text-gray-600 hover:bg-gray-100 hover:text-gray-800":!(e.selectedMetric&&e.chartMetrics.includes(e.selectedMetric.id))})},[...g[43]||(g[43]=[v("i",{class:"fas fa-chart-line"},null,-1)])],2),v("button",{onClick:g[1]||(g[1]=M=>O.$emit("toggle-edit")),class:"px-2 py-1 bg-blue-600 text-white rounded text-xs border border-blue-600"},[g[44]||(g[44]=v("i",{class:"fas fa-pencil-alt mr-1"},null,-1)),$t(" "+gt(e.editMode?"Save":"Edit"),1)]),e.selectedMetric?(W(),K("button",{key:2,onClick:x,class:"p-1.5 rounded border border-red-500 text-red-500 text-xs hover:bg-red-50"},[...g[45]||(g[45]=[v("i",{class:"fas fa-trash"},null,-1)])])):ct("",!0)])]),e.selectedMetric?(W(),K("div",Fm,[e.editMode&&e.selectedMetric?(W(),K("div",Rm,[g[47]||(g[47]=v("label",{class:"block text-xs font-medium mb-1"},"Metric Name",-1)),Pt(v("input",{"onUpdate:modelValue":g[2]||(g[2]=M=>e.selectedMetric.name=M),onInput:g[3]||(g[3]=M=>O.$emit("recalculate")),class:"w-full px-2 py-1.5 border border-gray-300 rounded text-sm font-semibold"},null,544),[[Ne,e.selectedMetric.name]])])):e.selectedMetric?(W(),K("div",Lm,[v("h3",$m,gt(e.selectedMetric.name),1)])):ct("",!0),e.editMode&&e.selectedMetric?(W(),K("div",zm,[g[48]||(g[48]=v("label",{class:"block text-xs font-medium mb-1"},"Description",-1)),Pt(v("textarea",{"onUpdate:modelValue":g[4]||(g[4]=M=>e.selectedMetric.description=M),onInput:g[5]||(g[5]=M=>O.$emit("recalculate")),rows:"2",class:"w-full px-2 py-1.5 border border-gray-300 rounded text-sm"},null,544),[[Ne,e.selectedMetric.description]])])):e.selectedMetric&&e.selectedMetric.description?(W(),K("div",Bm,gt(e.selectedMetric.description),1)):ct("",!0),e.editMode&&e.selectedMetric?(W(),K("div",Hm,[v("div",null,[g[50]||(g[50]=v("label",{class:"block text-xs font-medium mb-1"},"Type",-1)),v("select",{value:e.currentType,onChange:g[6]||(g[6]=M=>O.$emit("update-type",M)),class:"w-full px-2 py-1.5 border border-gray-300 rounded text-sm"},[...g[49]||(g[49]=[v("option",{value:"variable"},"Variable",-1),v("option",{value:"calculated"},"Calculated",-1)])],40,Nm)]),v("div",null,[g[52]||(g[52]=v("label",{class:"block text-xs font-medium mb-1"},"Unit",-1)),Pt(v("select",{"onUpdate:modelValue":g[7]||(g[7]=M=>o.value=M),onChange:_,class:"w-full px-2 py-1.5 border border-gray-300 rounded text-sm"},[...g[51]||(g[51]=[En('<option value="" data-v-cbffebb2>No unit</option><option value="units" data-v-cbffebb2>units</option><option value="€" data-v-cbffebb2>€</option><option value="$" data-v-cbffebb2>$</option><option value="%" data-v-cbffebb2>%</option><option value="customers" data-v-cbffebb2>customers</option><option value="custom" data-v-cbffebb2>Custom...</option>',7)])],544),[[te,o.value]]),o.value==="custom"?Pt((W(),K("input",{key:0,"onUpdate:modelValue":g[8]||(g[8]=M=>n.value=M),onInput:C,placeholder:"Enter custom unit",class:"w-full mt-1 px-2 py-1.5 border border-gray-300 rounded text-sm"},null,544)),[[Ne,n.value]]):ct("",!0)])])):ct("",!0),e.editMode&&e.selectedMetric?(W(),K("div",Vm,[g[54]||(g[54]=v("label",{class:"block text-xs font-medium mb-1"},"Yearly Aggregation",-1)),Pt(v("select",{"onUpdate:modelValue":g[9]||(g[9]=M=>e.selectedMetric.yearlyAggregation=M),onChange:g[10]||(g[10]=M=>O.$emit("recalculate")),class:"w-full px-2 py-1.5 border border-gray-300 rounded text-sm"},[...g[53]||(g[53]=[v("option",{value:"last"},"Last value of year",-1),v("option",{value:"sum"},"Sum of monthly values",-1),v("option",{value:"average"},"Average of monthly values",-1)])],544),[[te,e.selectedMetric.yearlyAggregation]])])):ct("",!0),e.editMode&&e.currentType==="calculated"&&e.selectedMetric?(W(),K("div",jm,[ie(Am,{modelValue:e.selectedMetric.formula||"",metrics:e.metrics,currentPeriod:0,"onUpdate:modelValue":m,onValidChange:g[11]||(g[11]=M=>l.value=M)},null,8,["modelValue","metrics"])])):e.selectedMetric&&e.selectedMetric.formula?(W(),K("div",Wm," Formula: "+gt(b(e.selectedMetric)),1)):ct("",!0),g[87]||(g[87]=v("h4",{class:"font-semibold mb-1 text-sm"},"Values",-1)),e.currentType==="calculated"&&e.selectedMetric?(W(),K("div",Um,[...g[55]||(g[55]=[v("p",{class:"text-xs text-gray-600"},"This metric is calculated automatically based on the formula above. Values are shown in the table.",-1)])])):ct("",!0),e.editMode&&e.currentType==="variable"&&e.selectedMetric?(W(),K("div",Km,[g[59]||(g[59]=v("h5",{class:"font-semibold mb-2 text-sm"},"Values by Year and Month",-1)),g[60]||(g[60]=v("p",{class:"text-xs text-gray-600 mb-2"},"Enter specific values for any month/year combination. Missing values will be interpolated automatically.",-1)),v("div",Ym,[v("table",Gm,[v("thead",Xm,[v("tr",null,[g[56]||(g[56]=v("th",{class:"px-1 py-1 text-left font-medium text-xs"},"Year",-1)),(W(),K(Dt,null,fe(12,M=>v("th",{key:M,class:"px-1 py-1 text-center font-medium min-w-8 text-xs"}," M"+gt(M),1)),64))])]),v("tbody",null,[(W(),K(Dt,null,fe(5,M=>v("tr",{key:M},[v("td",qm,gt(M),1),(W(),K(Dt,null,fe(12,ot=>v("td",{key:ot,class:"px-1 py-1 text-center"},[v("input",{type:"number",step:"any",value:e.getMetricValue(M,ot),onInput:ut=>e.setMetricValue(M,ot,ut.target.value),class:Te({"w-full px-0.5 py-0.5 text-xs border-none rounded focus:outline-none focus:ring-1 focus:ring-blue-500":!0,"bg-blue-50":e.getMetricValue(M,ot)!=="","bg-white":e.getMetricValue(M,ot)===""}),placeholder:""},null,42,Jm)])),64))])),64))])])]),v("div",Zm,[g[58]||(g[58]=v("label",{class:"block text-xs font-medium mb-1"},"Interpolation Method",-1)),Pt(v("select",{"onUpdate:modelValue":g[12]||(g[12]=M=>e.selectedMetric.interpolation=M),onChange:g[13]||(g[13]=M=>O.$emit("recalculate")),class:"px-2 py-1.5 border border-gray-300 rounded text-sm"},[...g[57]||(g[57]=[v("option",{value:"none"},"No Interpolation (Individual Values)",-1),v("option",{value:"linear"},"Linear Interpolation",-1),v("option",{value:"curve"},"Curve Interpolation (Spline)",-1)])],544),[[te,e.selectedMetric.interpolation]])])])):ct("",!0),e.selectedMetric?(W(),K("div",Qm,[g[62]||(g[62]=v("label",{class:"block text-xs font-medium mb-1"},"Color",-1)),Pt(v("select",{"onUpdate:modelValue":g[14]||(g[14]=M=>e.selectedMetric.color=M),onChange:g[15]||(g[15]=M=>O.$emit("recalculate")),class:"w-full px-2 py-1.5 border border-gray-300 rounded text-sm"},[...g[61]||(g[61]=[En('<option value="#ffffff" data-v-cbffebb2>White</option><option value="#f8f9fa" data-v-cbffebb2>Light Gray</option><option value="#e9ecef" data-v-cbffebb2>Gray 100</option><option value="#dee2e6" data-v-cbffebb2>Gray 200</option><option value="#ced4da" data-v-cbffebb2>Gray 300</option><option value="#adb5bd" data-v-cbffebb2>Gray 400</option><option value="#6c757d" data-v-cbffebb2>Gray 500</option><option value="#495057" data-v-cbffebb2>Gray 600</option><option value="#343a40" data-v-cbffebb2>Gray 700</option><option value="#212529" data-v-cbffebb2>Gray 800</option><option value="#e3f2fd" data-v-cbffebb2>Light Blue</option><option value="#bbdefb" data-v-cbffebb2>Blue 100</option><option value="#90caf9" data-v-cbffebb2>Blue 200</option><option value="#64b5f6" data-v-cbffebb2>Blue 300</option><option value="#42a5f5" data-v-cbffebb2>Blue 400</option><option value="#2196f3" data-v-cbffebb2>Blue 500</option><option value="#1e88e5" data-v-cbffebb2>Blue 600</option><option value="#1976d2" data-v-cbffebb2>Blue 700</option><option value="#1565c0" data-v-cbffebb2>Blue 800</option><option value="#0d47a1" data-v-cbffebb2>Blue 900</option>',20)])],544),[[te,e.selectedMetric.color]])])):ct("",!0),e.selectedMetric?(W(),K("div",tb,[g[63]||(g[63]=v("label",{class:"block text-xs font-medium mb-1"},"Tags",-1)),e.editMode?(W(),K("div",eb,[Pt(v("input",{"onUpdate:modelValue":g[16]||(g[16]=M=>i.value=M),onKeydown:[Kf(D,["enter"]),P],placeholder:"Add a tag and press Enter",class:"w-full px-2 py-1.5 border border-gray-300 rounded text-sm"},null,544),[[Ne,i.value]]),v("div",sb,[(W(!0),K(Dt,null,fe(e.selectedMetric.tags,M=>(W(),K("span",{key:M,class:"inline-flex items-center px-1.5 py-0.5 rounded-full text-xs bg-blue-100 text-blue-800"},[$t(gt(M)+" ",1),v("button",{onClick:ot=>T(M),class:"ml-1 text-blue-600 hover:text-blue-800"}," × ",8,ib)]))),128))])])):(W(),K("div",nb,[(W(!0),K(Dt,null,fe(e.selectedMetric.tags,M=>(W(),K("span",{key:M,class:"inline-flex items-center px-1.5 py-0.5 rounded-full text-xs bg-gray-100 text-gray-800"},gt(M),1))),128)),e.selectedMetric.tags.length===0?(W(),K("span",ob,"No tags")):ct("",!0)]))])):ct("",!0),e.selectedMetric?(W(),K("div",rb,[g[86]||(g[86]=v("label",{class:"block text-sm font-medium mb-2"},"Value Formatting",-1)),e.editMode?(W(),K("div",lb,[v("div",null,[g[64]||(g[64]=v("label",{class:"block text-sm font-medium mb-1"},"Quick Presets",-1)),v("div",ab,[v("button",{onClick:g[17]||(g[17]=M=>H("default")),class:"px-3 py-1 text-xs bg-gray-100 hover:bg-gray-200 rounded"},"Default"),v("button",{onClick:g[18]||(g[18]=M=>H("currency")),class:"px-3 py-1 text-xs bg-blue-100 hover:bg-blue-200 rounded"},"Currency"),v("button",{onClick:g[19]||(g[19]=M=>H("percentage")),class:"px-3 py-1 text-xs bg-green-100 hover:bg-green-200 rounded"},"Percentage"),v("button",{onClick:g[20]||(g[20]=M=>H("compact")),class:"px-3 py-1 text-xs bg-purple-100 hover:bg-purple-200 rounded"},"Compact"),v("button",{onClick:g[21]||(g[21]=M=>H("scientific")),class:"px-3 py-1 text-xs bg-orange-100 hover:bg-orange-200 rounded"},"Scientific")])]),v("div",cb,[v("div",null,[g[66]||(g[66]=v("label",{class:"block text-sm font-medium mb-1"},"Decimal Places",-1)),Pt(v("select",{"onUpdate:modelValue":g[22]||(g[22]=M=>e.selectedMetric.format.decimals=M),onChange:g[23]||(g[23]=M=>O.$emit("recalculate")),class:"w-full px-3 py-2 border border-gray-300 rounded"},[...g[65]||(g[65]=[v("option",{value:0},"0 decimals",-1),v("option",{value:1},"1 decimal",-1),v("option",{value:2},"2 decimals",-1),v("option",{value:3},"3 decimals",-1)])],544),[[te,e.selectedMetric.format.decimals]])]),v("div",null,[g[68]||(g[68]=v("label",{class:"block text-sm font-medium mb-1"},"Rounding",-1)),Pt(v("select",{"onUpdate:modelValue":g[24]||(g[24]=M=>e.selectedMetric.format.rounding=M),onChange:g[25]||(g[25]=M=>O.$emit("recalculate")),class:"w-full px-3 py-2 border border-gray-300 rounded"},[...g[67]||(g[67]=[v("option",{value:"round"},"Round",-1),v("option",{value:"floor"},"Floor",-1),v("option",{value:"ceil"},"Ceil",-1),v("option",{value:"trunc"},"Truncate",-1)])],544),[[te,e.selectedMetric.format.rounding]])])]),v("div",ub,[v("div",null,[g[70]||(g[70]=v("label",{class:"block text-sm font-medium mb-1"},"Currency Symbol",-1)),Pt(v("select",{"onUpdate:modelValue":g[26]||(g[26]=M=>e.selectedMetric.format.currency=M),onChange:g[27]||(g[27]=M=>O.$emit("recalculate")),class:"w-full px-3 py-2 border border-gray-300 rounded"},[...g[69]||(g[69]=[En('<option value="" data-v-cbffebb2>None</option><option value="$" data-v-cbffebb2>$ (USD)</option><option value="€" data-v-cbffebb2>€ (EUR)</option><option value="£" data-v-cbffebb2>£ (GBP)</option><option value="¥" data-v-cbffebb2>¥ (JPY)</option><option value="custom" data-v-cbffebb2>Custom...</option>',6)])],544),[[te,e.selectedMetric.format.currency]]),e.selectedMetric.format.currency==="custom"?Pt((W(),K("input",{key:0,"onUpdate:modelValue":g[28]||(g[28]=M=>r.value=M),onInput:N,placeholder:"Enter symbol",class:"w-full mt-1 px-3 py-2 border border-gray-300 rounded"},null,544)),[[Ne,r.value]]):ct("",!0)]),v("div",null,[g[72]||(g[72]=v("label",{class:"block text-sm font-medium mb-1"},"Compact Notation",-1)),Pt(v("select",{"onUpdate:modelValue":g[29]||(g[29]=M=>e.selectedMetric.format.compact=M),onChange:g[30]||(g[30]=M=>O.$emit("recalculate")),class:"w-full px-3 py-2 border border-gray-300 rounded"},[...g[71]||(g[71]=[v("option",{value:!1},"Disabled",-1),v("option",{value:!0},"Enabled (K/M/B/T)",-1)])],544),[[te,e.selectedMetric.format.compact]])])]),v("div",fb,[v("div",null,[g[74]||(g[74]=v("label",{class:"block text-sm font-medium mb-1"},"Percentage",-1)),Pt(v("select",{"onUpdate:modelValue":g[31]||(g[31]=M=>e.selectedMetric.format.percentage=M),onChange:g[32]||(g[32]=M=>O.$emit("recalculate")),class:"w-full px-3 py-2 border border-gray-300 rounded"},[...g[73]||(g[73]=[v("option",{value:!1},"No",-1),v("option",{value:!0},"Yes (add %)",-1)])],544),[[te,e.selectedMetric.format.percentage]])]),v("div",null,[g[76]||(g[76]=v("label",{class:"block text-sm font-medium mb-1"},"Scientific Notation",-1)),Pt(v("select",{"onUpdate:modelValue":g[33]||(g[33]=M=>e.selectedMetric.format.scientific=M),onChange:g[34]||(g[34]=M=>O.$emit("recalculate")),class:"w-full px-3 py-2 border border-gray-300 rounded"},[...g[75]||(g[75]=[v("option",{value:!1},"No",-1),v("option",{value:!0},"Yes",-1)])],544),[[te,e.selectedMetric.format.scientific]])])]),v("div",hb,[v("div",null,[g[78]||(g[78]=v("label",{class:"block text-sm font-medium mb-1"},"Color Coding",-1)),Pt(v("select",{"onUpdate:modelValue":g[35]||(g[35]=M=>e.selectedMetric.format.colorize=M),onChange:g[36]||(g[36]=M=>O.$emit("recalculate")),class:"w-full px-3 py-2 border border-gray-300 rounded"},[...g[77]||(g[77]=[v("option",{value:!1},"No colors",-1),v("option",{value:!0},"Green/Red for +/-",-1)])],544),[[te,e.selectedMetric.format.colorize]])]),v("div",null,[g[79]||(g[79]=v("label",{class:"block text-sm font-medium mb-1"},"Min Threshold",-1)),Pt(v("input",{"onUpdate:modelValue":g[37]||(g[37]=M=>e.selectedMetric.format.minThreshold=M),onInput:g[38]||(g[38]=M=>O.$emit("recalculate")),type:"number",step:"0.01",min:"0",placeholder:"0.01",class:"w-full px-3 py-2 border border-gray-300 rounded"},null,544),[[Ne,e.selectedMetric.format.minThreshold,void 0,{number:!0}]]),g[80]||(g[80]=v("p",{class:"text-xs text-gray-500 mt-1"},'Show "< value" for smaller numbers',-1))])]),v("div",null,[g[81]||(g[81]=v("label",{class:"block text-sm font-medium mb-1"},"Custom Suffix",-1)),Pt(v("input",{"onUpdate:modelValue":g[39]||(g[39]=M=>e.selectedMetric.format.suffix=M),onInput:g[40]||(g[40]=M=>O.$emit("recalculate")),placeholder:"e.g., per month, total, etc.",class:"w-full px-3 py-2 border border-gray-300 rounded"},null,544),[[Ne,e.selectedMetric.format.suffix]])]),v("div",db,[g[85]||(g[85]=v("label",{class:"block text-sm font-medium mb-2"},"Preview",-1)),v("div",gb,[v("div",null,[g[82]||(g[82]=$t("Positive: ",-1)),v("span",pb,gt(z(1234.567)),1)]),v("div",null,[g[83]||(g[83]=$t("Negative: ",-1)),v("span",mb,gt(z(-1234.567)),1)]),v("div",null,[g[84]||(g[84]=$t("Small: ",-1)),v("span",bb,gt(z(.00123)),1)])])])])):(W(),K("div",xb,[v("div",yb,[e.selectedMetric.format.currency?(W(),K("span",vb," Currency: "+gt(e.selectedMetric.format.currency==="custom"?r.value:e.selectedMetric.format.currency),1)):ct("",!0),e.selectedMetric.format.percentage?(W(),K("span",_b," Percentage ")):ct("",!0),e.selectedMetric.format.compact?(W(),K("span",wb," Compact ")):ct("",!0),e.selectedMetric.format.scientific?(W(),K("span",Mb," Scientific ")):ct("",!0),e.selectedMetric.format.colorize?(W(),K("span",Sb," Color Coding ")):ct("",!0),e.selectedMetric.format.decimals!==2?(W(),K("span",kb,gt(e.selectedMetric.format.decimals)+" decimals ",1)):ct("",!0),e.selectedMetric.format.suffix?(W(),K("span",Cb,' "'+gt(e.selectedMetric.format.suffix)+'" ',1)):ct("",!0)]),q.value?ct("",!0):(W(),K("p",Tb,"Default formatting"))]))])):ct("",!0)])):ct("",!0)]))}},Pb=Ko(Ob,[["__scopeId","data-v-cbffebb2"]]),Ab={class:"bg-white rounded p-3 shadow"},Db={class:"relative"},Eb=["id"],Ib={__name:"ChartView",props:{chartId:{type:String,default:"chart"}},setup(e){return(t,s)=>(W(),K("div",Ab,[v("div",Db,[v("canvas",{id:e.chartId,width:"800",height:"180",class:"w-full h-auto border border-gray-200 rounded"},null,8,Eb)])]))}},kc=e=>{if(!e||e.type!=="variable"||!e.values)return new Array(60).fill(0);const t=new Array(60).fill(0),s=[];return Object.entries(e.values).forEach(([i,n])=>{const[o,r]=i.split("-").map(Number),l=(o-1)*12+(r-1);l>=0&&l<60&&s.push({index:l,value:Number(n)})}),s.sort((i,n)=>i.index-n.index),s.length===0?t:e.interpolation==="none"?Fb(s,t):e.interpolation==="curve"?Lb(s,t):Rb(s,t)},Fb=(e,t)=>(e.forEach(s=>{t[s.index]=s.value}),t),Rb=(e,t)=>{for(let s=0;s<e.length-1;s++){const i=e[s],n=e[s+1];t[i.index]=i.value,t[n.index]=n.value;const o=n.index-i.index,r=(n.value-i.value)/o;for(let l=1;l<o;l++)t[i.index+l]=i.value+r*l}for(let s=0;s<60;s++)if(t[s]===0&&e.length>0){const i=e.reduce((n,o)=>Math.abs(o.index-s)<Math.abs(n.index-s)?o:n);t[s]=i.value}return t},Lb=(e,t)=>{e.forEach(s=>{t[s.index]=s.value});for(let s=0;s<e.length-1;s++){const i=e[Math.max(0,s-1)],n=e[s],o=e[s+1],r=e[Math.min(e.length-1,s+2)],l=o.index-n.index;if(l<=1)continue;const a=o.index-i.index,c=r.index-n.index,u=a>0?(o.value-i.value)/a*.5:0,f=c>0?(r.value-n.value)/c*.5:0;for(let h=1;h<l;h++){const d=h/l,b=2*d*d*d-3*d*d+1,x=d*d*d-2*d*d+d,m=-2*d*d*d+3*d*d,_=d*d*d-d*d;t[n.index+h]=b*n.value+x*u*(o.index-n.index)+m*o.value+_*f*(o.index-n.index)}}return t};function $b(e,t,s,i,n,o,r,l){const a=Tt([]),c=Tt(""),u=se(()=>new Yo(e)),f=se(()=>!t.value||e.value.length===0?null:e.value.find(k=>k.id===t.value)),h=k=>k.toLowerCase().replace(/[^a-z0-9]/g,"_").replace(/_+/g,"_").replace(/^_|_$/g,""),d=(k,L,F=null)=>{let S=h(k);S||(S="metric");let X=1,G=S;for(;L.some(U=>U.slug===G&&U.id!==F);)G=`${S}_${X}`,X++;return G},b=k=>{t.value=k,s.value=!0,f.value&&(c.value=f.value.type,f.value.type==="calculated"&&f.value.formula?kt(f.value.formula):(i.value="",n.value=0,o.value="+",r.value="",l.value=0))},x=k=>e.value.findIndex(L=>L.id===k),m=({oldIndex:k,newIndex:L})=>{const F=e.value.splice(k,1)[0];e.value.splice(L,0,F)},_=()=>{if(confirm(`Are you sure you want to delete "${f.value.name}"?`)){const k=x(t.value);if(k>-1)if(e.value.splice(k,1),e.value.length>0){const L=Math.min(k,e.value.length-1);t.value=e.value[L].id}else t.value=null}},C=()=>{s.value&&Z(),s.value=!s.value},D=()=>{const k=a.value.indexOf(f.value.id);k>-1?a.value.splice(k,1):a.value.push(f.value.id)},T=k=>{f.value.type=k.target.value,P()},P=()=>{f.value.type==="calculated"?(f.value.formula="",f.value.values={},i.value="",n.value=0,o.value="+",r.value="",l.value=0):f.value.type==="variable"&&(f.value.formula=void 0,f.value.values||(f.value.values={}),i.value="",n.value=0,o.value="+",r.value="",l.value=0)},H=(k,L=null)=>{try{const F=u.value.validate(k);if(!F.valid)return[];const S=[],X=G=>{if(G.type==="metric"){const U=e.value.find(V=>V.slug===G.name);U&&(U.id!==L||G.offset>=0)&&S.push(U.id)}else G.type==="binary"?(X(G.left),X(G.right)):G.type==="unary"?X(G.operand):G.type==="function"&&G.arguments.forEach(U=>X(U))};return X(F.ast),[...new Set(S)]}catch{const S=[],X=k.split(" ");if(X.length===3){const[G,,U]=X,[V,ft]=G.split(":"),[tt,It]=U.split(":"),p=parseInt(ft)||0,y=parseInt(It)||0,w=e.value.find(A=>A.slug===V),E=e.value.find(A=>A.slug===tt);w&&(w.id!==L||p>=0)&&S.push(w.id),E&&(E.id!==L||y>=0)&&S.push(E.id)}return S}},N=(k,L)=>{const F={};e.value.forEach(U=>{U.type==="calculated"&&U.formula&&U.id!==k?F[U.id]=H(U.formula,U.id):F[U.id]=[]}),F[k]=L;const S=new Set,X=new Set,G=U=>{if(X.has(U))return!0;if(S.has(U))return!1;S.add(U),X.add(U);for(const V of F[U]||[])if(G(V))return!0;return X.delete(U),!1};return G(k)},z=k=>{if(!k||!k.trim()){f.value.formula="";return}const L=u.value.validate(k.trim());if(!L.valid){alert(`Invalid formula: ${L.error}`);return}const F=H(k.trim(),f.value.id);if(N(f.value.id,F)){alert("This formula would create a circular dependency. Please choose different metrics.");return}f.value.formula=k.trim()},q=(k,L,F)=>{if(!f.value||f.value.type!=="variable")return;const S=`${k}-${L}`;f.value.values||(f.value.values={}),F===""||F===null||F===void 0?delete f.value.values[S]:f.value.values[S]=parseFloat(F)||0},O=(k,L)=>{if(!f.value||!f.value.values)return"";const F=`${k}-${L}`;return f.value.values[F]!==void 0?f.value.values[F]:""},g=()=>{const k="custom_"+Date.now(),L="New Metric",F=d(L,e.value),S={id:k,name:L,slug:F,description:"Custom metric description",color:"#f8f9fa",type:"variable",values:{},interpolation:"linear",tags:[],format:{decimals:2,compact:!1,currency:"",percentage:!1,scientific:!1,suffix:"",rounding:"round",colorize:!1,minThreshold:.01}};e.value.push(S),t.value=k,s.value=!0},M=()=>{},ot=(k,L)=>{if(typeof k!="number"||isNaN(k))return"0";if(L.minThreshold&&Math.abs(k)<L.minThreshold&&k!==0)return k>0?`< ${L.minThreshold}`:`> -${L.minThreshold}`;let F=k;switch(L.rounding){case"floor":F=Math.floor(F);break;case"ceil":F=Math.ceil(F);break;case"trunc":F=Math.trunc(F);break;case"round":default:F=Math.round(F);break}if(L.compact){const S=Math.abs(F);if(S>=1e12)return F=F/1e12,ut(F,L,"T");if(S>=1e9)return F=F/1e9,ut(F,L,"B");if(S>=1e6)return F=F/1e6,ut(F,L,"M");if(S>=1e3)return F=F/1e3,ut(F,L,"K")}return L.scientific?F.toExponential(L.decimals):ut(F,L)},ut=(k,L,F="")=>{let S="";const X=Math.abs(k);let G=L.decimals;return!L.scientific&&G>0&&X>0&&(X>=100?G=Math.min(G,0):X>=10&&(G=Math.min(G,1))),G===0?S=Math.round(k).toString():(S=k.toFixed(G),S=S.replace(/\.?0+$/,"")),S+=F,L.currency&&(S=L.currency+S),L.percentage&&(S+="%"),L.suffix&&(S+=" "+L.suffix),S},rt=k=>{if(!k||k.type!=="calculated")return"";if(k.id==="totalCustomers")return"Previous total + New customers per month";if(k.id==="totalUnits")return"Total customers × Units per customer per month";if(k.id==="salesRevenue")return"Total units sold × Price per unit";if(k.id==="totalInflow")return"Sales revenue + Other inflows per month";if(k.id==="totalCogs")return"Total units sold × COGS per unit";if(k.id==="totalOutflow")return"Total COGS + Fixed costs + Other outflows per month";if(k.id==="cashBalance")return"Previous balance + Total inflow - Total outflow";const L=k.formula.split(" ");if(L.length===3){const[F,S,X]=L,[G,U]=F.split(":"),[V,ft]=X.split(":"),tt=parseInt(U)||0,It=parseInt(ft)||0,p=e.value.find(w=>w.slug===G),y=e.value.find(w=>w.slug===V);if(p&&y){const w=tt===0?"":tt<0?` (${Math.abs(tt)} mes${Math.abs(tt)>1?"es":""} atrás)`:` (${tt} mes${tt>1?"es":""} adelante)`,E=It===0?"":It<0?` (${Math.abs(It)} mes${Math.abs(It)>1?"es":""} atrás)`:` (${It} mes${It>1?"es":""} adelante)`;return`${p.name}${w} ${S} ${y.name}${E}`}}return k.formula},st=()=>{let k=`# Projections

`;k+=`* tags:: [[${e.value.map(V=>V.name).join("]], [[")}]]
`,k+=`* selectedMetricId:: ${t.value||""}
`,k+=`* viewMode:: monthly
`,k+=`* chartMetrics:: ${JSON.stringify(a.value)}

`,k+=`* ## Business Metrics (Metrics Array)

`,e.value.forEach(V=>{k+=`* [[${V.name}]]
`,k+=`  * id:: ${V.id}
`,k+=`  * slug:: ${V.slug}
`,k+=`  * description:: ${V.description}
`,k+=`  * type:: ${V.type}
`,k+=`  * unit:: ${V.unit||""}
`,k+=`  * color:: ${V.color}
`,k+=`  * interpolation:: ${V.interpolation}
`,k+=`  * tags:: [[${V.tags.join("]], [[")}]]
`,V.type==="calculated"&&V.formula?k+=`  * formula:: ${V.formula}
`:V.type==="variable"&&V.values&&(k+=`  * values::
`,Object.entries(V.values).forEach(([ft,tt])=>{k+=`    * ${ft}:: ${tt}
`})),V.format&&(k+=`  * format::
`,Object.entries(V.format).forEach(([ft,tt])=>{k+=`    * ${ft}:: ${tt}
`})),k+=`
`});const S=`projections-data-${new Date().toISOString().replace(/[:.]/g,"-").slice(0,19)}.md`,X=new Blob([k],{type:"text/markdown"}),G=URL.createObjectURL(X),U=document.createElement("a");U.href=G,U.download=S,U.click(),URL.revokeObjectURL(G)},Z=(k="json")=>{if(k==="markdown"){st();return}const L={metrics:e.value,selectedMetricId:t.value,viewMode:"monthly",chartMetrics:a.value},X=`projections-data-${new Date().toISOString().replace(/[:.]/g,"-").slice(0,19)}.json`,G=new Blob([JSON.stringify(L,null,2)],{type:"application/json"}),U=URL.createObjectURL(G),V=document.createElement("a");V.href=U,V.download=X,V.click(),URL.revokeObjectURL(U)},nt=k=>{const L=k.split(`
`),F={metrics:[],selectedMetricId:null,viewMode:"monthly",chartMetrics:[]};let S=null,X=!1;for(let G=0;G<L.length;G++){const U=L[G],V=U.trim();if(!V.startsWith("* tags::")){if(V.startsWith("* selectedMetricId::"))F.selectedMetricId=V.split("::")[1].trim();else if(V.startsWith("* viewMode::"))F.viewMode=V.split("::")[1].trim();else if(V.startsWith("* chartMetrics::")){const ft=V.split("::")[1].trim();if(ft.startsWith("[")&&ft.endsWith("]")){const tt=ft.slice(1,-1).split(",").map(It=>It.trim());F.chartMetrics=tt}else F.chartMetrics=JSON.parse(ft)}}if(V==="# Projections"||(V==="* ## Business Metrics (Metrics Array)"||V==="## Business Metrics (Metrics Array)"?X=!0:V.startsWith("# ")&&V!=="# Projections"&&(X=!1)),X&&V.startsWith("* [[")&&V.includes("]]")){const ft=V.match(/\* \[\[([^\]]+)\]\]/);ft&&(S&&F.metrics.push(S),S={name:ft[1],id:"",slug:"",description:"",type:"variable",unit:"",color:"#f8f9fa",interpolation:"linear",tags:[],values:{},format:{decimals:2,compact:!1,currency:"",percentage:!1,scientific:!1,suffix:"",rounding:"round",colorize:!1,minThreshold:.01}})}else if(S&&(U.startsWith("    * ")||U.startsWith("  * ")||U.startsWith(" * "))&&V.includes("::")){const ft=U.startsWith("    * ")?6:U.startsWith("  * ")?4:3,[tt,...It]=U.substring(ft).split("::"),p=It.join("::").trim();switch(tt.trim()){case"id":S.id=p;break;case"slug":S.slug=p;break;case"description":S.description=p;break;case"type":S.type=p;break;case"unit":S.unit=p;break;case"color":S.color=p;break;case"interpolation":S.interpolation=p;break;case"tags":p.startsWith("[[")&&p.includes("]], [[")?S.tags=p.split("]], [[").map(y=>y.replace(/\[\[|\]\]/g,"").trim()):S.tags=JSON.parse(p);break;case"formula":S.formula=p;break}}else if(S&&(U.startsWith("      * ")||U.startsWith("    * ")||U.startsWith("  * "))&&V.includes("::")){let ft=4;U.startsWith("      * ")?ft=8:U.startsWith("    * ")&&(ft=6);const[tt,...It]=U.substring(ft).split("::"),p=It.join("::").trim();S.values&&tt.match(/^\d+-\d+$/)?S.values[tt]=parseFloat(p):(tt==="decimals"||tt==="compact"||tt==="currency"||tt==="percentage"||tt==="scientific"||tt==="suffix"||tt==="rounding"||tt==="colorize"||tt==="minThreshold")&&(tt==="decimals"||tt==="minThreshold"?S.format[tt]=parseFloat(p):tt==="compact"||tt==="percentage"||tt==="scientific"||tt==="colorize"?S.format[tt]=p==="true":S.format[tt]=p)}}return S&&F.metrics.push(S),F},Ot=k=>{const L=k.target.files[0];if(L){const F=new FileReader;F.onload=S=>{var X;try{let G;L.name.endsWith(".md")?G=nt(S.target.result):G=JSON.parse(S.target.result);const U=(G.metrics||[]).map(V=>{const ft={...V,color:V.color||"#f8f9fa",unit:V.unit||"",values:V.values||{},interpolation:V.interpolation||"linear",tags:V.tags||[],format:V.format||{decimals:2,compact:!1,currency:"",percentage:!1,scientific:!1,suffix:"",rounding:"round",colorize:!1,minThreshold:.01}};return ft.slug||(ft.slug=d(ft.name,e.value)),ft});e.value.splice(0,e.value.length,...U),t.value=G.selectedMetricId||null,a.value=G.chartMetrics||[],!t.value&&e.value.length>0&&(t.value=((X=e.value.find(V=>V.type==="variable"))==null?void 0:X.id)||e.value[0].id),M(),setTimeout(()=>{e.value=[...e.value]},10)}catch(G){console.error("Error loading file:",G),alert("Error loading file: "+G.message)}},F.readAsText(L)}},kt=k=>{const L=k.split(" ");if(L.length===3){const[F,S,X]=L,[G,U]=F.split(":"),[V,ft]=X.split(":");i.value=G,n.value=parseInt(U)||0,o.value=S,r.value=V,l.value=parseInt(ft)||0;return}i.value="",n.value=0,o.value="+",r.value="",l.value=0};return{chartMetrics:a,currentType:c,selectedMetric:f,selectMetric:b,getMetricIndex:x,moveMetric:m,deleteMetric:_,toggleEditMode:C,toggleChart:D,updateType:T,onTypeChange:P,updateFormula:z,setMetricValue:q,getMetricValue:O,interpolateValues:kc,addMetric:g,recalculate:M,formatValue:ot,getDetailedFormula:rt,exportData:Z,exportToMarkdown:st,importData:Ot,parseFormulaForBuilder:kt,formulaParser:u}}function zb(){const e=i=>{if(i.length===0)return[];const n=61,o={},r=["totalUnits","salesRevenue","totalInflow","totalCogs","totalOutflow","cashBalance"];i.forEach(l=>{o[l.id]=new Array(n).fill(0)}),i.forEach(l=>{if(l.type==="variable"){const a=kc(l);o[l.id]=a}}),o.cashBalance&&(o.cashBalance[0]=0),i.forEach(l=>{l.type==="calculated"&&l.formula&&!r.includes(l.id)&&(o[l.id][0]=t(l.formula,0,o,i))});for(let l=1;l<n;l++)o.totalUnits&&o.totalCustomers&&o.unitsPerCustomer&&(o.totalUnits[l]=o.totalCustomers[l]*o.unitsPerCustomer[l]),o.salesRevenue&&o.totalUnits&&o.pricePerUnit&&(o.salesRevenue[l]=o.totalUnits[l]*o.pricePerUnit[l]),o.totalInflow&&o.salesRevenue&&o.otherInflows&&(o.totalInflow[l]=o.salesRevenue[l]+o.otherInflows[l]),o.totalCogs&&o.totalUnits&&o.cogsPerUnit&&(o.totalCogs[l]=o.totalUnits[l]*o.cogsPerUnit[l]),o.totalOutflow&&o.totalCogs&&o.fixedCosts&&o.otherOutflows&&(o.totalOutflow[l]=o.totalCogs[l]+o.fixedCosts[l]+o.otherOutflows[l]),o.cashBalance&&o.totalInflow&&o.totalOutflow&&(o.cashBalance[l]=o.cashBalance[l-1]+o.totalInflow[l]-o.totalOutflow[l]),i.forEach(a=>{a.type==="calculated"&&a.formula&&!r.includes(a.id)&&(o[a.id][l]=t(a.formula,l,o,i))});return i.map(l=>{const a=l.unit==="$",c=l.unit==="%";return{name:l.name,values:o[l.id],isCurrency:a,isPercentage:c,yearlyAggregation:l.yearlyAggregation||"last"}})},t=(i,n,o,r)=>{try{const c=new Yo(r),u=c.validate(i);if(u.valid)return c.evaluate(u.ast,n)}catch(c){console.warn("Enhanced formula parser failed, falling back to legacy parser:",c.message)}const l=i.split(" ");if(l.length<3||l.length%2===0)return 0;let a=s(l[0],n,o,r);for(let c=1;c<l.length;c+=2){const u=l[c],f=s(l[c+1],n,o,r);u==="+"?a+=f:u==="*"?a*=f:u==="/"?a/=f:u==="-"&&(a-=f)}return a},s=(i,n,o,r)=>{if(i.includes(":")){const[l,a]=i.split(":"),c=parseInt(a)||0,u=r.find(f=>f.slug===l);if(u&&o[u.id]){const f=n+c;return f>=0&&f<o[u.id].length?o[u.id][f]:0}}else return parseFloat(i)||0;return 0};return{calculateProjections:e}}const Bb={id:"app",class:"h-screen flex bg-gray-50 text-sm"},Hb={class:"flex-1 p-3 overflow-y-auto"},Nb={class:"flex gap-2 mb-3 flex-wrap"},Vb={key:0,class:"flex items-center gap-1"},jb={key:0,class:"bg-white rounded p-4 shadow mb-3"},Wb={key:1,class:"sticky top-0 z-10 bg-gray-50 pb-3"},Ub={key:0,class:"w-1/3 bg-white p-3 border-l border-gray-200 overflow-y-auto"},Kb={__name:"App",setup(e){Me.register(uo,fo,Wi,Vs,Ni,Fp,Vp,Ep);const t=Tt([]),s=Tt(null),i=Tt("monthly"),n=Tt(!1),o=Tt(""),r=Tt(0),l=Tt("+"),a=Tt(""),c=Tt(0),u=Array.from({length:121},(F,S)=>S-60),f=Tt(!1),h=Tt("json"),d=Tt(!1),{calculateProjections:b}=zb(),{chartMetrics:x,currentType:m,selectedMetric:_,selectMetric:C,toggleEditMode:D,toggleChart:T,updateType:P,updateFormula:H,setMetricValue:N,getMetricValue:z,addMetric:q,recalculate:O,formatValue:g,exportData:M,importData:ot}=$b(t,s,n,o,r,l,a,c),ut=se(()=>i.value==="monthly"?Array.from({length:61},(F,S)=>S):Array.from({length:5},(F,S)=>S+1)),rt=se(()=>b(t.value));let st=null,Z=new Set;const nt=()=>{const F=document.getElementById("chart");if(!F)return;const S=F.getContext("2d"),G=rt.value.filter((U,V)=>x.value.includes(t.value[V].id)).map((U,V)=>({label:U.name,data:i.value==="monthly"?U.values:U.values.filter((ft,tt)=>tt%12===0&&tt>0),borderColor:`hsl(${V*60}, 70%, 50%)`,fill:!1,hidden:Z.has(U.name)}));st&&(st.data.datasets.forEach((U,V)=>{U.hidden?Z.add(U.label):Z.delete(U.label)}),st.destroy()),st=new Me(S,{type:"line",data:{labels:ut.value.map(U=>`${i.value==="monthly"?"Month":"Year"} ${U}`),datasets:G},options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{beginAtZero:!0}},plugins:{legend:{display:!0,position:"top",onClick:(U,V,ft)=>{const tt=V.datasetIndex,It=ft.chart.data.datasets[tt];It.hidden?Z.delete(It.label):Z.add(It.label),Me.defaults.plugins.legend.onClick(U,V,ft)}}}}})};To(()=>{nt()}),$e(rt,()=>{nt()}),$e([x,i],()=>{const F=rt.value.filter((S,X)=>x.value.includes(t.value[X].id)).map(S=>S.name);Z.forEach(S=>{F.includes(S)||Z.delete(S)}),nt()},{deep:!0});const Ot=F=>{const S=t.value.findIndex(X=>X.id===F);if(S>0){const X=t.value[S];t.value[S]=t.value[S-1],t.value[S-1]=X}},kt=F=>{const S=t.value.findIndex(X=>X.id===F);if(S>=0&&S<t.value.length-1){const X=t.value[S];t.value[S]=t.value[S+1],t.value[S+1]=X}},k=()=>{f.value=!f.value},L=F=>{f.value=F};return(F,S)=>(W(),K("div",Bb,[v("div",Hb,[v("div",Nb,[v("button",{onClick:S[0]||(S[0]=X=>i.value=i.value==="monthly"?"yearly":"monthly"),class:"px-3 py-1.5 bg-blue-600 text-white rounded text-xs hover:bg-blue-700"},gt(i.value==="monthly"?"Yearly":"Monthly"),1),v("button",{onClick:S[1]||(S[1]=(...X)=>Ft(q)&&Ft(q)(...X)),class:"px-3 py-1.5 bg-blue-600 text-white rounded text-xs hover:bg-blue-700"}," Add Metric "),v("button",{onClick:k,class:Te({"px-3 py-1.5 rounded text-xs":!0,"bg-gray-600 text-white hover:bg-gray-700":!f.value,"bg-gray-800 text-white":f.value})},[...S[7]||(S[7]=[v("i",{class:"fas fa-filter mr-1"},null,-1),$t(" Filters ",-1)])],2),v("button",{onClick:S[2]||(S[2]=X=>d.value=!d.value),class:"px-3 py-1.5 bg-gray-600 text-white rounded text-xs hover:bg-gray-700"},[v("i",{class:Te({"fas mr-1":!0,"fa-angle-right":d.value,"fa-angle-left":!d.value})},null,2),$t(" "+gt(d.value?"Show":"Hide")+" Panel ",1)]),v("input",{type:"file",onChange:S[3]||(S[3]=(...X)=>Ft(ot)&&Ft(ot)(...X)),accept:".json,.md",class:"hidden",ref:"fileInput"},null,544),v("button",{onClick:S[4]||(S[4]=X=>F.$refs.fileInput.click()),class:"px-3 py-1.5 bg-green-600 text-white rounded text-xs hover:bg-green-700"}," Import "),t.value.length>0?(W(),K("div",Vb,[Pt(v("select",{"onUpdate:modelValue":S[5]||(S[5]=X=>h.value=X),class:"px-2 py-1.5 border border-gray-300 rounded text-xs"},[...S[8]||(S[8]=[v("option",{value:"json"},"JSON",-1),v("option",{value:"markdown"},"MD",-1)])],512),[[te,h.value]]),v("button",{onClick:S[6]||(S[6]=X=>Ft(M)(h.value)),class:"px-3 py-1.5 bg-purple-600 text-white rounded text-xs hover:bg-purple-700"}," Export ")])):ct("",!0)]),t.value.length===0?(W(),K("div",jb,[...S[9]||(S[9]=[v("h2",{class:"text-lg mb-2"},"Welcome to Financial Projections Tool",-1),v("p",{class:"text-sm"},"Import a JSON or Markdown data file to load your business metrics and start analyzing projections.",-1)])])):ct("",!0),t.value.length>0?(W(),K("div",Wb,[ie(Ib)])):ct("",!0),t.value.length>0?(W(),La(gm,{key:2,metrics:t.value,projections:rt.value,periods:ut.value,"view-mode":i.value,"selected-metric-id":s.value,"format-value":Ft(g),"is-filter-expanded":f.value,onSelectMetric:Ft(C),onToggleFilter:L},null,8,["metrics","projections","periods","view-mode","selected-metric-id","format-value","is-filter-expanded","onSelectMetric"])):ct("",!0)]),d.value?ct("",!0):(W(),K("div",Ub,[ie(Pb,{"selected-metric":Ft(_),metrics:t.value,"edit-mode":n.value,"current-type":Ft(m),"formula-metric1":o.value,"formula-offset1":r.value,"formula-operation":l.value,"formula-metric2":a.value,"formula-offset2":c.value,"offset-options":Ft(u),"chart-metrics":Ft(x),"get-metric-value":Ft(z),"set-metric-value":Ft(N),onToggleEdit:Ft(D),onToggleChart:Ft(T),onUpdateType:Ft(P),onUpdateFormula:Ft(H),onRecalculate:Ft(O),onMoveMetricUp:Ot,onMoveMetricDown:kt},null,8,["selected-metric","metrics","edit-mode","current-type","formula-metric1","formula-offset1","formula-operation","formula-metric2","formula-offset2","offset-options","chart-metrics","get-metric-value","set-metric-value","onToggleEdit","onToggleChart","onUpdateType","onUpdateFormula","onRecalculate"])]))]))}};Xf(Kb).mount("#app");
